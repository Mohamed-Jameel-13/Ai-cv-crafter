function uk(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Gh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ig={exports:{}},qu={},sg={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function ck(){if(NE)return nt;NE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,I={};function R(H,Z,de){this.props=H,this.context=Z,this.refs=I,this.updater=de||_}R.prototype.isReactComponent={},R.prototype.setState=function(H,Z){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Z,"setState")},R.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function P(){}P.prototype=R.prototype;function V(H,Z,de){this.props=H,this.context=Z,this.refs=I,this.updater=de||_}var U=V.prototype=new P;U.constructor=V,S(U,R.prototype),U.isPureReactComponent=!0;var G=Array.isArray,O=Object.prototype.hasOwnProperty,Y={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(H,Z,de){var Ee,Ie={},ze=null,Se=null;if(Z!=null)for(Ee in Z.ref!==void 0&&(Se=Z.ref),Z.key!==void 0&&(ze=""+Z.key),Z)O.call(Z,Ee)&&!D.hasOwnProperty(Ee)&&(Ie[Ee]=Z[Ee]);var Ye=arguments.length-2;if(Ye===1)Ie.children=de;else if(1<Ye){for(var Me=Array(Ye),rt=0;rt<Ye;rt++)Me[rt]=arguments[rt+2];Ie.children=Me}if(H&&H.defaultProps)for(Ee in Ye=H.defaultProps,Ye)Ie[Ee]===void 0&&(Ie[Ee]=Ye[Ee]);return{$$typeof:n,type:H,key:ze,ref:Se,props:Ie,_owner:Y.current}}function k(H,Z){return{$$typeof:n,type:H.type,key:Z,ref:H.ref,props:H.props,_owner:H._owner}}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function B(H){var Z={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(de){return Z[de]})}var F=/\/+/g;function L(H,Z){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):Z.toString(36)}function Ce(H,Z,de,Ee,Ie){var ze=typeof H;(ze==="undefined"||ze==="boolean")&&(H=null);var Se=!1;if(H===null)Se=!0;else switch(ze){case"string":case"number":Se=!0;break;case"object":switch(H.$$typeof){case n:case e:Se=!0}}if(Se)return Se=H,Ie=Ie(Se),H=Ee===""?"."+L(Se,0):Ee,G(Ie)?(de="",H!=null&&(de=H.replace(F,"$&/")+"/"),Ce(Ie,Z,de,"",function(rt){return rt})):Ie!=null&&(M(Ie)&&(Ie=k(Ie,de+(!Ie.key||Se&&Se.key===Ie.key?"":(""+Ie.key).replace(F,"$&/")+"/")+H)),Z.push(Ie)),1;if(Se=0,Ee=Ee===""?".":Ee+":",G(H))for(var Ye=0;Ye<H.length;Ye++){ze=H[Ye];var Me=Ee+L(ze,Ye);Se+=Ce(ze,Z,de,Me,Ie)}else if(Me=x(H),typeof Me=="function")for(H=Me.call(H),Ye=0;!(ze=H.next()).done;)ze=ze.value,Me=Ee+L(ze,Ye++),Se+=Ce(ze,Z,de,Me,Ie);else if(ze==="object")throw Z=String(H),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Se}function Ve(H,Z,de){if(H==null)return H;var Ee=[],Ie=0;return Ce(H,Ee,"","",function(ze){return Z.call(de,ze,Ie++)}),Ee}function Pe(H){if(H._status===-1){var Z=H._result;Z=Z(),Z.then(function(de){(H._status===0||H._status===-1)&&(H._status=1,H._result=de)},function(de){(H._status===0||H._status===-1)&&(H._status=2,H._result=de)}),H._status===-1&&(H._status=0,H._result=Z)}if(H._status===1)return H._result.default;throw H._result}var be={current:null},se={transition:null},X={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:se,ReactCurrentOwner:Y};function le(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:Ve,forEach:function(H,Z,de){Ve(H,function(){Z.apply(this,arguments)},de)},count:function(H){var Z=0;return Ve(H,function(){Z++}),Z},toArray:function(H){return Ve(H,function(Z){return Z})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},nt.Component=R,nt.Fragment=t,nt.Profiler=i,nt.PureComponent=V,nt.StrictMode=r,nt.Suspense=d,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,nt.act=le,nt.cloneElement=function(H,Z,de){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Ee=S({},H.props),Ie=H.key,ze=H.ref,Se=H._owner;if(Z!=null){if(Z.ref!==void 0&&(ze=Z.ref,Se=Y.current),Z.key!==void 0&&(Ie=""+Z.key),H.type&&H.type.defaultProps)var Ye=H.type.defaultProps;for(Me in Z)O.call(Z,Me)&&!D.hasOwnProperty(Me)&&(Ee[Me]=Z[Me]===void 0&&Ye!==void 0?Ye[Me]:Z[Me])}var Me=arguments.length-2;if(Me===1)Ee.children=de;else if(1<Me){Ye=Array(Me);for(var rt=0;rt<Me;rt++)Ye[rt]=arguments[rt+2];Ee.children=Ye}return{$$typeof:n,type:H.type,key:Ie,ref:ze,props:Ee,_owner:Se}},nt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},nt.createElement=C,nt.createFactory=function(H){var Z=C.bind(null,H);return Z.type=H,Z},nt.createRef=function(){return{current:null}},nt.forwardRef=function(H){return{$$typeof:u,render:H}},nt.isValidElement=M,nt.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:Pe}},nt.memo=function(H,Z){return{$$typeof:p,type:H,compare:Z===void 0?null:Z}},nt.startTransition=function(H){var Z=se.transition;se.transition={};try{H()}finally{se.transition=Z}},nt.unstable_act=le,nt.useCallback=function(H,Z){return be.current.useCallback(H,Z)},nt.useContext=function(H){return be.current.useContext(H)},nt.useDebugValue=function(){},nt.useDeferredValue=function(H){return be.current.useDeferredValue(H)},nt.useEffect=function(H,Z){return be.current.useEffect(H,Z)},nt.useId=function(){return be.current.useId()},nt.useImperativeHandle=function(H,Z,de){return be.current.useImperativeHandle(H,Z,de)},nt.useInsertionEffect=function(H,Z){return be.current.useInsertionEffect(H,Z)},nt.useLayoutEffect=function(H,Z){return be.current.useLayoutEffect(H,Z)},nt.useMemo=function(H,Z){return be.current.useMemo(H,Z)},nt.useReducer=function(H,Z,de){return be.current.useReducer(H,Z,de)},nt.useRef=function(H){return be.current.useRef(H)},nt.useState=function(H){return be.current.useState(H)},nt.useSyncExternalStore=function(H,Z,de){return be.current.useSyncExternalStore(H,Z,de)},nt.useTransition=function(){return be.current.useTransition()},nt.version="18.3.1",nt}var DE;function Py(){return DE||(DE=1,sg.exports=ck()),sg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function dk(){if(OE)return qu;OE=1;var n=Py(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var m,v={},x=null,_=null;p!==void 0&&(x=""+p),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(_=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(v[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:u,key:x,ref:_,props:v,_owner:i.current}}return qu.Fragment=t,qu.jsx=l,qu.jsxs=l,qu}var ME;function fk(){return ME||(ME=1,ig.exports=dk()),ig.exports}var y=fk(),T=Py();const ee=Gh(T),hk=uk({__proto__:null,default:ee},[T]);var bf={},og={exports:{}},lr={},ag={exports:{}},lg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function pk(){return LE||(LE=1,function(n){function e(se,X){var le=se.length;se.push(X);e:for(;0<le;){var H=le-1>>>1,Z=se[H];if(0<i(Z,X))se[H]=X,se[le]=Z,le=H;else break e}}function t(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var X=se[0],le=se.pop();if(le!==X){se[0]=le;e:for(var H=0,Z=se.length,de=Z>>>1;H<de;){var Ee=2*(H+1)-1,Ie=se[Ee],ze=Ee+1,Se=se[ze];if(0>i(Ie,le))ze<Z&&0>i(Se,Ie)?(se[H]=Se,se[ze]=le,H=ze):(se[H]=Ie,se[Ee]=le,H=Ee);else if(ze<Z&&0>i(Se,le))se[H]=Se,se[ze]=le,H=ze;else break e}}return X}function i(se,X){var le=se.sortIndex-X.sortIndex;return le!==0?le:se.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],p=[],m=1,v=null,x=3,_=!1,S=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(se){for(var X=t(p);X!==null;){if(X.callback===null)r(p);else if(X.startTime<=se)r(p),X.sortIndex=X.expirationTime,e(d,X);else break;X=t(p)}}function G(se){if(I=!1,U(se),!S)if(t(d)!==null)S=!0,Pe(O);else{var X=t(p);X!==null&&be(G,X.startTime-se)}}function O(se,X){S=!1,I&&(I=!1,P(C),C=-1),_=!0;var le=x;try{for(U(X),v=t(d);v!==null&&(!(v.expirationTime>X)||se&&!B());){var H=v.callback;if(typeof H=="function"){v.callback=null,x=v.priorityLevel;var Z=H(v.expirationTime<=X);X=n.unstable_now(),typeof Z=="function"?v.callback=Z:v===t(d)&&r(d),U(X)}else r(d);v=t(d)}if(v!==null)var de=!0;else{var Ee=t(p);Ee!==null&&be(G,Ee.startTime-X),de=!1}return de}finally{v=null,x=le,_=!1}}var Y=!1,D=null,C=-1,k=5,M=-1;function B(){return!(n.unstable_now()-M<k)}function F(){if(D!==null){var se=n.unstable_now();M=se;var X=!0;try{X=D(!0,se)}finally{X?L():(Y=!1,D=null)}}else Y=!1}var L;if(typeof V=="function")L=function(){V(F)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Ve=Ce.port2;Ce.port1.onmessage=F,L=function(){Ve.postMessage(null)}}else L=function(){R(F,0)};function Pe(se){D=se,Y||(Y=!0,L())}function be(se,X){C=R(function(){se(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){S||_||(S=!0,Pe(O))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(se){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var le=x;x=X;try{return se()}finally{x=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,X){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=x;x=se;try{return X()}finally{x=le}},n.unstable_scheduleCallback=function(se,X,le){var H=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?H+le:H):le=H,se){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=le+Z,se={id:m++,callback:X,priorityLevel:se,startTime:le,expirationTime:Z,sortIndex:-1},le>H?(se.sortIndex=le,e(p,se),t(d)===null&&se===t(p)&&(I?(P(C),C=-1):I=!0,be(G,le-H))):(se.sortIndex=Z,e(d,se),S||_||(S=!0,Pe(O))),se},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(se){var X=x;return function(){var le=x;x=X;try{return se.apply(this,arguments)}finally{x=le}}}}(lg)),lg}var VE;function mk(){return VE||(VE=1,ag.exports=pk()),ag.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function gk(){if(jE)return lr;jE=1;var n=Py(),e=mk();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function x(s){return d.call(v,s)?!0:d.call(m,s)?!1:p.test(s)?v[s]=!0:(m[s]=!0,!1)}function _(s,a,c,h){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,c,h){if(a===null||typeof a>"u"||_(s,a,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function I(s,a,c,h,g,E,A){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=E,this.removeEmptyString=A}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new I(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];R[a]=new I(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new I(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new I(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new I(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new I(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new I(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new I(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new I(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(P,V);R[a]=new I(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(P,V);R[a]=new I(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(P,V);R[a]=new I(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new I(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new I(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,a,c,h){var g=R.hasOwnProperty(a)?R[a]:null;(g!==null?g.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,c,g,h)&&(c=null),h||g===null?x(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,h=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?s.setAttributeNS(h,a,c):s.setAttribute(a,c))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),Y=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),B=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),se=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,H;function Z(s){if(H===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+s}var de=!1;function Ee(s,a){if(!s||de)return"";de=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(re){var h=re}Reflect.construct(s,[],a)}else{try{a.call()}catch(re){h=re}s.call(a.prototype)}else{try{throw Error()}catch(re){h=re}s()}}catch(re){if(re&&h&&typeof re.stack=="string"){for(var g=re.stack.split(`
`),E=h.stack.split(`
`),A=g.length-1,j=E.length-1;1<=A&&0<=j&&g[A]!==E[j];)j--;for(;1<=A&&0<=j;A--,j--)if(g[A]!==E[j]){if(A!==1||j!==1)do if(A--,j--,0>j||g[A]!==E[j]){var $=`
`+g[A].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=A&&0<=j);break}}}finally{de=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function Ie(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=Ee(s.type,!1),s;case 11:return s=Ee(s.type.render,!1),s;case 1:return s=Ee(s.type,!0),s;default:return""}}function ze(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case Y:return"Portal";case k:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case Ce:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case B:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case F:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ve:return a=s.displayName||null,a!==null?a:ze(s.type)||"Memo";case Pe:a=s._payload,s=s._init;try{return ze(s(a))}catch{}}return null}function Se(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(a);case 8:return a===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ye(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Me(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rt(s){var a=Me(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,E=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(A){h=""+A,E.call(this,A)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function qt(s){s._valueTracker||(s._valueTracker=rt(s))}function Qn(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=Me(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function Rt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Yn(s,a){var c=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Pr(s,a){var c=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;c=Ye(a.value!=null?a.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function mr(s,a){a=a.checked,a!=null&&U(s,"checked",a,!1)}function Zr(s,a){mr(s,a);var c=Ye(a.value),h=a.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Un(s,a.type,c):a.hasOwnProperty("defaultValue")&&Un(s,a.type,Ye(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function kr(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Un(s,a,c){(a!=="number"||Rt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Jn=Array.isArray;function jt(s,a,c,h){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Ye(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Xn(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function yn(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Jn(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Ye(c)}}function Nr(s,a){var c=Ye(a.value),h=Ye(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function Cn(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Je(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Je(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Bn,ss=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,h,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,h,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Bn=Bn||document.createElement("div"),Bn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Bn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function $t(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gr=["Webkit","ms","Moz","O"];Object.keys(Dr).forEach(function(s){gr.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Dr[a]=Dr[s]})});function Or(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Dr.hasOwnProperty(s)&&Dr[s]?(""+a).trim():a+"px"}function Zn(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=Or(c,a[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,g):s[c]=g}}var ei=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function An(s,a){if(a){if(ei[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Pi(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yr=null;function ti(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Mr=null,Pn=null,vn=null;function Xt(s){if(s=Du(s)){if(typeof Mr!="function")throw Error(t(280));var a=s.stateNode;a&&(a=jd(a),Mr(s.stateNode,s.type,a))}}function _n(s){Pn?vn?vn.push(s):vn=[s]:Pn=s}function $e(){if(Pn){var s=Pn,a=vn;if(vn=Pn=null,Xt(s),a)for(s=0;s<a.length;s++)Xt(a[s])}}function tt(s,a){return s(a)}function z(){}var K=!1;function ne(s,a,c){if(K)return s(a,c);K=!0;try{return tt(s,a,c)}finally{K=!1,(Pn!==null||vn!==null)&&(z(),$e())}}function oe(s,a){var c=s.stateNode;if(c===null)return null;var h=jd(c);if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var ve=!1;if(u)try{var _e={};Object.defineProperty(_e,"passive",{get:function(){ve=!0}}),window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch{ve=!1}function Ne(s,a,c,h,g,E,A,j,$){var re=Array.prototype.slice.call(arguments,3);try{a.apply(c,re)}catch(ce){this.onError(ce)}}var xe=!1,Ae=null,me=!1,He=null,Xe={onError:function(s){xe=!0,Ae=s}};function mt(s,a,c,h,g,E,A,j,$){xe=!1,Ae=null,Ne.apply(Xe,arguments)}function Ht(s,a,c,h,g,E,A,j,$){if(mt.apply(this,arguments),xe){if(xe){var re=Ae;xe=!1,Ae=null}else throw Error(t(198));me||(me=!0,He=re)}}function at(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function ft(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function gt(s){if(at(s)!==s)throw Error(t(188))}function ni(s){var a=s.alternate;if(!a){if(a=at(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,h=a;;){var g=c.return;if(g===null)break;var E=g.alternate;if(E===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===E.child){for(E=g.child;E;){if(E===c)return gt(g),s;if(E===h)return gt(g),a;E=E.sibling}throw Error(t(188))}if(c.return!==h.return)c=g,h=E;else{for(var A=!1,j=g.child;j;){if(j===c){A=!0,c=g,h=E;break}if(j===h){A=!0,h=g,c=E;break}j=j.sibling}if(!A){for(j=E.child;j;){if(j===c){A=!0,c=E,h=g;break}if(j===h){A=!0,h=E,c=g;break}j=j.sibling}if(!A)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function ri(s){return s=ni(s),s!==null?kn(s):null}function kn(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=kn(s);if(a!==null)return a;s=s.sibling}return null}var wn=e.unstable_scheduleCallback,os=e.unstable_cancelCallback,ki=e.unstable_shouldYield,ii=e.unstable_requestPaint,yt=e.unstable_now,as=e.unstable_getCurrentPriorityLevel,ut=e.unstable_ImmediatePriority,Ct=e.unstable_UserBlockingPriority,En=e.unstable_NormalPriority,si=e.unstable_LowPriority,At=e.unstable_IdlePriority,er=null,Nn=null;function Wa(s){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(er,s,void 0,(s.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:gd,yu=Math.log,md=Math.LN2;function gd(s){return s>>>=0,s===0?32:31-(yu(s)/md|0)|0}var Ka=64,qa=4194304;function js(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ko(s,a){var c=s.pendingLanes;if(c===0)return 0;var h=0,g=s.suspendedLanes,E=s.pingedLanes,A=c&268435455;if(A!==0){var j=A&~g;j!==0?h=js(j):(E&=A,E!==0&&(h=js(E)))}else A=c&~g,A!==0?h=js(A):E!==0&&(h=js(E));if(h===0)return 0;if(a!==0&&a!==h&&!(a&g)&&(g=h&-h,E=a&-a,g>=E||g===16&&(E&4194240)!==0))return a;if(h&4&&(h|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=h;0<a;)c=31-zn(a),g=1<<c,h|=s[c],a&=~g;return h}function Op(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ls(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,E=s.pendingLanes;0<E;){var A=31-zn(E),j=1<<A,$=g[A];$===-1?(!(j&c)||j&h)&&(g[A]=Op(j,a)):$<=a&&(s.expiredLanes|=j),E&=~j}}function vr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function qo(){var s=Ka;return Ka<<=1,!(Ka&4194240)&&(Ka=64),s}function Fs(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Us(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-zn(a),s[a]=c}function It(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-zn(c),E=1<<g;a[g]=0,h[g]=-1,s[g]=-1,c&=~E}}function Bs(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-zn(c),g=1<<h;g&a|s[h]&a&&(s[h]|=a),c&=~g}}var lt=0;function zs(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var yd,Qa,vd,_d,wd,vu=!1,Ni=[],xn=null,oi=null,ai=null,$s=new Map,Lr=new Map,Di=[],Mp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ed(s,a){switch(s){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":$s.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lr.delete(a.pointerId)}}function tr(s,a,c,h,g,E){return s===null||s.nativeEvent!==E?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:E,targetContainers:[g]},a!==null&&(a=Du(a),a!==null&&Qa(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Lp(s,a,c,h,g){switch(a){case"focusin":return xn=tr(xn,s,a,c,h,g),!0;case"dragenter":return oi=tr(oi,s,a,c,h,g),!0;case"mouseover":return ai=tr(ai,s,a,c,h,g),!0;case"pointerover":var E=g.pointerId;return $s.set(E,tr($s.get(E)||null,s,a,c,h,g)),!0;case"gotpointercapture":return E=g.pointerId,Lr.set(E,tr(Lr.get(E)||null,s,a,c,h,g)),!0}return!1}function xd(s){var a=Zo(s.target);if(a!==null){var c=at(a);if(c!==null){if(a=c.tag,a===13){if(a=ft(c),a!==null){s.blockedOn=a,wd(s.priority,function(){vd(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function us(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Ya(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);yr=h,c.target.dispatchEvent(h),yr=null}else return a=Du(c),a!==null&&Qa(a),s.blockedOn=c,!1;a.shift()}return!0}function Qo(s,a,c){us(s)&&c.delete(a)}function Td(){vu=!1,xn!==null&&us(xn)&&(xn=null),oi!==null&&us(oi)&&(oi=null),ai!==null&&us(ai)&&(ai=null),$s.forEach(Qo),Lr.forEach(Qo)}function li(s,a){s.blockedOn===a&&(s.blockedOn=null,vu||(vu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Td)))}function ui(s){function a(g){return li(g,s)}if(0<Ni.length){li(Ni[0],s);for(var c=1;c<Ni.length;c++){var h=Ni[c];h.blockedOn===s&&(h.blockedOn=null)}}for(xn!==null&&li(xn,s),oi!==null&&li(oi,s),ai!==null&&li(ai,s),$s.forEach(a),Lr.forEach(a),c=0;c<Di.length;c++)h=Di[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Di.length&&(c=Di[0],c.blockedOn===null);)xd(c),c.blockedOn===null&&Di.shift()}var cs=G.ReactCurrentBatchConfig,Hs=!0;function Ot(s,a,c,h){var g=lt,E=cs.transition;cs.transition=null;try{lt=1,_u(s,a,c,h)}finally{lt=g,cs.transition=E}}function Vp(s,a,c,h){var g=lt,E=cs.transition;cs.transition=null;try{lt=4,_u(s,a,c,h)}finally{lt=g,cs.transition=E}}function _u(s,a,c,h){if(Hs){var g=Ya(s,a,c,h);if(g===null)qp(s,a,h,Yo,c),Ed(s,h);else if(Lp(g,s,a,c,h))h.stopPropagation();else if(Ed(s,h),a&4&&-1<Mp.indexOf(s)){for(;g!==null;){var E=Du(g);if(E!==null&&yd(E),E=Ya(s,a,c,h),E===null&&qp(s,a,h,Yo,c),E===g)break;g=E}g!==null&&h.stopPropagation()}else qp(s,a,h,null,c)}}var Yo=null;function Ya(s,a,c,h){if(Yo=null,s=ti(h),s=Zo(s),s!==null)if(a=at(s),a===null)s=null;else if(c=a.tag,c===13){if(s=ft(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Yo=s,null}function wu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(as()){case ut:return 1;case Ct:return 4;case En:case si:return 16;case At:return 536870912;default:return 16}default:return 16}}var _r=null,Ja=null,nr=null;function Eu(){if(nr)return nr;var s,a=Ja,c=a.length,h,g="value"in _r?_r.value:_r.textContent,E=g.length;for(s=0;s<c&&a[s]===g[s];s++);var A=c-s;for(h=1;h<=A&&a[c-h]===g[E-h];h++);return nr=g.slice(s,1<h?1-h:void 0)}function Xa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Oi(){return!0}function xu(){return!1}function Tn(s){function a(c,h,g,E,A){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=E,this.target=A,this.currentTarget=null;for(var j in s)s.hasOwnProperty(j)&&(c=s[j],this[j]=c?c(E):E[j]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Oi:xu,this.isPropagationStopped=xu,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),a}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=Tn(ci),Mi=le({},ci,{view:0,detail:0}),jp=Tn(Mi),el,ds,Gs,Jo=le({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Gs&&(Gs&&s.type==="mousemove"?(el=s.screenX-Gs.screenX,ds=s.screenY-Gs.screenY):ds=el=0,Gs=s),el)},movementY:function(s){return"movementY"in s?s.movementY:ds}}),tl=Tn(Jo),Tu=le({},Jo,{dataTransfer:0}),bd=Tn(Tu),nl=le({},Mi,{relatedTarget:0}),rl=Tn(nl),Id=le({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),fs=Tn(Id),Sd=le({},ci,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Rd=Tn(Sd),Cd=le({},ci,{data:0}),bu=Tn(Cd),il={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ad={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ad[s])?!!a[s]:!1}function Li(){return Pd}var f=le({},Mi,{key:function(s){if(s.key){var a=il[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Xa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?$n[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(s){return s.type==="keypress"?Xa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=Tn(f),b=le({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=Tn(b),q=le({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li}),ie=Tn(q),ge=le({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),Et=Tn(ge),rn=le({},Jo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ct=Tn(rn),cn=[9,13,27,32],Zt=u&&"CompositionEvent"in window,Vr=null;u&&"documentMode"in document&&(Vr=document.documentMode);var wr=u&&"TextEvent"in window&&!Vr,Xo=u&&(!Zt||Vr&&8<Vr&&11>=Vr),sl=" ",S_=!1;function R_(s,a){switch(s){case"keyup":return cn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ol=!1;function aP(s,a){switch(s){case"compositionend":return C_(a);case"keypress":return a.which!==32?null:(S_=!0,sl);case"textInput":return s=a.data,s===sl&&S_?null:s;default:return null}}function lP(s,a){if(ol)return s==="compositionend"||!Zt&&R_(s,a)?(s=Eu(),nr=Ja=_r=null,ol=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Xo&&a.locale!=="ko"?null:a.data;default:return null}}var uP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!uP[s.type]:a==="textarea"}function P_(s,a,c,h){_n(h),a=Md(a,"onChange"),0<a.length&&(c=new Za("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var Iu=null,Su=null;function cP(s){q_(s,0)}function kd(s){var a=dl(s);if(Qn(a))return s}function dP(s,a){if(s==="change")return a}var k_=!1;if(u){var Fp;if(u){var Up="oninput"in document;if(!Up){var N_=document.createElement("div");N_.setAttribute("oninput","return;"),Up=typeof N_.oninput=="function"}Fp=Up}else Fp=!1;k_=Fp&&(!document.documentMode||9<document.documentMode)}function D_(){Iu&&(Iu.detachEvent("onpropertychange",O_),Su=Iu=null)}function O_(s){if(s.propertyName==="value"&&kd(Su)){var a=[];P_(a,Su,s,ti(s)),ne(cP,a)}}function fP(s,a,c){s==="focusin"?(D_(),Iu=a,Su=c,Iu.attachEvent("onpropertychange",O_)):s==="focusout"&&D_()}function hP(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return kd(Su)}function pP(s,a){if(s==="click")return kd(a)}function mP(s,a){if(s==="input"||s==="change")return kd(a)}function gP(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var di=typeof Object.is=="function"?Object.is:gP;function Ru(s,a){if(di(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!d.call(a,g)||!di(s[g],a[g]))return!1}return!0}function M_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function L_(s,a){var c=M_(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=M_(c)}}function V_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?V_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function j_(){for(var s=window,a=Rt();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Rt(s.document)}return a}function Bp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function yP(s){var a=j_(),c=s.focusedElem,h=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&V_(c.ownerDocument.documentElement,c)){if(h!==null&&Bp(c)){if(a=h.start,s=h.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,E=Math.min(h.start,g);h=h.end===void 0?E:Math.min(h.end,g),!s.extend&&E>h&&(g=h,h=E,E=g),g=L_(c,E);var A=L_(c,h);g&&A&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==A.node||s.focusOffset!==A.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),E>h?(s.addRange(a),s.extend(A.node,A.offset)):(a.setEnd(A.node,A.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var vP=u&&"documentMode"in document&&11>=document.documentMode,al=null,zp=null,Cu=null,$p=!1;function F_(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;$p||al==null||al!==Rt(h)||(h=al,"selectionStart"in h&&Bp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Cu&&Ru(Cu,h)||(Cu=h,h=Md(zp,"onSelect"),0<h.length&&(a=new Za("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=al)))}function Nd(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var ll={animationend:Nd("Animation","AnimationEnd"),animationiteration:Nd("Animation","AnimationIteration"),animationstart:Nd("Animation","AnimationStart"),transitionend:Nd("Transition","TransitionEnd")},Hp={},U_={};u&&(U_=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Dd(s){if(Hp[s])return Hp[s];if(!ll[s])return s;var a=ll[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in U_)return Hp[s]=a[c];return s}var B_=Dd("animationend"),z_=Dd("animationiteration"),$_=Dd("animationstart"),H_=Dd("transitionend"),G_=new Map,W_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(s,a){G_.set(s,a),o(a,[s])}for(var Gp=0;Gp<W_.length;Gp++){var Wp=W_[Gp],_P=Wp.toLowerCase(),wP=Wp[0].toUpperCase()+Wp.slice(1);Ws(_P,"on"+wP)}Ws(B_,"onAnimationEnd"),Ws(z_,"onAnimationIteration"),Ws($_,"onAnimationStart"),Ws("dblclick","onDoubleClick"),Ws("focusin","onFocus"),Ws("focusout","onBlur"),Ws(H_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Au));function K_(s,a,c){var h=s.type||"unknown-event";s.currentTarget=c,Ht(h,a,void 0,s),s.currentTarget=null}function q_(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;e:{var E=void 0;if(a)for(var A=h.length-1;0<=A;A--){var j=h[A],$=j.instance,re=j.currentTarget;if(j=j.listener,$!==E&&g.isPropagationStopped())break e;K_(g,j,re),E=$}else for(A=0;A<h.length;A++){if(j=h[A],$=j.instance,re=j.currentTarget,j=j.listener,$!==E&&g.isPropagationStopped())break e;K_(g,j,re),E=$}}}if(me)throw s=He,me=!1,He=null,s}function Pt(s,a){var c=a[em];c===void 0&&(c=a[em]=new Set);var h=s+"__bubble";c.has(h)||(Q_(a,s,2,!1),c.add(h))}function Kp(s,a,c){var h=0;a&&(h|=4),Q_(c,s,h,a)}var Od="_reactListening"+Math.random().toString(36).slice(2);function Pu(s){if(!s[Od]){s[Od]=!0,r.forEach(function(c){c!=="selectionchange"&&(EP.has(c)||Kp(c,!1,s),Kp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Od]||(a[Od]=!0,Kp("selectionchange",!1,a))}}function Q_(s,a,c,h){switch(wu(a)){case 1:var g=Ot;break;case 4:g=Vp;break;default:g=_u}c=g.bind(null,a,c,s),g=void 0,!ve||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function qp(s,a,c,h,g){var E=h;if(!(a&1)&&!(a&2)&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var j=h.stateNode.containerInfo;if(j===g||j.nodeType===8&&j.parentNode===g)break;if(A===4)for(A=h.return;A!==null;){var $=A.tag;if(($===3||$===4)&&($=A.stateNode.containerInfo,$===g||$.nodeType===8&&$.parentNode===g))return;A=A.return}for(;j!==null;){if(A=Zo(j),A===null)return;if($=A.tag,$===5||$===6){h=E=A;continue e}j=j.parentNode}}h=h.return}ne(function(){var re=E,ce=ti(c),fe=[];e:{var ue=G_.get(s);if(ue!==void 0){var Te=Za,ke=s;switch(s){case"keypress":if(Xa(c)===0)break e;case"keydown":case"keyup":Te=w;break;case"focusin":ke="focus",Te=rl;break;case"focusout":ke="blur",Te=rl;break;case"beforeblur":case"afterblur":Te=rl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=bd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=ie;break;case B_:case z_:case $_:Te=fs;break;case H_:Te=Et;break;case"scroll":Te=jp;break;case"wheel":Te=ct;break;case"copy":case"cut":case"paste":Te=Rd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=N}var De=(a&4)!==0,Qt=!De&&s==="scroll",J=De?ue!==null?ue+"Capture":null:ue;De=[];for(var W=re,te;W!==null;){te=W;var pe=te.stateNode;if(te.tag===5&&pe!==null&&(te=pe,J!==null&&(pe=oe(W,J),pe!=null&&De.push(ku(W,pe,te)))),Qt)break;W=W.return}0<De.length&&(ue=new Te(ue,ke,null,c,ce),fe.push({event:ue,listeners:De}))}}if(!(a&7)){e:{if(ue=s==="mouseover"||s==="pointerover",Te=s==="mouseout"||s==="pointerout",ue&&c!==yr&&(ke=c.relatedTarget||c.fromElement)&&(Zo(ke)||ke[hs]))break e;if((Te||ue)&&(ue=ce.window===ce?ce:(ue=ce.ownerDocument)?ue.defaultView||ue.parentWindow:window,Te?(ke=c.relatedTarget||c.toElement,Te=re,ke=ke?Zo(ke):null,ke!==null&&(Qt=at(ke),ke!==Qt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(Te=null,ke=re),Te!==ke)){if(De=tl,pe="onMouseLeave",J="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(De=N,pe="onPointerLeave",J="onPointerEnter",W="pointer"),Qt=Te==null?ue:dl(Te),te=ke==null?ue:dl(ke),ue=new De(pe,W+"leave",Te,c,ce),ue.target=Qt,ue.relatedTarget=te,pe=null,Zo(ce)===re&&(De=new De(J,W+"enter",ke,c,ce),De.target=te,De.relatedTarget=Qt,pe=De),Qt=pe,Te&&ke)t:{for(De=Te,J=ke,W=0,te=De;te;te=ul(te))W++;for(te=0,pe=J;pe;pe=ul(pe))te++;for(;0<W-te;)De=ul(De),W--;for(;0<te-W;)J=ul(J),te--;for(;W--;){if(De===J||J!==null&&De===J.alternate)break t;De=ul(De),J=ul(J)}De=null}else De=null;Te!==null&&Y_(fe,ue,Te,De,!1),ke!==null&&Qt!==null&&Y_(fe,Qt,ke,De,!0)}}e:{if(ue=re?dl(re):window,Te=ue.nodeName&&ue.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ue.type==="file")var Le=dP;else if(A_(ue))if(k_)Le=mP;else{Le=hP;var Ue=fP}else(Te=ue.nodeName)&&Te.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Le=pP);if(Le&&(Le=Le(s,re))){P_(fe,Le,c,ce);break e}Ue&&Ue(s,ue,re),s==="focusout"&&(Ue=ue._wrapperState)&&Ue.controlled&&ue.type==="number"&&Un(ue,"number",ue.value)}switch(Ue=re?dl(re):window,s){case"focusin":(A_(Ue)||Ue.contentEditable==="true")&&(al=Ue,zp=re,Cu=null);break;case"focusout":Cu=zp=al=null;break;case"mousedown":$p=!0;break;case"contextmenu":case"mouseup":case"dragend":$p=!1,F_(fe,c,ce);break;case"selectionchange":if(vP)break;case"keydown":case"keyup":F_(fe,c,ce)}var Be;if(Zt)e:{switch(s){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else ol?R_(s,c)&&(We="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(We="onCompositionStart");We&&(Xo&&c.locale!=="ko"&&(ol||We!=="onCompositionStart"?We==="onCompositionEnd"&&ol&&(Be=Eu()):(_r=ce,Ja="value"in _r?_r.value:_r.textContent,ol=!0)),Ue=Md(re,We),0<Ue.length&&(We=new bu(We,s,null,c,ce),fe.push({event:We,listeners:Ue}),Be?We.data=Be:(Be=C_(c),Be!==null&&(We.data=Be)))),(Be=wr?aP(s,c):lP(s,c))&&(re=Md(re,"onBeforeInput"),0<re.length&&(ce=new bu("onBeforeInput","beforeinput",null,c,ce),fe.push({event:ce,listeners:re}),ce.data=Be))}q_(fe,a)})}function ku(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Md(s,a){for(var c=a+"Capture",h=[];s!==null;){var g=s,E=g.stateNode;g.tag===5&&E!==null&&(g=E,E=oe(s,c),E!=null&&h.unshift(ku(s,E,g)),E=oe(s,a),E!=null&&h.push(ku(s,E,g))),s=s.return}return h}function ul(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Y_(s,a,c,h,g){for(var E=a._reactName,A=[];c!==null&&c!==h;){var j=c,$=j.alternate,re=j.stateNode;if($!==null&&$===h)break;j.tag===5&&re!==null&&(j=re,g?($=oe(c,E),$!=null&&A.unshift(ku(c,$,j))):g||($=oe(c,E),$!=null&&A.push(ku(c,$,j)))),c=c.return}A.length!==0&&s.push({event:a,listeners:A})}var xP=/\r\n?/g,TP=/\u0000|\uFFFD/g;function J_(s){return(typeof s=="string"?s:""+s).replace(xP,`
`).replace(TP,"")}function Ld(s,a,c){if(a=J_(a),J_(s)!==a&&c)throw Error(t(425))}function Vd(){}var Qp=null,Yp=null;function Jp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xp=typeof setTimeout=="function"?setTimeout:void 0,bP=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,IP=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(s){return X_.resolve(null).then(s).catch(SP)}:Xp;function SP(s){setTimeout(function(){throw s})}function Zp(s,a){var c=a,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){s.removeChild(g),ui(a);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);ui(a)}function Ks(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Z_(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var cl=Math.random().toString(36).slice(2),Vi="__reactFiber$"+cl,Nu="__reactProps$"+cl,hs="__reactContainer$"+cl,em="__reactEvents$"+cl,RP="__reactListeners$"+cl,CP="__reactHandles$"+cl;function Zo(s){var a=s[Vi];if(a)return a;for(var c=s.parentNode;c;){if(a=c[hs]||c[Vi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Z_(s);s!==null;){if(c=s[Vi])return c;s=Z_(s)}return a}s=c,c=s.parentNode}return null}function Du(s){return s=s[Vi]||s[hs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function dl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function jd(s){return s[Nu]||null}var tm=[],fl=-1;function qs(s){return{current:s}}function kt(s){0>fl||(s.current=tm[fl],tm[fl]=null,fl--)}function St(s,a){fl++,tm[fl]=s.current,s.current=a}var Qs={},Dn=qs(Qs),rr=qs(!1),ea=Qs;function hl(s,a){var c=s.type.contextTypes;if(!c)return Qs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var g={},E;for(E in c)g[E]=a[E];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function ir(s){return s=s.childContextTypes,s!=null}function Fd(){kt(rr),kt(Dn)}function ew(s,a,c){if(Dn.current!==Qs)throw Error(t(168));St(Dn,a),St(rr,c)}function tw(s,a,c){var h=s.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in a))throw Error(t(108,Se(s)||"Unknown",g));return le({},c,h)}function Ud(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Qs,ea=Dn.current,St(Dn,s),St(rr,rr.current),!0}function nw(s,a,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=tw(s,a,ea),h.__reactInternalMemoizedMergedChildContext=s,kt(rr),kt(Dn),St(Dn,s)):kt(rr),St(rr,c)}var ps=null,Bd=!1,nm=!1;function rw(s){ps===null?ps=[s]:ps.push(s)}function AP(s){Bd=!0,rw(s)}function Ys(){if(!nm&&ps!==null){nm=!0;var s=0,a=lt;try{var c=ps;for(lt=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}ps=null,Bd=!1}catch(g){throw ps!==null&&(ps=ps.slice(s+1)),wn(ut,Ys),g}finally{lt=a,nm=!1}}return null}var pl=[],ml=0,zd=null,$d=0,jr=[],Fr=0,ta=null,ms=1,gs="";function na(s,a){pl[ml++]=$d,pl[ml++]=zd,zd=s,$d=a}function iw(s,a,c){jr[Fr++]=ms,jr[Fr++]=gs,jr[Fr++]=ta,ta=s;var h=ms;s=gs;var g=32-zn(h)-1;h&=~(1<<g),c+=1;var E=32-zn(a)+g;if(30<E){var A=g-g%5;E=(h&(1<<A)-1).toString(32),h>>=A,g-=A,ms=1<<32-zn(a)+g|c<<g|h,gs=E+s}else ms=1<<E|c<<g|h,gs=s}function rm(s){s.return!==null&&(na(s,1),iw(s,1,0))}function im(s){for(;s===zd;)zd=pl[--ml],pl[ml]=null,$d=pl[--ml],pl[ml]=null;for(;s===ta;)ta=jr[--Fr],jr[Fr]=null,gs=jr[--Fr],jr[Fr]=null,ms=jr[--Fr],jr[Fr]=null}var Er=null,xr=null,Mt=!1,fi=null;function sw(s,a){var c=$r(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function ow(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Er=s,xr=Ks(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Er=s,xr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=ta!==null?{id:ms,overflow:gs}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=$r(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Er=s,xr=null,!0):!1;default:return!1}}function sm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function om(s){if(Mt){var a=xr;if(a){var c=a;if(!ow(s,a)){if(sm(s))throw Error(t(418));a=Ks(c.nextSibling);var h=Er;a&&ow(s,a)?sw(h,c):(s.flags=s.flags&-4097|2,Mt=!1,Er=s)}}else{if(sm(s))throw Error(t(418));s.flags=s.flags&-4097|2,Mt=!1,Er=s}}}function aw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Er=s}function Hd(s){if(s!==Er)return!1;if(!Mt)return aw(s),Mt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Jp(s.type,s.memoizedProps)),a&&(a=xr)){if(sm(s))throw lw(),Error(t(418));for(;a;)sw(s,a),a=Ks(a.nextSibling)}if(aw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){xr=Ks(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}xr=null}}else xr=Er?Ks(s.stateNode.nextSibling):null;return!0}function lw(){for(var s=xr;s;)s=Ks(s.nextSibling)}function gl(){xr=Er=null,Mt=!1}function am(s){fi===null?fi=[s]:fi.push(s)}var PP=G.ReactCurrentBatchConfig;function Ou(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var g=h,E=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(A){var j=g.refs;A===null?delete j[E]:j[E]=A},a._stringRef=E,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Gd(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function uw(s){var a=s._init;return a(s._payload)}function cw(s){function a(J,W){if(s){var te=J.deletions;te===null?(J.deletions=[W],J.flags|=16):te.push(W)}}function c(J,W){if(!s)return null;for(;W!==null;)a(J,W),W=W.sibling;return null}function h(J,W){for(J=new Map;W!==null;)W.key!==null?J.set(W.key,W):J.set(W.index,W),W=W.sibling;return J}function g(J,W){return J=io(J,W),J.index=0,J.sibling=null,J}function E(J,W,te){return J.index=te,s?(te=J.alternate,te!==null?(te=te.index,te<W?(J.flags|=2,W):te):(J.flags|=2,W)):(J.flags|=1048576,W)}function A(J){return s&&J.alternate===null&&(J.flags|=2),J}function j(J,W,te,pe){return W===null||W.tag!==6?(W=Xm(te,J.mode,pe),W.return=J,W):(W=g(W,te),W.return=J,W)}function $(J,W,te,pe){var Le=te.type;return Le===D?ce(J,W,te.props.children,pe,te.key):W!==null&&(W.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Pe&&uw(Le)===W.type)?(pe=g(W,te.props),pe.ref=Ou(J,W,te),pe.return=J,pe):(pe=gf(te.type,te.key,te.props,null,J.mode,pe),pe.ref=Ou(J,W,te),pe.return=J,pe)}function re(J,W,te,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==te.containerInfo||W.stateNode.implementation!==te.implementation?(W=Zm(te,J.mode,pe),W.return=J,W):(W=g(W,te.children||[]),W.return=J,W)}function ce(J,W,te,pe,Le){return W===null||W.tag!==7?(W=ca(te,J.mode,pe,Le),W.return=J,W):(W=g(W,te),W.return=J,W)}function fe(J,W,te){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Xm(""+W,J.mode,te),W.return=J,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case O:return te=gf(W.type,W.key,W.props,null,J.mode,te),te.ref=Ou(J,null,W),te.return=J,te;case Y:return W=Zm(W,J.mode,te),W.return=J,W;case Pe:var pe=W._init;return fe(J,pe(W._payload),te)}if(Jn(W)||X(W))return W=ca(W,J.mode,te,null),W.return=J,W;Gd(J,W)}return null}function ue(J,W,te,pe){var Le=W!==null?W.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Le!==null?null:j(J,W,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case O:return te.key===Le?$(J,W,te,pe):null;case Y:return te.key===Le?re(J,W,te,pe):null;case Pe:return Le=te._init,ue(J,W,Le(te._payload),pe)}if(Jn(te)||X(te))return Le!==null?null:ce(J,W,te,pe,null);Gd(J,te)}return null}function Te(J,W,te,pe,Le){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return J=J.get(te)||null,j(W,J,""+pe,Le);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case O:return J=J.get(pe.key===null?te:pe.key)||null,$(W,J,pe,Le);case Y:return J=J.get(pe.key===null?te:pe.key)||null,re(W,J,pe,Le);case Pe:var Ue=pe._init;return Te(J,W,te,Ue(pe._payload),Le)}if(Jn(pe)||X(pe))return J=J.get(te)||null,ce(W,J,pe,Le,null);Gd(W,pe)}return null}function ke(J,W,te,pe){for(var Le=null,Ue=null,Be=W,We=W=0,hn=null;Be!==null&&We<te.length;We++){Be.index>We?(hn=Be,Be=null):hn=Be.sibling;var pt=ue(J,Be,te[We],pe);if(pt===null){Be===null&&(Be=hn);break}s&&Be&&pt.alternate===null&&a(J,Be),W=E(pt,W,We),Ue===null?Le=pt:Ue.sibling=pt,Ue=pt,Be=hn}if(We===te.length)return c(J,Be),Mt&&na(J,We),Le;if(Be===null){for(;We<te.length;We++)Be=fe(J,te[We],pe),Be!==null&&(W=E(Be,W,We),Ue===null?Le=Be:Ue.sibling=Be,Ue=Be);return Mt&&na(J,We),Le}for(Be=h(J,Be);We<te.length;We++)hn=Te(Be,J,We,te[We],pe),hn!==null&&(s&&hn.alternate!==null&&Be.delete(hn.key===null?We:hn.key),W=E(hn,W,We),Ue===null?Le=hn:Ue.sibling=hn,Ue=hn);return s&&Be.forEach(function(so){return a(J,so)}),Mt&&na(J,We),Le}function De(J,W,te,pe){var Le=X(te);if(typeof Le!="function")throw Error(t(150));if(te=Le.call(te),te==null)throw Error(t(151));for(var Ue=Le=null,Be=W,We=W=0,hn=null,pt=te.next();Be!==null&&!pt.done;We++,pt=te.next()){Be.index>We?(hn=Be,Be=null):hn=Be.sibling;var so=ue(J,Be,pt.value,pe);if(so===null){Be===null&&(Be=hn);break}s&&Be&&so.alternate===null&&a(J,Be),W=E(so,W,We),Ue===null?Le=so:Ue.sibling=so,Ue=so,Be=hn}if(pt.done)return c(J,Be),Mt&&na(J,We),Le;if(Be===null){for(;!pt.done;We++,pt=te.next())pt=fe(J,pt.value,pe),pt!==null&&(W=E(pt,W,We),Ue===null?Le=pt:Ue.sibling=pt,Ue=pt);return Mt&&na(J,We),Le}for(Be=h(J,Be);!pt.done;We++,pt=te.next())pt=Te(Be,J,We,pt.value,pe),pt!==null&&(s&&pt.alternate!==null&&Be.delete(pt.key===null?We:pt.key),W=E(pt,W,We),Ue===null?Le=pt:Ue.sibling=pt,Ue=pt);return s&&Be.forEach(function(lk){return a(J,lk)}),Mt&&na(J,We),Le}function Qt(J,W,te,pe){if(typeof te=="object"&&te!==null&&te.type===D&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case O:e:{for(var Le=te.key,Ue=W;Ue!==null;){if(Ue.key===Le){if(Le=te.type,Le===D){if(Ue.tag===7){c(J,Ue.sibling),W=g(Ue,te.props.children),W.return=J,J=W;break e}}else if(Ue.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===Pe&&uw(Le)===Ue.type){c(J,Ue.sibling),W=g(Ue,te.props),W.ref=Ou(J,Ue,te),W.return=J,J=W;break e}c(J,Ue);break}else a(J,Ue);Ue=Ue.sibling}te.type===D?(W=ca(te.props.children,J.mode,pe,te.key),W.return=J,J=W):(pe=gf(te.type,te.key,te.props,null,J.mode,pe),pe.ref=Ou(J,W,te),pe.return=J,J=pe)}return A(J);case Y:e:{for(Ue=te.key;W!==null;){if(W.key===Ue)if(W.tag===4&&W.stateNode.containerInfo===te.containerInfo&&W.stateNode.implementation===te.implementation){c(J,W.sibling),W=g(W,te.children||[]),W.return=J,J=W;break e}else{c(J,W);break}else a(J,W);W=W.sibling}W=Zm(te,J.mode,pe),W.return=J,J=W}return A(J);case Pe:return Ue=te._init,Qt(J,W,Ue(te._payload),pe)}if(Jn(te))return ke(J,W,te,pe);if(X(te))return De(J,W,te,pe);Gd(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,W!==null&&W.tag===6?(c(J,W.sibling),W=g(W,te),W.return=J,J=W):(c(J,W),W=Xm(te,J.mode,pe),W.return=J,J=W),A(J)):c(J,W)}return Qt}var yl=cw(!0),dw=cw(!1),Wd=qs(null),Kd=null,vl=null,lm=null;function um(){lm=vl=Kd=null}function cm(s){var a=Wd.current;kt(Wd),s._currentValue=a}function dm(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function _l(s,a){Kd=s,lm=vl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(sr=!0),s.firstContext=null)}function Ur(s){var a=s._currentValue;if(lm!==s)if(s={context:s,memoizedValue:a,next:null},vl===null){if(Kd===null)throw Error(t(308));vl=s,Kd.dependencies={lanes:0,firstContext:s}}else vl=vl.next=s;return a}var ra=null;function fm(s){ra===null?ra=[s]:ra.push(s)}function fw(s,a,c,h){var g=a.interleaved;return g===null?(c.next=c,fm(a)):(c.next=g.next,g.next=c),a.interleaved=c,ys(s,h)}function ys(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Js=!1;function hm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hw(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function vs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Xs(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,ht&2){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,ys(s,c)}return g=h.interleaved,g===null?(a.next=a,fm(h)):(a.next=g.next,g.next=a),h.interleaved=a,ys(s,c)}function qd(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Bs(s,c)}}function pw(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?g=E=A:E=E.next=A,c=c.next}while(c!==null);E===null?g=E=a:E=E.next=a}else g=E=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:E,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Qd(s,a,c,h){var g=s.updateQueue;Js=!1;var E=g.firstBaseUpdate,A=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var $=j,re=$.next;$.next=null,A===null?E=re:A.next=re,A=$;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,j=ce.lastBaseUpdate,j!==A&&(j===null?ce.firstBaseUpdate=re:j.next=re,ce.lastBaseUpdate=$))}if(E!==null){var fe=g.baseState;A=0,ce=re=$=null,j=E;do{var ue=j.lane,Te=j.eventTime;if((h&ue)===ue){ce!==null&&(ce=ce.next={eventTime:Te,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ke=s,De=j;switch(ue=a,Te=c,De.tag){case 1:if(ke=De.payload,typeof ke=="function"){fe=ke.call(Te,fe,ue);break e}fe=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=De.payload,ue=typeof ke=="function"?ke.call(Te,fe,ue):ke,ue==null)break e;fe=le({},fe,ue);break e;case 2:Js=!0}}j.callback!==null&&j.lane!==0&&(s.flags|=64,ue=g.effects,ue===null?g.effects=[j]:ue.push(j))}else Te={eventTime:Te,lane:ue,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ce===null?(re=ce=Te,$=fe):ce=ce.next=Te,A|=ue;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;ue=j,j=ue.next,ue.next=null,g.lastBaseUpdate=ue,g.shared.pending=null}}while(!0);if(ce===null&&($=fe),g.baseState=$,g.firstBaseUpdate=re,g.lastBaseUpdate=ce,a=g.shared.interleaved,a!==null){g=a;do A|=g.lane,g=g.next;while(g!==a)}else E===null&&(g.shared.lanes=0);oa|=A,s.lanes=A,s.memoizedState=fe}}function mw(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var h=s[a],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var Mu={},ji=qs(Mu),Lu=qs(Mu),Vu=qs(Mu);function ia(s){if(s===Mu)throw Error(t(174));return s}function pm(s,a){switch(St(Vu,a),St(Lu,s),St(ji,Mu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:wt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=wt(a,s)}kt(ji),St(ji,a)}function wl(){kt(ji),kt(Lu),kt(Vu)}function gw(s){ia(Vu.current);var a=ia(ji.current),c=wt(a,s.type);a!==c&&(St(Lu,s),St(ji,c))}function mm(s){Lu.current===s&&(kt(ji),kt(Lu))}var Ft=qs(0);function Yd(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var gm=[];function ym(){for(var s=0;s<gm.length;s++)gm[s]._workInProgressVersionPrimary=null;gm.length=0}var Jd=G.ReactCurrentDispatcher,vm=G.ReactCurrentBatchConfig,sa=0,Ut=null,sn=null,dn=null,Xd=!1,ju=!1,Fu=0,kP=0;function On(){throw Error(t(321))}function _m(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!di(s[c],a[c]))return!1;return!0}function wm(s,a,c,h,g,E){if(sa=E,Ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Jd.current=s===null||s.memoizedState===null?MP:LP,s=c(h,g),ju){E=0;do{if(ju=!1,Fu=0,25<=E)throw Error(t(301));E+=1,dn=sn=null,a.updateQueue=null,Jd.current=VP,s=c(h,g)}while(ju)}if(Jd.current=tf,a=sn!==null&&sn.next!==null,sa=0,dn=sn=Ut=null,Xd=!1,a)throw Error(t(300));return s}function Em(){var s=Fu!==0;return Fu=0,s}function Fi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Ut.memoizedState=dn=s:dn=dn.next=s,dn}function Br(){if(sn===null){var s=Ut.alternate;s=s!==null?s.memoizedState:null}else s=sn.next;var a=dn===null?Ut.memoizedState:dn.next;if(a!==null)dn=a,sn=s;else{if(s===null)throw Error(t(310));sn=s,s={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},dn===null?Ut.memoizedState=dn=s:dn=dn.next=s}return dn}function Uu(s,a){return typeof a=="function"?a(s):a}function xm(s){var a=Br(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=sn,g=h.baseQueue,E=c.pending;if(E!==null){if(g!==null){var A=g.next;g.next=E.next,E.next=A}h.baseQueue=g=E,c.pending=null}if(g!==null){E=g.next,h=h.baseState;var j=A=null,$=null,re=E;do{var ce=re.lane;if((sa&ce)===ce)$!==null&&($=$.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),h=re.hasEagerState?re.eagerState:s(h,re.action);else{var fe={lane:ce,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};$===null?(j=$=fe,A=h):$=$.next=fe,Ut.lanes|=ce,oa|=ce}re=re.next}while(re!==null&&re!==E);$===null?A=h:$.next=j,di(h,a.memoizedState)||(sr=!0),a.memoizedState=h,a.baseState=A,a.baseQueue=$,c.lastRenderedState=h}if(s=c.interleaved,s!==null){g=s;do E=g.lane,Ut.lanes|=E,oa|=E,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Tm(s){var a=Br(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,E=a.memoizedState;if(g!==null){c.pending=null;var A=g=g.next;do E=s(E,A.action),A=A.next;while(A!==g);di(E,a.memoizedState)||(sr=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),c.lastRenderedState=E}return[E,h]}function yw(){}function vw(s,a){var c=Ut,h=Br(),g=a(),E=!di(h.memoizedState,g);if(E&&(h.memoizedState=g,sr=!0),h=h.queue,bm(Ew.bind(null,c,h,s),[s]),h.getSnapshot!==a||E||dn!==null&&dn.memoizedState.tag&1){if(c.flags|=2048,Bu(9,ww.bind(null,c,h,g,a),void 0,null),fn===null)throw Error(t(349));sa&30||_w(c,a,g)}return g}function _w(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Ut.updateQueue,a===null?(a={lastEffect:null,stores:null},Ut.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function ww(s,a,c,h){a.value=c,a.getSnapshot=h,xw(a)&&Tw(s)}function Ew(s,a,c){return c(function(){xw(a)&&Tw(s)})}function xw(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!di(s,c)}catch{return!0}}function Tw(s){var a=ys(s,1);a!==null&&gi(a,s,1,-1)}function bw(s){var a=Fi();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:s},a.queue=s,s=s.dispatch=OP.bind(null,Ut,s),[a.memoizedState,s]}function Bu(s,a,c,h){return s={tag:s,create:a,destroy:c,deps:h,next:null},a=Ut.updateQueue,a===null?(a={lastEffect:null,stores:null},Ut.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s)),s}function Iw(){return Br().memoizedState}function Zd(s,a,c,h){var g=Fi();Ut.flags|=s,g.memoizedState=Bu(1|a,c,void 0,h===void 0?null:h)}function ef(s,a,c,h){var g=Br();h=h===void 0?null:h;var E=void 0;if(sn!==null){var A=sn.memoizedState;if(E=A.destroy,h!==null&&_m(h,A.deps)){g.memoizedState=Bu(a,c,E,h);return}}Ut.flags|=s,g.memoizedState=Bu(1|a,c,E,h)}function Sw(s,a){return Zd(8390656,8,s,a)}function bm(s,a){return ef(2048,8,s,a)}function Rw(s,a){return ef(4,2,s,a)}function Cw(s,a){return ef(4,4,s,a)}function Aw(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Pw(s,a,c){return c=c!=null?c.concat([s]):null,ef(4,4,Aw.bind(null,a,s),c)}function Im(){}function kw(s,a){var c=Br();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&_m(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function Nw(s,a){var c=Br();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&_m(a,h[1])?h[0]:(s=s(),c.memoizedState=[s,a],s)}function Dw(s,a,c){return sa&21?(di(c,a)||(c=qo(),Ut.lanes|=c,oa|=c,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,sr=!0),s.memoizedState=c)}function NP(s,a){var c=lt;lt=c!==0&&4>c?c:4,s(!0);var h=vm.transition;vm.transition={};try{s(!1),a()}finally{lt=c,vm.transition=h}}function Ow(){return Br().memoizedState}function DP(s,a,c){var h=no(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},Mw(s))Lw(a,c);else if(c=fw(s,a,c,h),c!==null){var g=Gn();gi(c,s,h,g),Vw(c,a,h)}}function OP(s,a,c){var h=no(s),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(Mw(s))Lw(a,g);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var A=a.lastRenderedState,j=E(A,c);if(g.hasEagerState=!0,g.eagerState=j,di(j,A)){var $=a.interleaved;$===null?(g.next=g,fm(a)):(g.next=$.next,$.next=g),a.interleaved=g;return}}catch{}finally{}c=fw(s,a,g,h),c!==null&&(g=Gn(),gi(c,s,h,g),Vw(c,a,h))}}function Mw(s){var a=s.alternate;return s===Ut||a!==null&&a===Ut}function Lw(s,a){ju=Xd=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Vw(s,a,c){if(c&4194240){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Bs(s,c)}}var tf={readContext:Ur,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},MP={readContext:Ur,useCallback:function(s,a){return Fi().memoizedState=[s,a===void 0?null:a],s},useContext:Ur,useEffect:Sw,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Zd(4194308,4,Aw.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Zd(4194308,4,s,a)},useInsertionEffect:function(s,a){return Zd(4,2,s,a)},useMemo:function(s,a){var c=Fi();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var h=Fi();return a=c!==void 0?c(a):a,h.memoizedState=h.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},h.queue=s,s=s.dispatch=DP.bind(null,Ut,s),[h.memoizedState,s]},useRef:function(s){var a=Fi();return s={current:s},a.memoizedState=s},useState:bw,useDebugValue:Im,useDeferredValue:function(s){return Fi().memoizedState=s},useTransition:function(){var s=bw(!1),a=s[0];return s=NP.bind(null,s[1]),Fi().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var h=Ut,g=Fi();if(Mt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),fn===null)throw Error(t(349));sa&30||_w(h,a,c)}g.memoizedState=c;var E={value:c,getSnapshot:a};return g.queue=E,Sw(Ew.bind(null,h,E,s),[s]),h.flags|=2048,Bu(9,ww.bind(null,h,E,c,a),void 0,null),c},useId:function(){var s=Fi(),a=fn.identifierPrefix;if(Mt){var c=gs,h=ms;c=(h&~(1<<32-zn(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=Fu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=kP++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},LP={readContext:Ur,useCallback:kw,useContext:Ur,useEffect:bm,useImperativeHandle:Pw,useInsertionEffect:Rw,useLayoutEffect:Cw,useMemo:Nw,useReducer:xm,useRef:Iw,useState:function(){return xm(Uu)},useDebugValue:Im,useDeferredValue:function(s){var a=Br();return Dw(a,sn.memoizedState,s)},useTransition:function(){var s=xm(Uu)[0],a=Br().memoizedState;return[s,a]},useMutableSource:yw,useSyncExternalStore:vw,useId:Ow,unstable_isNewReconciler:!1},VP={readContext:Ur,useCallback:kw,useContext:Ur,useEffect:bm,useImperativeHandle:Pw,useInsertionEffect:Rw,useLayoutEffect:Cw,useMemo:Nw,useReducer:Tm,useRef:Iw,useState:function(){return Tm(Uu)},useDebugValue:Im,useDeferredValue:function(s){var a=Br();return sn===null?a.memoizedState=s:Dw(a,sn.memoizedState,s)},useTransition:function(){var s=Tm(Uu)[0],a=Br().memoizedState;return[s,a]},useMutableSource:yw,useSyncExternalStore:vw,useId:Ow,unstable_isNewReconciler:!1};function hi(s,a){if(s&&s.defaultProps){a=le({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Sm(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:le({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var nf={isMounted:function(s){return(s=s._reactInternals)?at(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var h=Gn(),g=no(s),E=vs(h,g);E.payload=a,c!=null&&(E.callback=c),a=Xs(s,E,g),a!==null&&(gi(a,s,g,h),qd(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=Gn(),g=no(s),E=vs(h,g);E.tag=1,E.payload=a,c!=null&&(E.callback=c),a=Xs(s,E,g),a!==null&&(gi(a,s,g,h),qd(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Gn(),h=no(s),g=vs(c,h);g.tag=2,a!=null&&(g.callback=a),a=Xs(s,g,h),a!==null&&(gi(a,s,h,c),qd(a,s,h))}};function jw(s,a,c,h,g,E,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,E,A):a.prototype&&a.prototype.isPureReactComponent?!Ru(c,h)||!Ru(g,E):!0}function Fw(s,a,c){var h=!1,g=Qs,E=a.contextType;return typeof E=="object"&&E!==null?E=Ur(E):(g=ir(a)?ea:Dn.current,h=a.contextTypes,E=(h=h!=null)?hl(s,g):Qs),a=new a(c,E),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=nf,s.stateNode=a,a._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=E),a}function Uw(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&nf.enqueueReplaceState(a,a.state,null)}function Rm(s,a,c,h){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},hm(s);var E=a.contextType;typeof E=="object"&&E!==null?g.context=Ur(E):(E=ir(a)?ea:Dn.current,g.context=hl(s,E)),g.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Sm(s,a,E,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&nf.enqueueReplaceState(g,g.state,null),Qd(s,c,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function El(s,a){try{var c="",h=a;do c+=Ie(h),h=h.return;while(h);var g=c}catch(E){g=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:a,stack:g,digest:null}}function Cm(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Am(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var jP=typeof WeakMap=="function"?WeakMap:Map;function Bw(s,a,c){c=vs(-1,c),c.tag=3,c.payload={element:null};var h=a.value;return c.callback=function(){cf||(cf=!0,Hm=h),Am(s,a)},c}function zw(s,a,c){c=vs(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=a.value;c.payload=function(){return h(g)},c.callback=function(){Am(s,a)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){Am(s,a),typeof h!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var A=a.stack;this.componentDidCatch(a.value,{componentStack:A!==null?A:""})}),c}function $w(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new jP;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(g.add(c),s=XP.bind(null,s,a,c),a.then(s,s))}function Hw(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Gw(s,a,c,h,g){return s.mode&1?(s.flags|=65536,s.lanes=g,s):(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=vs(-1,1),a.tag=2,Xs(c,a,1))),c.lanes|=1),s)}var FP=G.ReactCurrentOwner,sr=!1;function Hn(s,a,c,h){a.child=s===null?dw(a,null,c,h):yl(a,s.child,c,h)}function Ww(s,a,c,h,g){c=c.render;var E=a.ref;return _l(a,g),h=wm(s,a,c,h,E,g),c=Em(),s!==null&&!sr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,_s(s,a,g)):(Mt&&c&&rm(a),a.flags|=1,Hn(s,a,h,g),a.child)}function Kw(s,a,c,h,g){if(s===null){var E=c.type;return typeof E=="function"&&!Jm(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=E,qw(s,a,E,h,g)):(s=gf(c.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(E=s.child,!(s.lanes&g)){var A=E.memoizedProps;if(c=c.compare,c=c!==null?c:Ru,c(A,h)&&s.ref===a.ref)return _s(s,a,g)}return a.flags|=1,s=io(E,h),s.ref=a.ref,s.return=a,a.child=s}function qw(s,a,c,h,g){if(s!==null){var E=s.memoizedProps;if(Ru(E,h)&&s.ref===a.ref)if(sr=!1,a.pendingProps=h=E,(s.lanes&g)!==0)s.flags&131072&&(sr=!0);else return a.lanes=s.lanes,_s(s,a,g)}return Pm(s,a,c,h,g)}function Qw(s,a,c){var h=a.pendingProps,g=h.children,E=s!==null?s.memoizedState:null;if(h.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Tl,Tr),Tr|=c;else{if(!(c&1073741824))return s=E!==null?E.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,St(Tl,Tr),Tr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=E!==null?E.baseLanes:c,St(Tl,Tr),Tr|=h}else E!==null?(h=E.baseLanes|c,a.memoizedState=null):h=c,St(Tl,Tr),Tr|=h;return Hn(s,a,g,c),a.child}function Yw(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Pm(s,a,c,h,g){var E=ir(c)?ea:Dn.current;return E=hl(a,E),_l(a,g),c=wm(s,a,c,h,E,g),h=Em(),s!==null&&!sr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,_s(s,a,g)):(Mt&&h&&rm(a),a.flags|=1,Hn(s,a,c,g),a.child)}function Jw(s,a,c,h,g){if(ir(c)){var E=!0;Ud(a)}else E=!1;if(_l(a,g),a.stateNode===null)sf(s,a),Fw(a,c,h),Rm(a,c,h,g),h=!0;else if(s===null){var A=a.stateNode,j=a.memoizedProps;A.props=j;var $=A.context,re=c.contextType;typeof re=="object"&&re!==null?re=Ur(re):(re=ir(c)?ea:Dn.current,re=hl(a,re));var ce=c.getDerivedStateFromProps,fe=typeof ce=="function"||typeof A.getSnapshotBeforeUpdate=="function";fe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(j!==h||$!==re)&&Uw(a,A,h,re),Js=!1;var ue=a.memoizedState;A.state=ue,Qd(a,h,A,g),$=a.memoizedState,j!==h||ue!==$||rr.current||Js?(typeof ce=="function"&&(Sm(a,c,ce,h),$=a.memoizedState),(j=Js||jw(a,c,j,h,ue,$,re))?(fe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=$),A.props=h,A.state=$,A.context=re,h=j):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{A=a.stateNode,hw(s,a),j=a.memoizedProps,re=a.type===a.elementType?j:hi(a.type,j),A.props=re,fe=a.pendingProps,ue=A.context,$=c.contextType,typeof $=="object"&&$!==null?$=Ur($):($=ir(c)?ea:Dn.current,$=hl(a,$));var Te=c.getDerivedStateFromProps;(ce=typeof Te=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(j!==fe||ue!==$)&&Uw(a,A,h,$),Js=!1,ue=a.memoizedState,A.state=ue,Qd(a,h,A,g);var ke=a.memoizedState;j!==fe||ue!==ke||rr.current||Js?(typeof Te=="function"&&(Sm(a,c,Te,h),ke=a.memoizedState),(re=Js||jw(a,c,re,h,ue,ke,$)||!1)?(ce||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(h,ke,$),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(h,ke,$)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||j===s.memoizedProps&&ue===s.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ue===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=ke),A.props=h,A.state=ke,A.context=$,h=re):(typeof A.componentDidUpdate!="function"||j===s.memoizedProps&&ue===s.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ue===s.memoizedState||(a.flags|=1024),h=!1)}return km(s,a,c,h,E,g)}function km(s,a,c,h,g,E){Yw(s,a);var A=(a.flags&128)!==0;if(!h&&!A)return g&&nw(a,c,!1),_s(s,a,E);h=a.stateNode,FP.current=a;var j=A&&typeof c.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,s!==null&&A?(a.child=yl(a,s.child,null,E),a.child=yl(a,null,j,E)):Hn(s,a,j,E),a.memoizedState=h.state,g&&nw(a,c,!0),a.child}function Xw(s){var a=s.stateNode;a.pendingContext?ew(s,a.pendingContext,a.pendingContext!==a.context):a.context&&ew(s,a.context,!1),pm(s,a.containerInfo)}function Zw(s,a,c,h,g){return gl(),am(g),a.flags|=256,Hn(s,a,c,h),a.child}var Nm={dehydrated:null,treeContext:null,retryLane:0};function Dm(s){return{baseLanes:s,cachePool:null,transitions:null}}function eE(s,a,c){var h=a.pendingProps,g=Ft.current,E=!1,A=(a.flags&128)!==0,j;if((j=A)||(j=s!==null&&s.memoizedState===null?!1:(g&2)!==0),j?(E=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),St(Ft,g&1),s===null)return om(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(A=h.children,s=h.fallback,E?(h=a.mode,E=a.child,A={mode:"hidden",children:A},!(h&1)&&E!==null?(E.childLanes=0,E.pendingProps=A):E=yf(A,h,0,null),s=ca(s,h,c,null),E.return=a,s.return=a,E.sibling=s,a.child=E,a.child.memoizedState=Dm(c),a.memoizedState=Nm,s):Om(a,A));if(g=s.memoizedState,g!==null&&(j=g.dehydrated,j!==null))return UP(s,a,A,h,j,g,c);if(E){E=h.fallback,A=a.mode,g=s.child,j=g.sibling;var $={mode:"hidden",children:h.children};return!(A&1)&&a.child!==g?(h=a.child,h.childLanes=0,h.pendingProps=$,a.deletions=null):(h=io(g,$),h.subtreeFlags=g.subtreeFlags&14680064),j!==null?E=io(j,E):(E=ca(E,A,c,null),E.flags|=2),E.return=a,h.return=a,h.sibling=E,a.child=h,h=E,E=a.child,A=s.child.memoizedState,A=A===null?Dm(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},E.memoizedState=A,E.childLanes=s.childLanes&~c,a.memoizedState=Nm,h}return E=s.child,s=E.sibling,h=io(E,{mode:"visible",children:h.children}),!(a.mode&1)&&(h.lanes=c),h.return=a,h.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=h,a.memoizedState=null,h}function Om(s,a){return a=yf({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function rf(s,a,c,h){return h!==null&&am(h),yl(a,s.child,null,c),s=Om(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function UP(s,a,c,h,g,E,A){if(c)return a.flags&256?(a.flags&=-257,h=Cm(Error(t(422))),rf(s,a,A,h)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(E=h.fallback,g=a.mode,h=yf({mode:"visible",children:h.children},g,0,null),E=ca(E,g,A,null),E.flags|=2,h.return=a,E.return=a,h.sibling=E,a.child=h,a.mode&1&&yl(a,s.child,null,A),a.child.memoizedState=Dm(A),a.memoizedState=Nm,E);if(!(a.mode&1))return rf(s,a,A,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var j=h.dgst;return h=j,E=Error(t(419)),h=Cm(E,h,void 0),rf(s,a,A,h)}if(j=(A&s.childLanes)!==0,sr||j){if(h=fn,h!==null){switch(A&-A){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(h.suspendedLanes|A)?0:g,g!==0&&g!==E.retryLane&&(E.retryLane=g,ys(s,g),gi(h,s,g,-1))}return Ym(),h=Cm(Error(t(421))),rf(s,a,A,h)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=ZP.bind(null,s),g._reactRetry=a,null):(s=E.treeContext,xr=Ks(g.nextSibling),Er=a,Mt=!0,fi=null,s!==null&&(jr[Fr++]=ms,jr[Fr++]=gs,jr[Fr++]=ta,ms=s.id,gs=s.overflow,ta=a),a=Om(a,h.children),a.flags|=4096,a)}function tE(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),dm(s.return,a,c)}function Mm(s,a,c,h,g){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=c,E.tailMode=g)}function nE(s,a,c){var h=a.pendingProps,g=h.revealOrder,E=h.tail;if(Hn(s,a,h.children,c),h=Ft.current,h&2)h=h&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tE(s,c,a);else if(s.tag===19)tE(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(St(Ft,h),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&Yd(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Mm(a,!1,g,c,E);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Yd(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Mm(a,!0,c,null,E);break;case"together":Mm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function sf(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function _s(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),oa|=a.lanes,!(c&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=io(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=io(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function BP(s,a,c){switch(a.tag){case 3:Xw(a),gl();break;case 5:gw(a);break;case 1:ir(a.type)&&Ud(a);break;case 4:pm(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,g=a.memoizedProps.value;St(Wd,h._currentValue),h._currentValue=g;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(St(Ft,Ft.current&1),a.flags|=128,null):c&a.child.childLanes?eE(s,a,c):(St(Ft,Ft.current&1),s=_s(s,a,c),s!==null?s.sibling:null);St(Ft,Ft.current&1);break;case 19:if(h=(c&a.childLanes)!==0,s.flags&128){if(h)return nE(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),St(Ft,Ft.current),h)break;return null;case 22:case 23:return a.lanes=0,Qw(s,a,c)}return _s(s,a,c)}var rE,Lm,iE,sE;rE=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Lm=function(){},iE=function(s,a,c,h){var g=s.memoizedProps;if(g!==h){s=a.stateNode,ia(ji.current);var E=null;switch(c){case"input":g=Yn(s,g),h=Yn(s,h),E=[];break;case"select":g=le({},g,{value:void 0}),h=le({},h,{value:void 0}),E=[];break;case"textarea":g=Xn(s,g),h=Xn(s,h),E=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Vd)}An(c,h);var A;c=null;for(re in g)if(!h.hasOwnProperty(re)&&g.hasOwnProperty(re)&&g[re]!=null)if(re==="style"){var j=g[re];for(A in j)j.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(i.hasOwnProperty(re)?E||(E=[]):(E=E||[]).push(re,null));for(re in h){var $=h[re];if(j=g!=null?g[re]:void 0,h.hasOwnProperty(re)&&$!==j&&($!=null||j!=null))if(re==="style")if(j){for(A in j)!j.hasOwnProperty(A)||$&&$.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in $)$.hasOwnProperty(A)&&j[A]!==$[A]&&(c||(c={}),c[A]=$[A])}else c||(E||(E=[]),E.push(re,c)),c=$;else re==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,j=j?j.__html:void 0,$!=null&&j!==$&&(E=E||[]).push(re,$)):re==="children"?typeof $!="string"&&typeof $!="number"||(E=E||[]).push(re,""+$):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(i.hasOwnProperty(re)?($!=null&&re==="onScroll"&&Pt("scroll",s),E||j===$||(E=[])):(E=E||[]).push(re,$))}c&&(E=E||[]).push("style",c);var re=E;(a.updateQueue=re)&&(a.flags|=4)}},sE=function(s,a,c,h){c!==h&&(a.flags|=4)};function zu(s,a){if(!Mt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Mn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function zP(s,a,c){var h=a.pendingProps;switch(im(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(a),null;case 1:return ir(a.type)&&Fd(),Mn(a),null;case 3:return h=a.stateNode,wl(),kt(rr),kt(Dn),ym(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Hd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,fi!==null&&(Km(fi),fi=null))),Lm(s,a),Mn(a),null;case 5:mm(a);var g=ia(Vu.current);if(c=a.type,s!==null&&a.stateNode!=null)iE(s,a,c,h,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(t(166));return Mn(a),null}if(s=ia(ji.current),Hd(a)){h=a.stateNode,c=a.type;var E=a.memoizedProps;switch(h[Vi]=a,h[Nu]=E,s=(a.mode&1)!==0,c){case"dialog":Pt("cancel",h),Pt("close",h);break;case"iframe":case"object":case"embed":Pt("load",h);break;case"video":case"audio":for(g=0;g<Au.length;g++)Pt(Au[g],h);break;case"source":Pt("error",h);break;case"img":case"image":case"link":Pt("error",h),Pt("load",h);break;case"details":Pt("toggle",h);break;case"input":Pr(h,E),Pt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!E.multiple},Pt("invalid",h);break;case"textarea":yn(h,E),Pt("invalid",h)}An(c,E),g=null;for(var A in E)if(E.hasOwnProperty(A)){var j=E[A];A==="children"?typeof j=="string"?h.textContent!==j&&(E.suppressHydrationWarning!==!0&&Ld(h.textContent,j,s),g=["children",j]):typeof j=="number"&&h.textContent!==""+j&&(E.suppressHydrationWarning!==!0&&Ld(h.textContent,j,s),g=["children",""+j]):i.hasOwnProperty(A)&&j!=null&&A==="onScroll"&&Pt("scroll",h)}switch(c){case"input":qt(h),kr(h,E,!0);break;case"textarea":qt(h),Cn(h);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(h.onclick=Vd)}h=g,a.updateQueue=h,h!==null&&(a.flags|=4)}else{A=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Je(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=A.createElement(c,{is:h.is}):(s=A.createElement(c),c==="select"&&(A=s,h.multiple?A.multiple=!0:h.size&&(A.size=h.size))):s=A.createElementNS(s,c),s[Vi]=a,s[Nu]=h,rE(s,a,!1,!1),a.stateNode=s;e:{switch(A=Pi(c,h),c){case"dialog":Pt("cancel",s),Pt("close",s),g=h;break;case"iframe":case"object":case"embed":Pt("load",s),g=h;break;case"video":case"audio":for(g=0;g<Au.length;g++)Pt(Au[g],s);g=h;break;case"source":Pt("error",s),g=h;break;case"img":case"image":case"link":Pt("error",s),Pt("load",s),g=h;break;case"details":Pt("toggle",s),g=h;break;case"input":Pr(s,h),g=Yn(s,h),Pt("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=le({},h,{value:void 0}),Pt("invalid",s);break;case"textarea":yn(s,h),g=Xn(s,h),Pt("invalid",s);break;default:g=h}An(c,g),j=g;for(E in j)if(j.hasOwnProperty(E)){var $=j[E];E==="style"?Zn(s,$):E==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&ss(s,$)):E==="children"?typeof $=="string"?(c!=="textarea"||$!=="")&&$t(s,$):typeof $=="number"&&$t(s,""+$):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?$!=null&&E==="onScroll"&&Pt("scroll",s):$!=null&&U(s,E,$,A))}switch(c){case"input":qt(s),kr(s,h,!1);break;case"textarea":qt(s),Cn(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Ye(h.value));break;case"select":s.multiple=!!h.multiple,E=h.value,E!=null?jt(s,!!h.multiple,E,!1):h.defaultValue!=null&&jt(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Vd)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Mn(a),null;case 6:if(s&&a.stateNode!=null)sE(s,a,s.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(t(166));if(c=ia(Vu.current),ia(ji.current),Hd(a)){if(h=a.stateNode,c=a.memoizedProps,h[Vi]=a,(E=h.nodeValue!==c)&&(s=Er,s!==null))switch(s.tag){case 3:Ld(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ld(h.nodeValue,c,(s.mode&1)!==0)}E&&(a.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Vi]=a,a.stateNode=h}return Mn(a),null;case 13:if(kt(Ft),h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Mt&&xr!==null&&a.mode&1&&!(a.flags&128))lw(),gl(),a.flags|=98560,E=!1;else if(E=Hd(a),h!==null&&h.dehydrated!==null){if(s===null){if(!E)throw Error(t(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[Vi]=a}else gl(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Mn(a),E=!1}else fi!==null&&(Km(fi),fi=null),E=!0;if(!E)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(a.child.flags|=8192,a.mode&1&&(s===null||Ft.current&1?on===0&&(on=3):Ym())),a.updateQueue!==null&&(a.flags|=4),Mn(a),null);case 4:return wl(),Lm(s,a),s===null&&Pu(a.stateNode.containerInfo),Mn(a),null;case 10:return cm(a.type._context),Mn(a),null;case 17:return ir(a.type)&&Fd(),Mn(a),null;case 19:if(kt(Ft),E=a.memoizedState,E===null)return Mn(a),null;if(h=(a.flags&128)!==0,A=E.rendering,A===null)if(h)zu(E,!1);else{if(on!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(A=Yd(s),A!==null){for(a.flags|=128,zu(E,!1),h=A.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=c,c=a.child;c!==null;)E=c,s=h,E.flags&=14680066,A=E.alternate,A===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=A.childLanes,E.lanes=A.lanes,E.child=A.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=A.memoizedProps,E.memoizedState=A.memoizedState,E.updateQueue=A.updateQueue,E.type=A.type,s=A.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return St(Ft,Ft.current&1|2),a.child}s=s.sibling}E.tail!==null&&yt()>bl&&(a.flags|=128,h=!0,zu(E,!1),a.lanes=4194304)}else{if(!h)if(s=Yd(A),s!==null){if(a.flags|=128,h=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),zu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!Mt)return Mn(a),null}else 2*yt()-E.renderingStartTime>bl&&c!==1073741824&&(a.flags|=128,h=!0,zu(E,!1),a.lanes=4194304);E.isBackwards?(A.sibling=a.child,a.child=A):(c=E.last,c!==null?c.sibling=A:a.child=A,E.last=A)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=yt(),a.sibling=null,c=Ft.current,St(Ft,h?c&1|2:c&1),a):(Mn(a),null);case 22:case 23:return Qm(),h=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(a.flags|=8192),h&&a.mode&1?Tr&1073741824&&(Mn(a),a.subtreeFlags&6&&(a.flags|=8192)):Mn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function $P(s,a){switch(im(a),a.tag){case 1:return ir(a.type)&&Fd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return wl(),kt(rr),kt(Dn),ym(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return mm(a),null;case 13:if(kt(Ft),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));gl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return kt(Ft),null;case 4:return wl(),null;case 10:return cm(a.type._context),null;case 22:case 23:return Qm(),null;case 24:return null;default:return null}}var of=!1,Ln=!1,HP=typeof WeakSet=="function"?WeakSet:Set,Re=null;function xl(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Gt(s,a,h)}else c.current=null}function Vm(s,a,c){try{c()}catch(h){Gt(s,a,h)}}var oE=!1;function GP(s,a){if(Qp=Hs,s=j_(),Bp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,E=h.focusNode;h=h.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var A=0,j=-1,$=-1,re=0,ce=0,fe=s,ue=null;t:for(;;){for(var Te;fe!==c||g!==0&&fe.nodeType!==3||(j=A+g),fe!==E||h!==0&&fe.nodeType!==3||($=A+h),fe.nodeType===3&&(A+=fe.nodeValue.length),(Te=fe.firstChild)!==null;)ue=fe,fe=Te;for(;;){if(fe===s)break t;if(ue===c&&++re===g&&(j=A),ue===E&&++ce===h&&($=A),(Te=fe.nextSibling)!==null)break;fe=ue,ue=fe.parentNode}fe=Te}c=j===-1||$===-1?null:{start:j,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(Yp={focusedElem:s,selectionRange:c},Hs=!1,Re=a;Re!==null;)if(a=Re,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Re=s;else for(;Re!==null;){a=Re;try{var ke=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var De=ke.memoizedProps,Qt=ke.memoizedState,J=a.stateNode,W=J.getSnapshotBeforeUpdate(a.elementType===a.type?De:hi(a.type,De),Qt);J.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var te=a.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){Gt(a,a.return,pe)}if(s=a.sibling,s!==null){s.return=a.return,Re=s;break}Re=a.return}return ke=oE,oE=!1,ke}function $u(s,a,c){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var E=g.destroy;g.destroy=void 0,E!==void 0&&Vm(a,c,E)}g=g.next}while(g!==h)}}function af(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==a)}}function jm(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function aE(s){var a=s.alternate;a!==null&&(s.alternate=null,aE(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Vi],delete a[Nu],delete a[em],delete a[RP],delete a[CP])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function lE(s){return s.tag===5||s.tag===3||s.tag===4}function uE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||lE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Fm(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Vd));else if(h!==4&&(s=s.child,s!==null))for(Fm(s,a,c),s=s.sibling;s!==null;)Fm(s,a,c),s=s.sibling}function Um(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Um(s,a,c),s=s.sibling;s!==null;)Um(s,a,c),s=s.sibling}var bn=null,pi=!1;function Zs(s,a,c){for(c=c.child;c!==null;)cE(s,a,c),c=c.sibling}function cE(s,a,c){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(er,c)}catch{}switch(c.tag){case 5:Ln||xl(c,a);case 6:var h=bn,g=pi;bn=null,Zs(s,a,c),bn=h,pi=g,bn!==null&&(pi?(s=bn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):bn.removeChild(c.stateNode));break;case 18:bn!==null&&(pi?(s=bn,c=c.stateNode,s.nodeType===8?Zp(s.parentNode,c):s.nodeType===1&&Zp(s,c),ui(s)):Zp(bn,c.stateNode));break;case 4:h=bn,g=pi,bn=c.stateNode.containerInfo,pi=!0,Zs(s,a,c),bn=h,pi=g;break;case 0:case 11:case 14:case 15:if(!Ln&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var E=g,A=E.destroy;E=E.tag,A!==void 0&&(E&2||E&4)&&Vm(c,a,A),g=g.next}while(g!==h)}Zs(s,a,c);break;case 1:if(!Ln&&(xl(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(j){Gt(c,a,j)}Zs(s,a,c);break;case 21:Zs(s,a,c);break;case 22:c.mode&1?(Ln=(h=Ln)||c.memoizedState!==null,Zs(s,a,c),Ln=h):Zs(s,a,c);break;default:Zs(s,a,c)}}function dE(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new HP),a.forEach(function(h){var g=ek.bind(null,s,h);c.has(h)||(c.add(h),h.then(g,g))})}}function mi(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var E=s,A=a,j=A;e:for(;j!==null;){switch(j.tag){case 5:bn=j.stateNode,pi=!1;break e;case 3:bn=j.stateNode.containerInfo,pi=!0;break e;case 4:bn=j.stateNode.containerInfo,pi=!0;break e}j=j.return}if(bn===null)throw Error(t(160));cE(E,A,g),bn=null,pi=!1;var $=g.alternate;$!==null&&($.return=null),g.return=null}catch(re){Gt(g,a,re)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)fE(a,s),a=a.sibling}function fE(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(mi(a,s),Ui(s),h&4){try{$u(3,s,s.return),af(3,s)}catch(De){Gt(s,s.return,De)}try{$u(5,s,s.return)}catch(De){Gt(s,s.return,De)}}break;case 1:mi(a,s),Ui(s),h&512&&c!==null&&xl(c,c.return);break;case 5:if(mi(a,s),Ui(s),h&512&&c!==null&&xl(c,c.return),s.flags&32){var g=s.stateNode;try{$t(g,"")}catch(De){Gt(s,s.return,De)}}if(h&4&&(g=s.stateNode,g!=null)){var E=s.memoizedProps,A=c!==null?c.memoizedProps:E,j=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{j==="input"&&E.type==="radio"&&E.name!=null&&mr(g,E),Pi(j,A);var re=Pi(j,E);for(A=0;A<$.length;A+=2){var ce=$[A],fe=$[A+1];ce==="style"?Zn(g,fe):ce==="dangerouslySetInnerHTML"?ss(g,fe):ce==="children"?$t(g,fe):U(g,ce,fe,re)}switch(j){case"input":Zr(g,E);break;case"textarea":Nr(g,E);break;case"select":var ue=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!E.multiple;var Te=E.value;Te!=null?jt(g,!!E.multiple,Te,!1):ue!==!!E.multiple&&(E.defaultValue!=null?jt(g,!!E.multiple,E.defaultValue,!0):jt(g,!!E.multiple,E.multiple?[]:"",!1))}g[Nu]=E}catch(De){Gt(s,s.return,De)}}break;case 6:if(mi(a,s),Ui(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,E=s.memoizedProps;try{g.nodeValue=E}catch(De){Gt(s,s.return,De)}}break;case 3:if(mi(a,s),Ui(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{ui(a.containerInfo)}catch(De){Gt(s,s.return,De)}break;case 4:mi(a,s),Ui(s);break;case 13:mi(a,s),Ui(s),g=s.child,g.flags&8192&&(E=g.memoizedState!==null,g.stateNode.isHidden=E,!E||g.alternate!==null&&g.alternate.memoizedState!==null||($m=yt())),h&4&&dE(s);break;case 22:if(ce=c!==null&&c.memoizedState!==null,s.mode&1?(Ln=(re=Ln)||ce,mi(a,s),Ln=re):mi(a,s),Ui(s),h&8192){if(re=s.memoizedState!==null,(s.stateNode.isHidden=re)&&!ce&&s.mode&1)for(Re=s,ce=s.child;ce!==null;){for(fe=Re=ce;Re!==null;){switch(ue=Re,Te=ue.child,ue.tag){case 0:case 11:case 14:case 15:$u(4,ue,ue.return);break;case 1:xl(ue,ue.return);var ke=ue.stateNode;if(typeof ke.componentWillUnmount=="function"){h=ue,c=ue.return;try{a=h,ke.props=a.memoizedProps,ke.state=a.memoizedState,ke.componentWillUnmount()}catch(De){Gt(h,c,De)}}break;case 5:xl(ue,ue.return);break;case 22:if(ue.memoizedState!==null){mE(fe);continue}}Te!==null?(Te.return=ue,Re=Te):mE(fe)}ce=ce.sibling}e:for(ce=null,fe=s;;){if(fe.tag===5){if(ce===null){ce=fe;try{g=fe.stateNode,re?(E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(j=fe.stateNode,$=fe.memoizedProps.style,A=$!=null&&$.hasOwnProperty("display")?$.display:null,j.style.display=Or("display",A))}catch(De){Gt(s,s.return,De)}}}else if(fe.tag===6){if(ce===null)try{fe.stateNode.nodeValue=re?"":fe.memoizedProps}catch(De){Gt(s,s.return,De)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===s)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===s)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===s)break e;ce===fe&&(ce=null),fe=fe.return}ce===fe&&(ce=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:mi(a,s),Ui(s),h&4&&dE(s);break;case 21:break;default:mi(a,s),Ui(s)}}function Ui(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(lE(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&($t(g,""),h.flags&=-33);var E=uE(s);Um(s,E,g);break;case 3:case 4:var A=h.stateNode.containerInfo,j=uE(s);Fm(s,j,A);break;default:throw Error(t(161))}}catch($){Gt(s,s.return,$)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function WP(s,a,c){Re=s,hE(s)}function hE(s,a,c){for(var h=(s.mode&1)!==0;Re!==null;){var g=Re,E=g.child;if(g.tag===22&&h){var A=g.memoizedState!==null||of;if(!A){var j=g.alternate,$=j!==null&&j.memoizedState!==null||Ln;j=of;var re=Ln;if(of=A,(Ln=$)&&!re)for(Re=g;Re!==null;)A=Re,$=A.child,A.tag===22&&A.memoizedState!==null?gE(g):$!==null?($.return=A,Re=$):gE(g);for(;E!==null;)Re=E,hE(E),E=E.sibling;Re=g,of=j,Ln=re}pE(s)}else g.subtreeFlags&8772&&E!==null?(E.return=g,Re=E):pE(s)}}function pE(s){for(;Re!==null;){var a=Re;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Ln||af(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!Ln)if(c===null)h.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:hi(a.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&mw(a,E,h);break;case 3:var A=a.updateQueue;if(A!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}mw(a,A,c)}break;case 5:var j=a.stateNode;if(c===null&&a.flags&4){c=j;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&c.focus();break;case"img":$.src&&(c.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var re=a.alternate;if(re!==null){var ce=re.memoizedState;if(ce!==null){var fe=ce.dehydrated;fe!==null&&ui(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ln||a.flags&512&&jm(a)}catch(ue){Gt(a,a.return,ue)}}if(a===s){Re=null;break}if(c=a.sibling,c!==null){c.return=a.return,Re=c;break}Re=a.return}}function mE(s){for(;Re!==null;){var a=Re;if(a===s){Re=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Re=c;break}Re=a.return}}function gE(s){for(;Re!==null;){var a=Re;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{af(4,a)}catch($){Gt(a,c,$)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var g=a.return;try{h.componentDidMount()}catch($){Gt(a,g,$)}}var E=a.return;try{jm(a)}catch($){Gt(a,E,$)}break;case 5:var A=a.return;try{jm(a)}catch($){Gt(a,A,$)}}}catch($){Gt(a,a.return,$)}if(a===s){Re=null;break}var j=a.sibling;if(j!==null){j.return=a.return,Re=j;break}Re=a.return}}var KP=Math.ceil,lf=G.ReactCurrentDispatcher,Bm=G.ReactCurrentOwner,zr=G.ReactCurrentBatchConfig,ht=0,fn=null,en=null,In=0,Tr=0,Tl=qs(0),on=0,Hu=null,oa=0,uf=0,zm=0,Gu=null,or=null,$m=0,bl=1/0,ws=null,cf=!1,Hm=null,eo=null,df=!1,to=null,ff=0,Wu=0,Gm=null,hf=-1,pf=0;function Gn(){return ht&6?yt():hf!==-1?hf:hf=yt()}function no(s){return s.mode&1?ht&2&&In!==0?In&-In:PP.transition!==null?(pf===0&&(pf=qo()),pf):(s=lt,s!==0||(s=window.event,s=s===void 0?16:wu(s.type)),s):1}function gi(s,a,c,h){if(50<Wu)throw Wu=0,Gm=null,Error(t(185));Us(s,c,h),(!(ht&2)||s!==fn)&&(s===fn&&(!(ht&2)&&(uf|=c),on===4&&ro(s,In)),ar(s,h),c===1&&ht===0&&!(a.mode&1)&&(bl=yt()+500,Bd&&Ys()))}function ar(s,a){var c=s.callbackNode;ls(s,a);var h=Ko(s,s===fn?In:0);if(h===0)c!==null&&os(c),s.callbackNode=null,s.callbackPriority=0;else if(a=h&-h,s.callbackPriority!==a){if(c!=null&&os(c),a===1)s.tag===0?AP(vE.bind(null,s)):rw(vE.bind(null,s)),IP(function(){!(ht&6)&&Ys()}),c=null;else{switch(zs(h)){case 1:c=ut;break;case 4:c=Ct;break;case 16:c=En;break;case 536870912:c=At;break;default:c=En}c=SE(c,yE.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function yE(s,a){if(hf=-1,pf=0,ht&6)throw Error(t(327));var c=s.callbackNode;if(Il()&&s.callbackNode!==c)return null;var h=Ko(s,s===fn?In:0);if(h===0)return null;if(h&30||h&s.expiredLanes||a)a=mf(s,h);else{a=h;var g=ht;ht|=2;var E=wE();(fn!==s||In!==a)&&(ws=null,bl=yt()+500,la(s,a));do try{YP();break}catch(j){_E(s,j)}while(!0);um(),lf.current=E,ht=g,en!==null?a=0:(fn=null,In=0,a=on)}if(a!==0){if(a===2&&(g=vr(s),g!==0&&(h=g,a=Wm(s,g))),a===1)throw c=Hu,la(s,0),ro(s,h),ar(s,yt()),c;if(a===6)ro(s,h);else{if(g=s.current.alternate,!(h&30)&&!qP(g)&&(a=mf(s,h),a===2&&(E=vr(s),E!==0&&(h=E,a=Wm(s,E))),a===1))throw c=Hu,la(s,0),ro(s,h),ar(s,yt()),c;switch(s.finishedWork=g,s.finishedLanes=h,a){case 0:case 1:throw Error(t(345));case 2:ua(s,or,ws);break;case 3:if(ro(s,h),(h&130023424)===h&&(a=$m+500-yt(),10<a)){if(Ko(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){Gn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Xp(ua.bind(null,s,or,ws),a);break}ua(s,or,ws);break;case 4:if(ro(s,h),(h&4194240)===h)break;for(a=s.eventTimes,g=-1;0<h;){var A=31-zn(h);E=1<<A,A=a[A],A>g&&(g=A),h&=~E}if(h=g,h=yt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*KP(h/1960))-h,10<h){s.timeoutHandle=Xp(ua.bind(null,s,or,ws),h);break}ua(s,or,ws);break;case 5:ua(s,or,ws);break;default:throw Error(t(329))}}}return ar(s,yt()),s.callbackNode===c?yE.bind(null,s):null}function Wm(s,a){var c=Gu;return s.current.memoizedState.isDehydrated&&(la(s,a).flags|=256),s=mf(s,a),s!==2&&(a=or,or=c,a!==null&&Km(a)),s}function Km(s){or===null?or=s:or.push.apply(or,s)}function qP(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],E=g.getSnapshot;g=g.value;try{if(!di(E(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ro(s,a){for(a&=~zm,a&=~uf,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-zn(a),h=1<<c;s[c]=-1,a&=~h}}function vE(s){if(ht&6)throw Error(t(327));Il();var a=Ko(s,0);if(!(a&1))return ar(s,yt()),null;var c=mf(s,a);if(s.tag!==0&&c===2){var h=vr(s);h!==0&&(a=h,c=Wm(s,h))}if(c===1)throw c=Hu,la(s,0),ro(s,a),ar(s,yt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,ua(s,or,ws),ar(s,yt()),null}function qm(s,a){var c=ht;ht|=1;try{return s(a)}finally{ht=c,ht===0&&(bl=yt()+500,Bd&&Ys())}}function aa(s){to!==null&&to.tag===0&&!(ht&6)&&Il();var a=ht;ht|=1;var c=zr.transition,h=lt;try{if(zr.transition=null,lt=1,s)return s()}finally{lt=h,zr.transition=c,ht=a,!(ht&6)&&Ys()}}function Qm(){Tr=Tl.current,kt(Tl)}function la(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,bP(c)),en!==null)for(c=en.return;c!==null;){var h=c;switch(im(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Fd();break;case 3:wl(),kt(rr),kt(Dn),ym();break;case 5:mm(h);break;case 4:wl();break;case 13:kt(Ft);break;case 19:kt(Ft);break;case 10:cm(h.type._context);break;case 22:case 23:Qm()}c=c.return}if(fn=s,en=s=io(s.current,null),In=Tr=a,on=0,Hu=null,zm=uf=oa=0,or=Gu=null,ra!==null){for(a=0;a<ra.length;a++)if(c=ra[a],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,E=c.pending;if(E!==null){var A=E.next;E.next=g,h.next=A}c.pending=h}ra=null}return s}function _E(s,a){do{var c=en;try{if(um(),Jd.current=tf,Xd){for(var h=Ut.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Xd=!1}if(sa=0,dn=sn=Ut=null,ju=!1,Fu=0,Bm.current=null,c===null||c.return===null){on=1,Hu=a,en=null;break}e:{var E=s,A=c.return,j=c,$=a;if(a=In,j.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var re=$,ce=j,fe=ce.tag;if(!(ce.mode&1)&&(fe===0||fe===11||fe===15)){var ue=ce.alternate;ue?(ce.updateQueue=ue.updateQueue,ce.memoizedState=ue.memoizedState,ce.lanes=ue.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Te=Hw(A);if(Te!==null){Te.flags&=-257,Gw(Te,A,j,E,a),Te.mode&1&&$w(E,re,a),a=Te,$=re;var ke=a.updateQueue;if(ke===null){var De=new Set;De.add($),a.updateQueue=De}else ke.add($);break e}else{if(!(a&1)){$w(E,re,a),Ym();break e}$=Error(t(426))}}else if(Mt&&j.mode&1){var Qt=Hw(A);if(Qt!==null){!(Qt.flags&65536)&&(Qt.flags|=256),Gw(Qt,A,j,E,a),am(El($,j));break e}}E=$=El($,j),on!==4&&(on=2),Gu===null?Gu=[E]:Gu.push(E),E=A;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var J=Bw(E,$,a);pw(E,J);break e;case 1:j=$;var W=E.type,te=E.stateNode;if(!(E.flags&128)&&(typeof W.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(eo===null||!eo.has(te)))){E.flags|=65536,a&=-a,E.lanes|=a;var pe=zw(E,j,a);pw(E,pe);break e}}E=E.return}while(E!==null)}xE(c)}catch(Le){a=Le,en===c&&c!==null&&(en=c=c.return);continue}break}while(!0)}function wE(){var s=lf.current;return lf.current=tf,s===null?tf:s}function Ym(){(on===0||on===3||on===2)&&(on=4),fn===null||!(oa&268435455)&&!(uf&268435455)||ro(fn,In)}function mf(s,a){var c=ht;ht|=2;var h=wE();(fn!==s||In!==a)&&(ws=null,la(s,a));do try{QP();break}catch(g){_E(s,g)}while(!0);if(um(),ht=c,lf.current=h,en!==null)throw Error(t(261));return fn=null,In=0,on}function QP(){for(;en!==null;)EE(en)}function YP(){for(;en!==null&&!ki();)EE(en)}function EE(s){var a=IE(s.alternate,s,Tr);s.memoizedProps=s.pendingProps,a===null?xE(s):en=a,Bm.current=null}function xE(s){var a=s;do{var c=a.alternate;if(s=a.return,a.flags&32768){if(c=$P(c,a),c!==null){c.flags&=32767,en=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{on=6,en=null;return}}else if(c=zP(c,a,Tr),c!==null){en=c;return}if(a=a.sibling,a!==null){en=a;return}en=a=s}while(a!==null);on===0&&(on=5)}function ua(s,a,c){var h=lt,g=zr.transition;try{zr.transition=null,lt=1,JP(s,a,c,h)}finally{zr.transition=g,lt=h}return null}function JP(s,a,c,h){do Il();while(to!==null);if(ht&6)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var E=c.lanes|c.childLanes;if(It(s,E),s===fn&&(en=fn=null,In=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||df||(df=!0,SE(En,function(){return Il(),null})),E=(c.flags&15990)!==0,c.subtreeFlags&15990||E){E=zr.transition,zr.transition=null;var A=lt;lt=1;var j=ht;ht|=4,Bm.current=null,GP(s,c),fE(c,s),yP(Yp),Hs=!!Qp,Yp=Qp=null,s.current=c,WP(c),ii(),ht=j,lt=A,zr.transition=E}else s.current=c;if(df&&(df=!1,to=s,ff=g),E=s.pendingLanes,E===0&&(eo=null),Wa(c.stateNode),ar(s,yt()),a!==null)for(h=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(cf)throw cf=!1,s=Hm,Hm=null,s;return ff&1&&s.tag!==0&&Il(),E=s.pendingLanes,E&1?s===Gm?Wu++:(Wu=0,Gm=s):Wu=0,Ys(),null}function Il(){if(to!==null){var s=zs(ff),a=zr.transition,c=lt;try{if(zr.transition=null,lt=16>s?16:s,to===null)var h=!1;else{if(s=to,to=null,ff=0,ht&6)throw Error(t(331));var g=ht;for(ht|=4,Re=s.current;Re!==null;){var E=Re,A=E.child;if(Re.flags&16){var j=E.deletions;if(j!==null){for(var $=0;$<j.length;$++){var re=j[$];for(Re=re;Re!==null;){var ce=Re;switch(ce.tag){case 0:case 11:case 15:$u(8,ce,E)}var fe=ce.child;if(fe!==null)fe.return=ce,Re=fe;else for(;Re!==null;){ce=Re;var ue=ce.sibling,Te=ce.return;if(aE(ce),ce===re){Re=null;break}if(ue!==null){ue.return=Te,Re=ue;break}Re=Te}}}var ke=E.alternate;if(ke!==null){var De=ke.child;if(De!==null){ke.child=null;do{var Qt=De.sibling;De.sibling=null,De=Qt}while(De!==null)}}Re=E}}if(E.subtreeFlags&2064&&A!==null)A.return=E,Re=A;else e:for(;Re!==null;){if(E=Re,E.flags&2048)switch(E.tag){case 0:case 11:case 15:$u(9,E,E.return)}var J=E.sibling;if(J!==null){J.return=E.return,Re=J;break e}Re=E.return}}var W=s.current;for(Re=W;Re!==null;){A=Re;var te=A.child;if(A.subtreeFlags&2064&&te!==null)te.return=A,Re=te;else e:for(A=W;Re!==null;){if(j=Re,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:af(9,j)}}catch(Le){Gt(j,j.return,Le)}if(j===A){Re=null;break e}var pe=j.sibling;if(pe!==null){pe.return=j.return,Re=pe;break e}Re=j.return}}if(ht=g,Ys(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(er,s)}catch{}h=!0}return h}finally{lt=c,zr.transition=a}}return!1}function TE(s,a,c){a=El(c,a),a=Bw(s,a,1),s=Xs(s,a,1),a=Gn(),s!==null&&(Us(s,1,a),ar(s,a))}function Gt(s,a,c){if(s.tag===3)TE(s,s,c);else for(;a!==null;){if(a.tag===3){TE(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(eo===null||!eo.has(h))){s=El(c,s),s=zw(a,s,1),a=Xs(a,s,1),s=Gn(),a!==null&&(Us(a,1,s),ar(a,s));break}}a=a.return}}function XP(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),a=Gn(),s.pingedLanes|=s.suspendedLanes&c,fn===s&&(In&c)===c&&(on===4||on===3&&(In&130023424)===In&&500>yt()-$m?la(s,0):zm|=c),ar(s,a)}function bE(s,a){a===0&&(s.mode&1?(a=qa,qa<<=1,!(qa&130023424)&&(qa=4194304)):a=1);var c=Gn();s=ys(s,a),s!==null&&(Us(s,a,c),ar(s,c))}function ZP(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),bE(s,c)}function ek(s,a){var c=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(a),bE(s,c)}var IE;IE=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||rr.current)sr=!0;else{if(!(s.lanes&c)&&!(a.flags&128))return sr=!1,BP(s,a,c);sr=!!(s.flags&131072)}else sr=!1,Mt&&a.flags&1048576&&iw(a,$d,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;sf(s,a),s=a.pendingProps;var g=hl(a,Dn.current);_l(a,c),g=wm(null,a,h,s,g,c);var E=Em();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ir(h)?(E=!0,Ud(a)):E=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,hm(a),g.updater=nf,a.stateNode=g,g._reactInternals=a,Rm(a,h,s,c),a=km(null,a,h,!0,E,c)):(a.tag=0,Mt&&E&&rm(a),Hn(null,a,g,c),a=a.child),a;case 16:h=a.elementType;e:{switch(sf(s,a),s=a.pendingProps,g=h._init,h=g(h._payload),a.type=h,g=a.tag=nk(h),s=hi(h,s),g){case 0:a=Pm(null,a,h,s,c);break e;case 1:a=Jw(null,a,h,s,c);break e;case 11:a=Ww(null,a,h,s,c);break e;case 14:a=Kw(null,a,h,hi(h.type,s),c);break e}throw Error(t(306,h,""))}return a;case 0:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:hi(h,g),Pm(s,a,h,g,c);case 1:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:hi(h,g),Jw(s,a,h,g,c);case 3:e:{if(Xw(a),s===null)throw Error(t(387));h=a.pendingProps,E=a.memoizedState,g=E.element,hw(s,a),Qd(a,h,null,c);var A=a.memoizedState;if(h=A.element,E.isDehydrated)if(E={element:h,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){g=El(Error(t(423)),a),a=Zw(s,a,h,c,g);break e}else if(h!==g){g=El(Error(t(424)),a),a=Zw(s,a,h,c,g);break e}else for(xr=Ks(a.stateNode.containerInfo.firstChild),Er=a,Mt=!0,fi=null,c=dw(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(gl(),h===g){a=_s(s,a,c);break e}Hn(s,a,h,c)}a=a.child}return a;case 5:return gw(a),s===null&&om(a),h=a.type,g=a.pendingProps,E=s!==null?s.memoizedProps:null,A=g.children,Jp(h,g)?A=null:E!==null&&Jp(h,E)&&(a.flags|=32),Yw(s,a),Hn(s,a,A,c),a.child;case 6:return s===null&&om(a),null;case 13:return eE(s,a,c);case 4:return pm(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=yl(a,null,h,c):Hn(s,a,h,c),a.child;case 11:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:hi(h,g),Ww(s,a,h,g,c);case 7:return Hn(s,a,a.pendingProps,c),a.child;case 8:return Hn(s,a,a.pendingProps.children,c),a.child;case 12:return Hn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(h=a.type._context,g=a.pendingProps,E=a.memoizedProps,A=g.value,St(Wd,h._currentValue),h._currentValue=A,E!==null)if(di(E.value,A)){if(E.children===g.children&&!rr.current){a=_s(s,a,c);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var j=E.dependencies;if(j!==null){A=E.child;for(var $=j.firstContext;$!==null;){if($.context===h){if(E.tag===1){$=vs(-1,c&-c),$.tag=2;var re=E.updateQueue;if(re!==null){re=re.shared;var ce=re.pending;ce===null?$.next=$:($.next=ce.next,ce.next=$),re.pending=$}}E.lanes|=c,$=E.alternate,$!==null&&($.lanes|=c),dm(E.return,c,a),j.lanes|=c;break}$=$.next}}else if(E.tag===10)A=E.type===a.type?null:E.child;else if(E.tag===18){if(A=E.return,A===null)throw Error(t(341));A.lanes|=c,j=A.alternate,j!==null&&(j.lanes|=c),dm(A,c,a),A=E.sibling}else A=E.child;if(A!==null)A.return=E;else for(A=E;A!==null;){if(A===a){A=null;break}if(E=A.sibling,E!==null){E.return=A.return,A=E;break}A=A.return}E=A}Hn(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,h=a.pendingProps.children,_l(a,c),g=Ur(g),h=h(g),a.flags|=1,Hn(s,a,h,c),a.child;case 14:return h=a.type,g=hi(h,a.pendingProps),g=hi(h.type,g),Kw(s,a,h,g,c);case 15:return qw(s,a,a.type,a.pendingProps,c);case 17:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:hi(h,g),sf(s,a),a.tag=1,ir(h)?(s=!0,Ud(a)):s=!1,_l(a,c),Fw(a,h,g),Rm(a,h,g,c),km(null,a,h,!0,s,c);case 19:return nE(s,a,c);case 22:return Qw(s,a,c)}throw Error(t(156,a.tag))};function SE(s,a){return wn(s,a)}function tk(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(s,a,c,h){return new tk(s,a,c,h)}function Jm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function nk(s){if(typeof s=="function")return Jm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===Ve)return 14}return 2}function io(s,a){var c=s.alternate;return c===null?(c=$r(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function gf(s,a,c,h,g,E){var A=2;if(h=s,typeof s=="function")Jm(s)&&(A=1);else if(typeof s=="string")A=5;else e:switch(s){case D:return ca(c.children,g,E,a);case C:A=8,g|=8;break;case k:return s=$r(12,c,a,g|2),s.elementType=k,s.lanes=E,s;case L:return s=$r(13,c,a,g),s.elementType=L,s.lanes=E,s;case Ce:return s=$r(19,c,a,g),s.elementType=Ce,s.lanes=E,s;case be:return yf(c,g,E,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:A=10;break e;case B:A=9;break e;case F:A=11;break e;case Ve:A=14;break e;case Pe:A=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=$r(A,c,a,g),a.elementType=s,a.type=h,a.lanes=E,a}function ca(s,a,c,h){return s=$r(7,s,h,a),s.lanes=c,s}function yf(s,a,c,h){return s=$r(22,s,h,a),s.elementType=be,s.lanes=c,s.stateNode={isHidden:!1},s}function Xm(s,a,c){return s=$r(6,s,null,a),s.lanes=c,s}function Zm(s,a,c){return a=$r(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function rk(s,a,c,h,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fs(0),this.expirationTimes=Fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function eg(s,a,c,h,g,E,A,j,$){return s=new rk(s,a,c,j,$),a===1?(a=1,E===!0&&(a|=8)):a=0,E=$r(3,null,null,a),s.current=E,E.stateNode=s,E.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},hm(E),s}function ik(s,a,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:h==null?null:""+h,children:s,containerInfo:a,implementation:c}}function RE(s){if(!s)return Qs;s=s._reactInternals;e:{if(at(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ir(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(ir(c))return tw(s,c,a)}return a}function CE(s,a,c,h,g,E,A,j,$){return s=eg(c,h,!0,s,g,E,A,j,$),s.context=RE(null),c=s.current,h=Gn(),g=no(c),E=vs(h,g),E.callback=a??null,Xs(c,E,g),s.current.lanes=g,Us(s,g,h),ar(s,h),s}function vf(s,a,c,h){var g=a.current,E=Gn(),A=no(g);return c=RE(c),a.context===null?a.context=c:a.pendingContext=c,a=vs(E,A),a.payload={element:s},h=h===void 0?null:h,h!==null&&(a.callback=h),s=Xs(g,a,A),s!==null&&(gi(s,g,A,E),qd(s,g,A)),A}function _f(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function AE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function tg(s,a){AE(s,a),(s=s.alternate)&&AE(s,a)}var PE=typeof reportError=="function"?reportError:function(s){console.error(s)};function ng(s){this._internalRoot=s}wf.prototype.render=ng.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));vf(s,a,null,null)},wf.prototype.unmount=ng.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;aa(function(){vf(null,s,null,null)}),a[hs]=null}};function wf(s){this._internalRoot=s}wf.prototype.unstable_scheduleHydration=function(s){if(s){var a=_d();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Di.length&&a!==0&&a<Di[c].priority;c++);Di.splice(c,0,s),c===0&&xd(s)}};function rg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ef(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function kE(){}function sk(s,a,c,h,g){if(g){if(typeof h=="function"){var E=h;h=function(){var re=_f(A);E.call(re)}}var A=CE(a,h,s,0,null,!1,!1,"",kE);return s._reactRootContainer=A,s[hs]=A.current,Pu(s.nodeType===8?s.parentNode:s),aa(),A}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var j=h;h=function(){var re=_f($);j.call(re)}}var $=eg(s,0,!1,null,null,!1,!1,"",kE);return s._reactRootContainer=$,s[hs]=$.current,Pu(s.nodeType===8?s.parentNode:s),aa(function(){vf(a,$,c,h)}),$}function xf(s,a,c,h,g){var E=c._reactRootContainer;if(E){var A=E;if(typeof g=="function"){var j=g;g=function(){var $=_f(A);j.call($)}}vf(a,A,s,g)}else A=sk(c,a,s,g,h);return _f(A)}yd=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=js(a.pendingLanes);c!==0&&(Bs(a,c|1),ar(a,yt()),!(ht&6)&&(bl=yt()+500,Ys()))}break;case 13:aa(function(){var h=ys(s,1);if(h!==null){var g=Gn();gi(h,s,1,g)}}),tg(s,1)}},Qa=function(s){if(s.tag===13){var a=ys(s,134217728);if(a!==null){var c=Gn();gi(a,s,134217728,c)}tg(s,134217728)}},vd=function(s){if(s.tag===13){var a=no(s),c=ys(s,a);if(c!==null){var h=Gn();gi(c,s,a,h)}tg(s,a)}},_d=function(){return lt},wd=function(s,a){var c=lt;try{return lt=s,a()}finally{lt=c}},Mr=function(s,a,c){switch(a){case"input":if(Zr(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var g=jd(h);if(!g)throw Error(t(90));Qn(h),Zr(h,g)}}}break;case"textarea":Nr(s,c);break;case"select":a=c.value,a!=null&&jt(s,!!c.multiple,a,!1)}},tt=qm,z=aa;var ok={usingClientEntryPoint:!1,Events:[Du,dl,jd,_n,$e,qm]},Ku={findFiberByHostInstance:Zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ak={bundleType:Ku.bundleType,version:Ku.version,rendererPackageName:Ku.rendererPackageName,rendererConfig:Ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=ri(s),s===null?null:s.stateNode},findFiberByHostInstance:Ku.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{er=Tf.inject(ak),Nn=Tf}catch{}}return lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ok,lr.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rg(a))throw Error(t(200));return ik(s,a,null,c)},lr.createRoot=function(s,a){if(!rg(s))throw Error(t(299));var c=!1,h="",g=PE;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=eg(s,1,!1,null,null,c,!1,h,g),s[hs]=a.current,Pu(s.nodeType===8?s.parentNode:s),new ng(a)},lr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=ri(a),s=s===null?null:s.stateNode,s},lr.flushSync=function(s){return aa(s)},lr.hydrate=function(s,a,c){if(!Ef(a))throw Error(t(200));return xf(null,s,a,!0,c)},lr.hydrateRoot=function(s,a,c){if(!rg(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,g=!1,E="",A=PE;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),a=CE(a,null,s,1,c??null,g,!1,E,A),s[hs]=a.current,Pu(s),h)for(s=0;s<h.length;s++)c=h[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new wf(a)},lr.render=function(s,a,c){if(!Ef(a))throw Error(t(200));return xf(null,s,a,!1,c)},lr.unmountComponentAtNode=function(s){if(!Ef(s))throw Error(t(40));return s._reactRootContainer?(aa(function(){xf(null,null,s,!1,function(){s._reactRootContainer=null,s[hs]=null})}),!0):!1},lr.unstable_batchedUpdates=qm,lr.unstable_renderSubtreeIntoContainer=function(s,a,c,h){if(!Ef(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return xf(s,a,c,!1,h)},lr.version="18.3.1-next-f1338f8080-20240426",lr}var FE;function tT(){if(FE)return og.exports;FE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),og.exports=gk(),og.exports}var UE;function yk(){if(UE)return bf;UE=1;var n=tT();return bf.createRoot=n.createRoot,bf.hydrateRoot=n.hydrateRoot,bf}var vk=yk();const _k=Gh(vk);var Qu={},BE;function wk(){if(BE)return Qu;BE=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.parse=l,Qu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,_){const S=new o,I=x.length;if(I<2)return S;const R=(_==null?void 0:_.decode)||m;let P=0;do{const V=x.indexOf("=",P);if(V===-1)break;const U=x.indexOf(";",P),G=U===-1?I:U;if(V>G){P=x.lastIndexOf(";",V-1)+1;continue}const O=u(x,P,V),Y=d(x,V,O),D=x.slice(O,Y);if(S[D]===void 0){let C=u(x,V+1,G),k=d(x,G,C);const M=R(x.slice(C,k));S[D]=M}P=G+1}while(P<I);return S}function u(x,_,S){do{const I=x.charCodeAt(_);if(I!==32&&I!==9)return _}while(++_<S);return S}function d(x,_,S){for(;_>S;){const I=x.charCodeAt(--_);if(I!==32&&I!==9)return _+1}return S}function p(x,_,S){const I=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const R=I(_);if(!e.test(R))throw new TypeError(`argument val is invalid: ${_}`);let P=x+"="+R;if(!S)return P;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);P+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);P+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);P+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);P+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(P+="; HttpOnly"),S.secure&&(P+="; Secure"),S.partitioned&&(P+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return P}function m(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return i.call(x)==="[object Date]"}return Qu}wk();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zE="popstate";function Ek(n={}){function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return bc("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Co(i)}return Tk(e,t,null,n)}function st(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xk(){return Math.random().toString(36).substring(2,10)}function $E(n,e){return{usr:n.state,key:n.key,idx:e}}function bc(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Vo(e):e,state:t,key:e&&e.key||r||xk()}}function Co({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Vo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Tk(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function v(){u="POP";let R=m(),P=R==null?null:R-p;p=R,d&&d({action:u,location:I.location,delta:P})}function x(R,P){u="PUSH";let V=bc(I.location,R,P);p=m()+1;let U=$E(V,p),G=I.createHref(V);try{l.pushState(U,"",G)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(G)}o&&d&&d({action:u,location:I.location,delta:1})}function _(R,P){u="REPLACE";let V=bc(I.location,R,P);p=m();let U=$E(V,p),G=I.createHref(V);l.replaceState(U,"",G),o&&d&&d({action:u,location:I.location,delta:0})}function S(R){let P=i.location.origin!=="null"?i.location.origin:i.location.href,V=typeof R=="string"?R:Co(R);return V=V.replace(/ $/,"%20"),st(P,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,P)}let I={get action(){return u},get location(){return n(i,l)},listen(R){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(zE,v),d=R,()=>{i.removeEventListener(zE,v),d=null}},createHref(R){return e(i,R)},createURL:S,encodeLocation(R){let P=S(R);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:x,replace:_,go(R){return l.go(R)}};return I}var bk=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ik(n){return n.index===!0}function dh(n,e,t=[],r={}){return n.map((i,o)=>{let l=[...t,String(o)],u=typeof i.id=="string"?i.id:l.join("-");if(st(i.index!==!0||!i.children,"Cannot specify children on an index route"),st(!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),Ik(i)){let d={...i,...e(i),id:u};return r[u]=d,d}else{let d={...i,...e(i),id:u,children:void 0};return r[u]=d,i.children&&(d.children=dh(i.children,e,l,r)),d}})}function mo(n,e,t="/"){return Hf(n,e,t,!1)}function Hf(n,e,t,r){let i=typeof e=="string"?Vo(e):e,o=xi(i.pathname||"/",t);if(o==null)return null;let l=nT(n);Rk(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=jk(o);u=Lk(l[d],p,r)}return u}function Sk(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function nT(n,e=[],t=[],r=""){let i=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(st(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=Gi([r,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(st(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),nT(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:Ok(p,o.index),routesMeta:m})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let d of rT(o.path))i(o,l,d)}),e}function rT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=rT(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function Rk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Mk(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Ck=/^:[\w-]+$/,Ak=3,Pk=2,kk=1,Nk=10,Dk=-2,HE=n=>n==="*";function Ok(n,e){let t=n.split("/"),r=t.length;return t.some(HE)&&(r+=Dk),e&&(r+=Pk),t.filter(i=>!HE(i)).reduce((i,o)=>i+(Ck.test(o)?Ak:o===""?kk:Nk),r)}function Mk(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Lk(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],p=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",v=fh({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),x=d.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=fh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:Gi([o,v.pathname]),pathnameBase:Bk(Gi([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=Gi([o,v.pathnameBase]))}return l}function fh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Vk(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:v},x)=>{if(m==="*"){let S=u[x]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const _=u[x];return v&&!_?p[m]=void 0:p[m]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function Vk(n,e=!1,t=!0){gn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function jk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function xi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Fk(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Vo(n):n;return{pathname:t?t.startsWith("/")?t:Uk(t,e):e,search:zk(r),hash:$k(i)}}function Uk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function ug(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Wh(n){let e=iT(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Kh(n,e,t,r=!1){let i;typeof n=="string"?i=Vo(n):(i={...n},st(!i.pathname||!i.pathname.includes("?"),ug("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),ug("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),ug("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;i.pathname=x.join("/")}u=v>=0?e[v]:"/"}let d=Fk(i,u),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var Gi=n=>n.join("/").replace(/\/\/+/g,"/"),Bk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$k=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,hh=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function qh(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var sT=["POST","PUT","PATCH","DELETE"],Hk=new Set(sT),Gk=["GET",...sT],Wk=new Set(Gk),Kk=new Set([301,302,303,307,308]),qk=new Set([307,308]),cg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Qk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Yu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ky=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yk=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),oT="remix-router-transitions",aT=Symbol("ResetLoaderData");function Jk(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";st(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||Yk,i={},o=dh(n.routes,r,void 0,i),l,u=n.basename||"/",d=n.dataStrategy||nN,p=n.patchRoutesOnNavigation,m={...n.future},v=null,x=new Set,_=null,S=null,I=null,R=n.hydrationData!=null,P=mo(o,n.history.location,u),V=null;if(P==null&&!p){let z=Hr(404,{pathname:n.history.location.pathname}),{matches:K,route:ne}=t0(o);P=K,V={[ne.id]:z}}P&&!n.hydrationData&&Xt(P,o,n.history.location.pathname).active&&(P=null);let U;if(P)if(P.some(z=>z.route.lazy))U=!1;else if(!P.some(z=>z.route.loader))U=!0;else{let z=n.hydrationData?n.hydrationData.loaderData:null,K=n.hydrationData?n.hydrationData.errors:null;if(K){let ne=P.findIndex(oe=>K[oe.route.id]!==void 0);U=P.slice(0,ne+1).every(oe=>!Bg(oe.route,z,K))}else U=P.every(ne=>!Bg(ne.route,z,K))}else{U=!1,P=[];let z=Xt(null,o,n.history.location.pathname);z.active&&z.matches&&(P=z.matches)}let G,O={historyAction:n.history.action,location:n.history.location,matches:P,initialized:U,navigation:cg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||V,fetchers:new Map,blockers:new Map},Y="POP",D=!1,C,k=!1,M=new Map,B=null,F=!1,L=!1,Ce=new Set,Ve=new Map,Pe=0,be=-1,se=new Map,X=new Set,le=new Map,H=new Map,Z=new Set,de=new Map,Ee,Ie=null;function ze(){if(v=n.history.listen(({action:z,location:K,delta:ne})=>{if(Ee){Ee(),Ee=void 0;return}gn(de.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=Pi({currentLocation:O.location,nextLocation:K,historyAction:z});if(oe&&ne!=null){let ve=new Promise(_e=>{Ee=_e});n.history.go(ne*-1),An(oe,{state:"blocked",location:K,proceed(){An(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),ve.then(()=>n.history.go(ne))},reset(){let _e=new Map(O.blockers);_e.set(oe,Yu),Me({blockers:_e})}});return}return Rt(z,K)}),t){hN(e,M);let z=()=>pN(e,M);e.addEventListener("pagehide",z),B=()=>e.removeEventListener("pagehide",z)}return O.initialized||Rt("POP",O.location,{initialHydration:!0}),G}function Se(){v&&v(),B&&B(),x.clear(),C&&C.abort(),O.fetchers.forEach((z,K)=>Bn(K)),O.blockers.forEach((z,K)=>ei(K))}function Ye(z){return x.add(z),()=>x.delete(z)}function Me(z,K={}){O={...O,...z};let ne=[],oe=[];O.fetchers.forEach((ve,_e)=>{ve.state==="idle"&&(Z.has(_e)?ne.push(_e):oe.push(_e))}),[...x].forEach(ve=>ve(O,{deletedFetchers:ne,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),ne.forEach(ve=>Bn(ve)),oe.forEach(ve=>O.fetchers.delete(ve))}function rt(z,K,{flushSync:ne}={}){var me,He;let oe=O.actionData!=null&&O.navigation.formMethod!=null&&vi(O.navigation.formMethod)&&O.navigation.state==="loading"&&((me=z.state)==null?void 0:me._isRedirect)!==!0,ve;K.actionData?Object.keys(K.actionData).length>0?ve=K.actionData:ve=null:oe?ve=O.actionData:ve=null;let _e=K.loaderData?ZE(O.loaderData,K.loaderData,K.matches||[],K.errors):O.loaderData,Ne=O.blockers;Ne.size>0&&(Ne=new Map(Ne),Ne.forEach((Xe,mt)=>Ne.set(mt,Yu)));let xe=D===!0||O.navigation.formMethod!=null&&vi(O.navigation.formMethod)&&((He=z.state)==null?void 0:He._isRedirect)!==!0;l&&(o=l,l=void 0),F||Y==="POP"||(Y==="PUSH"?n.history.push(z,z.state):Y==="REPLACE"&&n.history.replace(z,z.state));let Ae;if(Y==="POP"){let Xe=M.get(O.location.pathname);Xe&&Xe.has(z.pathname)?Ae={currentLocation:O.location,nextLocation:z}:M.has(z.pathname)&&(Ae={currentLocation:z,nextLocation:O.location})}else if(k){let Xe=M.get(O.location.pathname);Xe?Xe.add(z.pathname):(Xe=new Set([z.pathname]),M.set(O.location.pathname,Xe)),Ae={currentLocation:O.location,nextLocation:z}}Me({...K,actionData:ve,loaderData:_e,historyAction:Y,location:z,initialized:!0,navigation:cg,revalidation:"idle",restoreScrollPosition:vn(z,K.matches||O.matches),preventScrollReset:xe,blockers:Ne},{viewTransitionOpts:Ae,flushSync:ne===!0}),Y="POP",D=!1,k=!1,F=!1,L=!1,Ie==null||Ie.resolve(),Ie=null}async function qt(z,K){if(typeof z=="number"){n.history.go(z);return}let ne=Ug(O.location,O.matches,u,z,K==null?void 0:K.fromRouteId,K==null?void 0:K.relative),{path:oe,submission:ve,error:_e}=GE(!1,ne,K),Ne=O.location,xe=bc(O.location,oe,K&&K.state);xe={...xe,...n.history.encodeLocation(xe)};let Ae=K&&K.replace!=null?K.replace:void 0,me="PUSH";Ae===!0?me="REPLACE":Ae===!1||ve!=null&&vi(ve.formMethod)&&ve.formAction===O.location.pathname+O.location.search&&(me="REPLACE");let He=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,Xe=(K&&K.flushSync)===!0,mt=Pi({currentLocation:Ne,nextLocation:xe,historyAction:me});if(mt){An(mt,{state:"blocked",location:xe,proceed(){An(mt,{state:"proceeding",proceed:void 0,reset:void 0,location:xe}),qt(z,K)},reset(){let Ht=new Map(O.blockers);Ht.set(mt,Yu),Me({blockers:Ht})}});return}await Rt(me,xe,{submission:ve,pendingError:_e,preventScrollReset:He,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:Xe})}function Qn(){Ie||(Ie=mN()),Nr(),Me({revalidation:"loading"});let z=Ie.promise;return O.navigation.state==="submitting"?z:O.navigation.state==="idle"?(Rt(O.historyAction,O.location,{startUninterruptedRevalidation:!0}),z):(Rt(Y||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:k===!0}),z)}async function Rt(z,K,ne){C&&C.abort(),C=null,Y=z,F=(ne&&ne.startUninterruptedRevalidation)===!0,Pn(O.location,O.matches),D=(ne&&ne.preventScrollReset)===!0,k=(ne&&ne.enableViewTransition)===!0;let oe=l||o,ve=ne&&ne.overrideNavigation,_e=mo(oe,K,u),Ne=(ne&&ne.flushSync)===!0,xe=Xt(_e,oe,K.pathname);if(xe.active&&xe.matches&&(_e=xe.matches),!_e){let{error:at,notFoundMatches:ft,route:gt}=yr(K.pathname);rt(K,{matches:ft,loaderData:{},errors:{[gt.id]:at}},{flushSync:Ne});return}if(O.initialized&&!L&&lN(O.location,K)&&!(ne&&ne.submission&&vi(ne.submission.formMethod))){rt(K,{matches:_e},{flushSync:Ne});return}C=new AbortController;let Ae=Sl(n.history,K,C.signal,ne&&ne.submission),me;if(ne&&ne.pendingError)me=[pa(_e).route.id,{type:"error",error:ne.pendingError}];else if(ne&&ne.submission&&vi(ne.submission.formMethod)){let at=await Yn(Ae,K,ne.submission,_e,xe.active,{replace:ne.replace,flushSync:Ne});if(at.shortCircuited)return;if(at.pendingActionResult){let[ft,gt]=at.pendingActionResult;if(Ir(gt)&&qh(gt.error)&&gt.error.status===404){C=null,rt(K,{matches:at.matches,loaderData:{},errors:{[ft]:gt.error}});return}}_e=at.matches||_e,me=at.pendingActionResult,ve=dg(K,ne.submission),Ne=!1,xe.active=!1,Ae=Sl(n.history,Ae.url,Ae.signal)}let{shortCircuited:He,matches:Xe,loaderData:mt,errors:Ht}=await Pr(Ae,K,_e,xe.active,ve,ne&&ne.submission,ne&&ne.fetcherSubmission,ne&&ne.replace,ne&&ne.initialHydration===!0,Ne,me);He||(C=null,rt(K,{matches:Xe||_e,...e0(me),loaderData:mt,errors:Ht}))}async function Yn(z,K,ne,oe,ve,_e={}){Nr();let Ne=dN(K,ne);if(Me({navigation:Ne},{flushSync:_e.flushSync===!0}),ve){let me=await _n(oe,K.pathname,z.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let He=pa(me.partialMatches).route.id;return{matches:me.partialMatches,pendingActionResult:[He,{type:"error",error:me.error}]}}else if(me.matches)oe=me.matches;else{let{notFoundMatches:He,error:Xe,route:mt}=yr(K.pathname);return{matches:He,pendingActionResult:[mt.id,{type:"error",error:Xe}]}}}let xe,Ae=ac(oe,K);if(!Ae.route.action&&!Ae.route.lazy)xe={type:"error",error:Hr(405,{method:z.method,pathname:K.pathname,routeId:Ae.route.id})};else if(xe=(await Xn("action",O,z,[Ae],oe,null))[Ae.route.id],z.signal.aborted)return{shortCircuited:!0};if(_a(xe)){let me;return _e&&_e.replace!=null?me=_e.replace:me=YE(xe.response.headers.get("Location"),new URL(z.url),u)===O.location.pathname+O.location.search,await jt(z,xe,!0,{submission:ne,replace:me}),{shortCircuited:!0}}if(Ir(xe)){let me=pa(oe,Ae.route.id);return(_e&&_e.replace)!==!0&&(Y="PUSH"),{matches:oe,pendingActionResult:[me.route.id,xe]}}return{matches:oe,pendingActionResult:[Ae.route.id,xe]}}async function Pr(z,K,ne,oe,ve,_e,Ne,xe,Ae,me,He){let Xe=ve||dg(K,_e),mt=_e||Ne||r0(Xe),Ht=!F&&!Ae;if(oe){if(Ht){let Ct=mr(He);Me({navigation:Xe,...Ct!==void 0?{actionData:Ct}:{}},{flushSync:me})}let ut=await _n(ne,K.pathname,z.signal);if(ut.type==="aborted")return{shortCircuited:!0};if(ut.type==="error"){let Ct=pa(ut.partialMatches).route.id;return{matches:ut.partialMatches,loaderData:{},errors:{[Ct]:ut.error}}}else if(ut.matches)ne=ut.matches;else{let{error:Ct,notFoundMatches:En,route:si}=yr(K.pathname);return{matches:En,loaderData:{},errors:{[si.id]:Ct}}}}let at=l||o,[ft,gt]=KE(n.history,O,ne,mt,K,Ae===!0,L,Ce,Z,le,X,at,u,He);if(be=++Pe,ft.length===0&&gt.length===0){let ut=gr();return rt(K,{matches:ne,loaderData:{},errors:He&&Ir(He[1])?{[He[0]]:He[1].error}:null,...e0(He),...ut?{fetchers:new Map(O.fetchers)}:{}},{flushSync:me}),{shortCircuited:!0}}if(Ht){let ut={};if(!oe){ut.navigation=Xe;let Ct=mr(He);Ct!==void 0&&(ut.actionData=Ct)}gt.length>0&&(ut.fetchers=Zr(gt)),Me(ut,{flushSync:me})}gt.forEach(ut=>{$t(ut.key),ut.controller&&Ve.set(ut.key,ut.controller)});let ni=()=>gt.forEach(ut=>$t(ut.key));C&&C.signal.addEventListener("abort",ni);let{loaderResults:ri,fetcherResults:kn}=await yn(O,ne,ft,gt,z);if(z.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",ni),gt.forEach(ut=>Ve.delete(ut.key));let wn=If(ri);if(wn)return await jt(z,wn.result,!0,{replace:xe}),{shortCircuited:!0};if(wn=If(kn),wn)return X.add(wn.key),await jt(z,wn.result,!0,{replace:xe}),{shortCircuited:!0};let{loaderData:os,errors:ki}=XE(O,ne,ri,He,gt,kn);Ae&&O.errors&&(ki={...O.errors,...ki});let ii=gr(),yt=Or(be),as=ii||yt||gt.length>0;return{matches:ne,loaderData:os,errors:ki,...as?{fetchers:new Map(O.fetchers)}:{}}}function mr(z){if(z&&!Ir(z[1]))return{[z[0]]:z[1].data};if(O.actionData)return Object.keys(O.actionData).length===0?null:O.actionData}function Zr(z){return z.forEach(K=>{let ne=O.fetchers.get(K.key),oe=Ju(void 0,ne?ne.data:void 0);O.fetchers.set(K.key,oe)}),new Map(O.fetchers)}async function kr(z,K,ne,oe){$t(z);let ve=(oe&&oe.flushSync)===!0,_e=l||o,Ne=Ug(O.location,O.matches,u,ne,K,oe==null?void 0:oe.relative),xe=mo(_e,Ne,u),Ae=Xt(xe,_e,Ne);if(Ae.active&&Ae.matches&&(xe=Ae.matches),!xe){Je(z,K,Hr(404,{pathname:Ne}),{flushSync:ve});return}let{path:me,submission:He,error:Xe}=GE(!0,Ne,oe);if(Xe){Je(z,K,Xe,{flushSync:ve});return}let mt=ac(xe,me),Ht=(oe&&oe.preventScrollReset)===!0;if(He&&vi(He.formMethod)){await Un(z,K,me,mt,xe,Ae.active,ve,Ht,He);return}le.set(z,{routeId:K,path:me}),await Jn(z,K,me,mt,xe,Ae.active,ve,Ht,He)}async function Un(z,K,ne,oe,ve,_e,Ne,xe,Ae){Nr(),le.delete(z);function me(At){if(!At.route.action&&!At.route.lazy){let er=Hr(405,{method:Ae.formMethod,pathname:ne,routeId:K});return Je(z,K,er,{flushSync:Ne}),!0}return!1}if(!_e&&me(oe))return;let He=O.fetchers.get(z);Cn(z,fN(Ae,He),{flushSync:Ne});let Xe=new AbortController,mt=Sl(n.history,ne,Xe.signal,Ae);if(_e){let At=await _n(ve,ne,mt.signal);if(At.type==="aborted")return;if(At.type==="error"){Je(z,K,At.error,{flushSync:Ne});return}else if(At.matches){if(ve=At.matches,oe=ac(ve,ne),me(oe))return}else{Je(z,K,Hr(404,{pathname:ne}),{flushSync:Ne});return}}Ve.set(z,Xe);let Ht=Pe,ft=(await Xn("action",O,mt,[oe],ve,z))[oe.route.id];if(mt.signal.aborted){Ve.get(z)===Xe&&Ve.delete(z);return}if(Z.has(z)){if(_a(ft)||Ir(ft)){Cn(z,fo(void 0));return}}else{if(_a(ft))if(Ve.delete(z),be>Ht){Cn(z,fo(void 0));return}else return X.add(z),Cn(z,Ju(Ae)),jt(mt,ft,!1,{fetcherSubmission:Ae,preventScrollReset:xe});if(Ir(ft)){Je(z,K,ft.error);return}}let gt=O.navigation.location||O.location,ni=Sl(n.history,gt,Xe.signal),ri=l||o,kn=O.navigation.state!=="idle"?mo(ri,O.navigation.location,u):O.matches;st(kn,"Didn't find any matches after fetcher action");let wn=++Pe;se.set(z,wn);let os=Ju(Ae,ft.data);O.fetchers.set(z,os);let[ki,ii]=KE(n.history,O,kn,Ae,gt,!1,L,Ce,Z,le,X,ri,u,[oe.route.id,ft]);ii.filter(At=>At.key!==z).forEach(At=>{let er=At.key,Nn=O.fetchers.get(er),Wa=Ju(void 0,Nn?Nn.data:void 0);O.fetchers.set(er,Wa),$t(er),At.controller&&Ve.set(er,At.controller)}),Me({fetchers:new Map(O.fetchers)});let yt=()=>ii.forEach(At=>$t(At.key));Xe.signal.addEventListener("abort",yt);let{loaderResults:as,fetcherResults:ut}=await yn(O,kn,ki,ii,ni);if(Xe.signal.aborted)return;Xe.signal.removeEventListener("abort",yt),se.delete(z),Ve.delete(z),ii.forEach(At=>Ve.delete(At.key));let Ct=If(as);if(Ct)return jt(ni,Ct.result,!1,{preventScrollReset:xe});if(Ct=If(ut),Ct)return X.add(Ct.key),jt(ni,Ct.result,!1,{preventScrollReset:xe});let{loaderData:En,errors:si}=XE(O,kn,as,void 0,ii,ut);if(O.fetchers.has(z)){let At=fo(ft.data);O.fetchers.set(z,At)}Or(wn),O.navigation.state==="loading"&&wn>be?(st(Y,"Expected pending action"),C&&C.abort(),rt(O.navigation.location,{matches:kn,loaderData:En,errors:si,fetchers:new Map(O.fetchers)})):(Me({errors:si,loaderData:ZE(O.loaderData,En,kn,si),fetchers:new Map(O.fetchers)}),L=!1)}async function Jn(z,K,ne,oe,ve,_e,Ne,xe,Ae){let me=O.fetchers.get(z);Cn(z,Ju(Ae,me?me.data:void 0),{flushSync:Ne});let He=new AbortController,Xe=Sl(n.history,ne,He.signal);if(_e){let ft=await _n(ve,ne,Xe.signal);if(ft.type==="aborted")return;if(ft.type==="error"){Je(z,K,ft.error,{flushSync:Ne});return}else if(ft.matches)ve=ft.matches,oe=ac(ve,ne);else{Je(z,K,Hr(404,{pathname:ne}),{flushSync:Ne});return}}Ve.set(z,He);let mt=Pe,at=(await Xn("loader",O,Xe,[oe],ve,z))[oe.route.id];if(Ve.get(z)===He&&Ve.delete(z),!Xe.signal.aborted){if(Z.has(z)){Cn(z,fo(void 0));return}if(_a(at))if(be>mt){Cn(z,fo(void 0));return}else{X.add(z),await jt(Xe,at,!1,{preventScrollReset:xe});return}if(Ir(at)){Je(z,K,at.error);return}Cn(z,fo(at.data))}}async function jt(z,K,ne,{submission:oe,fetcherSubmission:ve,preventScrollReset:_e,replace:Ne}={}){K.response.headers.has("X-Remix-Revalidate")&&(L=!0);let xe=K.response.headers.get("Location");st(xe,"Expected a Location header on the redirect Response"),xe=YE(xe,new URL(z.url),u);let Ae=bc(O.location,xe,{_isRedirect:!0});if(t){let at=!1;if(K.response.headers.has("X-Remix-Reload-Document"))at=!0;else if(ky.test(xe)){const ft=n.history.createURL(xe);at=ft.origin!==e.location.origin||xi(ft.pathname,u)==null}if(at){Ne?e.location.replace(xe):e.location.assign(xe);return}}C=null;let me=Ne===!0||K.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:He,formAction:Xe,formEncType:mt}=O.navigation;!oe&&!ve&&He&&Xe&&mt&&(oe=r0(O.navigation));let Ht=oe||ve;if(qk.has(K.response.status)&&Ht&&vi(Ht.formMethod))await Rt(me,Ae,{submission:{...Ht,formAction:xe},preventScrollReset:_e||D,enableViewTransition:ne?k:void 0});else{let at=dg(Ae,oe);await Rt(me,Ae,{overrideNavigation:at,fetcherSubmission:ve,preventScrollReset:_e||D,enableViewTransition:ne?k:void 0})}}async function Xn(z,K,ne,oe,ve,_e){let Ne,xe={};try{Ne=await rN(d,z,K,ne,oe,ve,_e,i,r)}catch(Ae){return oe.forEach(me=>{xe[me.route.id]={type:"error",error:Ae}}),xe}for(let[Ae,me]of Object.entries(Ne))if(uN(me)){let He=me.result;xe[Ae]={type:"redirect",response:oN(He,ne,Ae,ve,u)}}else xe[Ae]=await sN(me);return xe}async function yn(z,K,ne,oe,ve){let _e=Xn("loader",z,ve,ne,K,null),Ne=Promise.all(oe.map(async me=>{if(me.matches&&me.match&&me.controller){let Xe=(await Xn("loader",z,Sl(n.history,me.path,me.controller.signal),[me.match],me.matches,me.key))[me.match.route.id];return{[me.key]:Xe}}else return Promise.resolve({[me.key]:{type:"error",error:Hr(404,{pathname:me.path})}})})),xe=await _e,Ae=(await Ne).reduce((me,He)=>Object.assign(me,He),{});return{loaderResults:xe,fetcherResults:Ae}}function Nr(){L=!0,le.forEach((z,K)=>{Ve.has(K)&&Ce.add(K),$t(K)})}function Cn(z,K,ne={}){O.fetchers.set(z,K),Me({fetchers:new Map(O.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function Je(z,K,ne,oe={}){let ve=pa(O.matches,K);Bn(z),Me({errors:{[ve.route.id]:ne},fetchers:new Map(O.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function wt(z){return H.set(z,(H.get(z)||0)+1),Z.has(z)&&Z.delete(z),O.fetchers.get(z)||Qk}function Bn(z){let K=O.fetchers.get(z);Ve.has(z)&&!(K&&K.state==="loading"&&se.has(z))&&$t(z),le.delete(z),se.delete(z),X.delete(z),Z.delete(z),Ce.delete(z),O.fetchers.delete(z)}function ss(z){let K=(H.get(z)||0)-1;K<=0?(H.delete(z),Z.add(z)):H.set(z,K),Me({fetchers:new Map(O.fetchers)})}function $t(z){let K=Ve.get(z);K&&(K.abort(),Ve.delete(z))}function Dr(z){for(let K of z){let ne=wt(K),oe=fo(ne.data);O.fetchers.set(K,oe)}}function gr(){let z=[],K=!1;for(let ne of X){let oe=O.fetchers.get(ne);st(oe,`Expected fetcher: ${ne}`),oe.state==="loading"&&(X.delete(ne),z.push(ne),K=!0)}return Dr(z),K}function Or(z){let K=[];for(let[ne,oe]of se)if(oe<z){let ve=O.fetchers.get(ne);st(ve,`Expected fetcher: ${ne}`),ve.state==="loading"&&($t(ne),se.delete(ne),K.push(ne))}return Dr(K),K.length>0}function Zn(z,K){let ne=O.blockers.get(z)||Yu;return de.get(z)!==K&&de.set(z,K),ne}function ei(z){O.blockers.delete(z),de.delete(z)}function An(z,K){let ne=O.blockers.get(z)||Yu;st(ne.state==="unblocked"&&K.state==="blocked"||ne.state==="blocked"&&K.state==="blocked"||ne.state==="blocked"&&K.state==="proceeding"||ne.state==="blocked"&&K.state==="unblocked"||ne.state==="proceeding"&&K.state==="unblocked",`Invalid blocker state transition: ${ne.state} -> ${K.state}`);let oe=new Map(O.blockers);oe.set(z,K),Me({blockers:oe})}function Pi({currentLocation:z,nextLocation:K,historyAction:ne}){if(de.size===0)return;de.size>1&&gn(!1,"A router only supports one blocker at a time");let oe=Array.from(de.entries()),[ve,_e]=oe[oe.length-1],Ne=O.blockers.get(ve);if(!(Ne&&Ne.state==="proceeding")&&_e({currentLocation:z,nextLocation:K,historyAction:ne}))return ve}function yr(z){let K=Hr(404,{pathname:z}),ne=l||o,{matches:oe,route:ve}=t0(ne);return{notFoundMatches:oe,route:ve,error:K}}function ti(z,K,ne){if(_=z,I=K,S=ne||null,!R&&O.navigation===cg){R=!0;let oe=vn(O.location,O.matches);oe!=null&&Me({restoreScrollPosition:oe})}return()=>{_=null,I=null,S=null}}function Mr(z,K){return S&&S(z,K.map(oe=>Sk(oe,O.loaderData)))||z.key}function Pn(z,K){if(_&&I){let ne=Mr(z,K);_[ne]=I()}}function vn(z,K){if(_){let ne=Mr(z,K),oe=_[ne];if(typeof oe=="number")return oe}return null}function Xt(z,K,ne){if(p)if(z){if(Object.keys(z[0].params).length>0)return{active:!0,matches:Hf(K,ne,u,!0)}}else return{active:!0,matches:Hf(K,ne,u,!0)||[]};return{active:!1,matches:null}}async function _n(z,K,ne){if(!p)return{type:"success",matches:z};let oe=z;for(;;){let ve=l==null,_e=l||o,Ne=i;try{await p({path:K,matches:oe,patch:(me,He)=>{ne.aborted||QE(me,He,_e,Ne,r)}})}catch(me){return{type:"error",error:me,partialMatches:oe}}finally{ve&&!ne.aborted&&(o=[...o])}if(ne.aborted)return{type:"aborted"};let xe=mo(_e,K,u);if(xe)return{type:"success",matches:xe};let Ae=Hf(_e,K,u,!0);if(!Ae||oe.length===Ae.length&&oe.every((me,He)=>me.route.id===Ae[He].route.id))return{type:"success",matches:null};oe=Ae}}function $e(z){i={},l=dh(z,r,void 0,i)}function tt(z,K){let ne=l==null;QE(z,K,l||o,i,r),ne&&(o=[...o],Me({}))}return G={get basename(){return u},get future(){return m},get state(){return O},get routes(){return o},get window(){return e},initialize:ze,subscribe:Ye,enableScrollRestoration:ti,navigate:qt,fetch:kr,revalidate:Qn,createHref:z=>n.history.createHref(z),encodeLocation:z=>n.history.encodeLocation(z),getFetcher:wt,deleteFetcher:ss,dispose:Se,getBlocker:Zn,deleteBlocker:ei,patchRoutes:tt,_internalFetchControllers:Ve,_internalSetRoutes:$e},G}function Xk(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Ug(n,e,t,r,i,o){let l,u;if(i){l=[];for(let p of e)if(l.push(p),p.route.id===i){u=p;break}}else l=e,u=e[e.length-1];let d=Kh(r||".",Wh(l),xi(n.pathname,t)||n.pathname,o==="path");if(r==null&&(d.search=n.search,d.hash=n.hash),(r==null||r===""||r===".")&&u){let p=Ny(d.search);if(u.route.index&&!p)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&p){let m=new URLSearchParams(d.search),v=m.getAll("index");m.delete("index"),v.filter(_=>_).forEach(_=>m.append("index",_));let x=m.toString();d.search=x?`?${x}`:""}}return t!=="/"&&(d.pathname=d.pathname==="/"?t:Gi([t,d.pathname])),Co(d)}function GE(n,e,t){if(!t||!Xk(t))return{path:e};if(t.formMethod&&!cN(t.formMethod))return{path:e,error:Hr(405,{method:t.formMethod})};let r=()=>({path:e,error:Hr(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),l=uT(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!vi(o))return r();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((x,[_,S])=>`${x}${_}=${S}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!vi(o))return r();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}st(typeof FormData=="function","FormData is not available in this environment");let u,d;if(t.formData)u=zg(t.formData),d=t.formData;else if(t.body instanceof FormData)u=zg(t.body),d=t.body;else if(t.body instanceof URLSearchParams)u=t.body,d=JE(u);else if(t.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(t.body),d=JE(u)}catch{return r()}let p={formMethod:o,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(vi(p.formMethod))return{path:e,submission:p};let m=Vo(e);return n&&m.search&&Ny(m.search)&&u.append("index",""),m.search=`?${u}`,{path:Co(m),submission:p}}function WE(n,e,t=!1){let r=n.findIndex(i=>i.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function KE(n,e,t,r,i,o,l,u,d,p,m,v,x,_){let S=_?Ir(_[1])?_[1].error:_[1].data:void 0,I=n.createURL(e.location),R=n.createURL(i),P=t;o&&e.errors?P=WE(t,Object.keys(e.errors)[0],!0):_&&Ir(_[1])&&(P=WE(t,_[0]));let V=_?_[1].statusCode:void 0,U=V&&V>=400,G=P.filter((Y,D)=>{let{route:C}=Y;if(C.lazy)return!0;if(C.loader==null)return!1;if(o)return Bg(C,e.loaderData,e.errors);if(Zk(e.loaderData,e.matches[D],Y))return!0;let k=e.matches[D],M=Y;return qE(Y,{currentUrl:I,currentParams:k.params,nextUrl:R,nextParams:M.params,...r,actionResult:S,actionStatus:V,defaultShouldRevalidate:U?!1:l||I.pathname+I.search===R.pathname+R.search||I.search!==R.search||eN(k,M)})}),O=[];return p.forEach((Y,D)=>{if(o||!t.some(F=>F.route.id===Y.routeId)||d.has(D))return;let C=mo(v,Y.path,x);if(!C){O.push({key:D,routeId:Y.routeId,path:Y.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(D),M=ac(C,Y.path),B=!1;m.has(D)?B=!1:u.has(D)?(u.delete(D),B=!0):k&&k.state!=="idle"&&k.data===void 0?B=l:B=qE(M,{currentUrl:I,currentParams:e.matches[e.matches.length-1].params,nextUrl:R,nextParams:t[t.length-1].params,...r,actionResult:S,actionStatus:V,defaultShouldRevalidate:U?!1:l}),B&&O.push({key:D,routeId:Y.routeId,path:Y.path,matches:C,match:M,controller:new AbortController})}),[G,O]}function Bg(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function Zk(n,e,t){let r=!e||t.route.id!==e.route.id,i=!n.hasOwnProperty(t.route.id);return r||i}function eN(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function qE(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function QE(n,e,t,r,i){let o;if(n){let d=r[n];st(d,`No route found to patch children into: routeId = ${n}`),d.children||(d.children=[]),o=d.children}else o=t;let l=e.filter(d=>!o.some(p=>lT(d,p))),u=dh(l,i,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...u)}function lT(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>lT(t,o))}):!1}async function tN(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];st(i,"No route found in manifest");let o={};for(let l in r){let d=i[l]!==void 0&&l!=="hasErrorBoundary";gn(!d,`Route "${i.id}" has a static property "${l}" defined but its lazy function is also returning a value for this property. The lazy route property "${l}" will be ignored.`),!d&&!bk.has(l)&&(o[l]=r[l])}Object.assign(i,o),Object.assign(i,{...e(i),lazy:void 0})}async function nN({matches:n}){let e=n.filter(r=>r.shouldLoad);return(await Promise.all(e.map(r=>r.resolve()))).reduce((r,i,o)=>Object.assign(r,{[e[o].route.id]:i}),{})}async function rN(n,e,t,r,i,o,l,u,d,p){let m=o.map(_=>_.route.lazy?tN(_.route,d,u):void 0),v=o.map((_,S)=>{let I=m[S],R=i.some(V=>V.route.id===_.route.id);return{..._,shouldLoad:R,resolve:async V=>(V&&r.method==="GET"&&(_.route.lazy||_.route.loader)&&(R=!0),R?iN(e,r,_,I,V,p):Promise.resolve({type:"data",result:void 0}))}}),x=await n({matches:v,request:r,params:o[0].params,fetcherKey:l,context:p});try{await Promise.all(m)}catch{}return x}async function iN(n,e,t,r,i,o){let l,u,d=p=>{let m,v=new Promise((S,I)=>m=I);u=()=>m(),e.signal.addEventListener("abort",u);let x=S=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:o},...S!==void 0?[S]:[]),_=(async()=>{try{return{type:"data",result:await(i?i(I=>x(I)):x())}}catch(S){return{type:"error",result:S}}})();return Promise.race([_,v])};try{let p=t.route[n];if(r)if(p){let m,[v]=await Promise.all([d(p).catch(x=>{m=x}),r]);if(m!==void 0)throw m;l=v}else if(await r,p=t.route[n],p)l=await d(p);else if(n==="action"){let m=new URL(e.url),v=m.pathname+m.search;throw Hr(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0};else if(p)l=await d(p);else{let m=new URL(e.url),v=m.pathname+m.search;throw Hr(404,{pathname:v})}}catch(p){return{type:"error",result:p}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function sN(n){var r,i,o,l;let{result:e,type:t}=n;if(cT(e)){let u;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(d){return{type:"error",error:d}}return t==="error"?{type:"error",error:new hh(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}if(t==="error"){if(n0(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status};e=new hh(((i=e.init)==null?void 0:i.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:qh(e)?e.status:void 0}}return n0(e)?{type:"data",data:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function oN(n,e,t,r,i){let o=n.headers.get("Location");if(st(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ky.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===t)+1);o=Ug(new URL(e.url),l,i,o),n.headers.set("Location",o)}return n}function YE(n,e,t){if(ky.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=xi(i.pathname,t)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return n}function Sl(n,e,t,r){let i=n.createURL(uT(e)).toString(),o={signal:t};if(r&&vi(r.formMethod)){let{formMethod:l,formEncType:u}=r;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(r.json)):u==="text/plain"?o.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?o.body=zg(r.formData):o.body=r.formData}return new Request(i,o)}function zg(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function JE(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function aN(n,e,t,r=!1,i=!1){let o={},l=null,u,d=!1,p={},m=t&&Ir(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let x=v.route.id,_=e[x];if(st(!_a(_),"Cannot handle redirect results in processLoaderData"),Ir(_)){let S=_.error;if(m!==void 0&&(S=m,m=void 0),l=l||{},i)l[x]=S;else{let I=pa(n,x);l[I.route.id]==null&&(l[I.route.id]=S)}r||(o[x]=aT),d||(d=!0,u=qh(_.error)?_.error.status:500),_.headers&&(p[x]=_.headers)}else o[x]=_.data,_.statusCode&&_.statusCode!==200&&!d&&(u=_.statusCode),_.headers&&(p[x]=_.headers)}),m!==void 0&&t&&(l={[t[0]]:m},o[t[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:p}}function XE(n,e,t,r,i,o){let{loaderData:l,errors:u}=aN(e,t,r);return i.forEach(d=>{let{key:p,match:m,controller:v}=d,x=o[p];if(st(x,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Ir(x)){let _=pa(n.matches,m==null?void 0:m.route.id);u&&u[_.route.id]||(u={...u,[_.route.id]:x.error}),n.fetchers.delete(p)}else if(_a(x))st(!1,"Unhandled fetcher revalidation redirect");else{let _=fo(x.data);n.fetchers.set(p,_)}}),{loaderData:l,errors:u}}function ZE(n,e,t,r){let i=Object.entries(e).filter(([,o])=>o!==aT).reduce((o,[l,u])=>(o[l]=u,o),{});for(let o of t){let l=o.route.id;if(!e.hasOwnProperty(l)&&n.hasOwnProperty(l)&&o.route.loader&&(i[l]=n[l]),r&&r.hasOwnProperty(l))break}return i}function e0(n){return n?Ir(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function pa(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function t0(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Hr(n,{pathname:e,routeId:t,method:r,type:i,message:o}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return n===400?(l="Bad Request",r&&e&&t?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):n===403?(l="Forbidden",u=`Route "${t}" does not match URL "${e}"`):n===404?(l="Not Found",u=`No route matches URL "${e}"`):n===405&&(l="Method Not Allowed",r&&e&&t?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new hh(n||500,l,new Error(u),!0)}function If(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(_a(i))return{key:r,result:i}}}function uT(n){let e=typeof n=="string"?Vo(n):n;return Co({...e,hash:""})}function lN(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function uN(n){return cT(n.result)&&Kk.has(n.result.status)}function Ir(n){return n.type==="error"}function _a(n){return(n&&n.type)==="redirect"}function n0(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function cT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function cN(n){return Wk.has(n.toUpperCase())}function vi(n){return Hk.has(n.toUpperCase())}function Ny(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function ac(n,e){let t=typeof e=="string"?Vo(e).search:e.search;if(n[n.length-1].route.index&&Ny(t||""))return n[n.length-1];let r=iT(n);return r[r.length-1]}function r0(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:o,json:l}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function dg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dN(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ju(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function fN(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function fo(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function hN(n,e){try{let t=n.sessionStorage.getItem(oT);if(t){let r=JSON.parse(t);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function pN(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(oT,JSON.stringify(t))}catch(r){gn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function mN(){let n,e,t=new Promise((r,i)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{i(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var ja=T.createContext(null);ja.displayName="DataRouter";var Gc=T.createContext(null);Gc.displayName="DataRouterState";var Dy=T.createContext({isTransitioning:!1});Dy.displayName="ViewTransition";var dT=T.createContext(new Map);dT.displayName="Fetchers";var gN=T.createContext(null);gN.displayName="Await";var Ri=T.createContext(null);Ri.displayName="Navigation";var Qh=T.createContext(null);Qh.displayName="Location";var Jr=T.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var Oy=T.createContext(null);Oy.displayName="RouteError";function yN(n,{relative:e}={}){st(su(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=T.useContext(Ri),{hash:i,pathname:o,search:l}=Wc(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Gi([t,o])),r.createHref({pathname:u,search:l,hash:i})}function su(){return T.useContext(Qh)!=null}function jo(){return st(su(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Qh).location}var fT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hT(n){T.useContext(Ri).static||T.useLayoutEffect(n)}function ou(){let{isDataRoute:n}=T.useContext(Jr);return n?NN():vN()}function vN(){st(su(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(ja),{basename:e,navigator:t}=T.useContext(Ri),{matches:r}=T.useContext(Jr),{pathname:i}=jo(),o=JSON.stringify(Wh(r)),l=T.useRef(!1);return hT(()=>{l.current=!0}),T.useCallback((d,p={})=>{if(gn(l.current,fT),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=Kh(d,JSON.parse(o),i,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Gi([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,o,i,n])}var _N=T.createContext(null);function wN(n){let e=T.useContext(Jr).outlet;return e&&T.createElement(_N.Provider,{value:n},e)}function Yh(){let{matches:n}=T.useContext(Jr),e=n[n.length-1];return e?e.params:{}}function Wc(n,{relative:e}={}){let{matches:t}=T.useContext(Jr),{pathname:r}=jo(),i=JSON.stringify(Wh(t));return T.useMemo(()=>Kh(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function EN(n,e,t,r){st(su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(Ri),{matches:o}=T.useContext(Jr),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",m=l&&l.route;{let P=m&&m.path||"";pT(d,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=jo(),x;x=v;let _=x.pathname||"/",S=_;if(p!=="/"){let P=p.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(P.length).join("/")}let I=mo(n,{pathname:S});return gn(m||I!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),gn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),SN(I&&I.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:Gi([p,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:Gi([p,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,t,r)}function xN(){let n=kN(),e=qh(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:o},"ErrorBoundary")," or"," ",T.createElement("code",{style:o},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:i},t):null,l)}var TN=T.createElement(xN,null),bN=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?T.createElement(Jr.Provider,{value:this.props.routeContext},T.createElement(Oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IN({routeContext:n,match:e,children:t}){let r=T.useContext(ja);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Jr.Provider,{value:n},t)}function SN(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);st(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:m,errors:v}=t,x=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,p,m)=>{let v,x=!1,_=null,S=null;t&&(v=o&&p.route.id?o[p.route.id]:void 0,_=p.route.errorElement||TN,l&&(u<0&&m===0?(pT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,S=null):u===m&&(x=!0,S=p.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,m+1)),R=()=>{let P;return v?P=_:x?P=S:p.route.Component?P=T.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=d,T.createElement(IN,{match:p,routeContext:{outlet:d,matches:I,isDataRoute:t!=null},children:P})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?T.createElement(bN,{location:t.location,revalidation:t.revalidation,component:_,error:v,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):R()},null)}function My(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RN(n){let e=T.useContext(ja);return st(e,My(n)),e}function CN(n){let e=T.useContext(Gc);return st(e,My(n)),e}function AN(n){let e=T.useContext(Jr);return st(e,My(n)),e}function Ly(n){let e=AN(n),t=e.matches[e.matches.length-1];return st(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function PN(){return Ly("useRouteId")}function kN(){var r;let n=T.useContext(Oy),e=CN("useRouteError"),t=Ly("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function NN(){let{router:n}=RN("useNavigate"),e=Ly("useNavigate"),t=T.useRef(!1);return hT(()=>{t.current=!0}),T.useCallback(async(i,o={})=>{gn(t.current,fT),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var i0={};function pT(n,e,t){!e&&!i0[n]&&(i0[n]=!0,gn(!1,t))}var s0={};function o0(n,e){!n&&!s0[e]&&(s0[e]=!0,console.warn(e))}function DN(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&gn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:T.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&gn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:T.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&gn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:T.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var ON=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function MN({router:n,flushSync:e}){let[t,r]=T.useState(n.state),[i,o]=T.useState(),[l,u]=T.useState({isTransitioning:!1}),[d,p]=T.useState(),[m,v]=T.useState(),[x,_]=T.useState(),S=T.useRef(new Map),I=T.useCallback((U,{deletedFetchers:G,flushSync:O,viewTransitionOpts:Y})=>{G.forEach(C=>S.current.delete(C)),U.fetchers.forEach((C,k)=>{C.data!==void 0&&S.current.set(k,C.data)}),o0(O===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(o0(Y==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Y||!D){e&&O?e(()=>r(U)):T.startTransition(()=>r(U));return}if(e&&O){e(()=>{m&&(d&&d.resolve(),m.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})});let C=n.window.document.startViewTransition(()=>{e(()=>r(U))});C.finished.finally(()=>{e(()=>{p(void 0),v(void 0),o(void 0),u({isTransitioning:!1})})}),e(()=>v(C));return}m?(d&&d.resolve(),m.skipTransition(),_({state:U,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(o(U),u({isTransitioning:!0,flushSync:!1,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[n.window,e,m,d]);T.useLayoutEffect(()=>n.subscribe(I),[n,I]),T.useEffect(()=>{l.isTransitioning&&!l.flushSync&&p(new ON)},[l]),T.useEffect(()=>{if(d&&i&&n.window){let U=i,G=d.promise,O=n.window.document.startViewTransition(async()=>{T.startTransition(()=>r(U)),await G});O.finished.finally(()=>{p(void 0),v(void 0),o(void 0),u({isTransitioning:!1})}),v(O)}},[i,d,n.window]),T.useEffect(()=>{d&&i&&t.location.key===i.location.key&&d.resolve()},[d,m,t.location,i]),T.useEffect(()=>{!l.isTransitioning&&x&&(o(x.state),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),_(void 0))},[l.isTransitioning,x]);let R=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:U=>n.navigate(U),push:(U,G,O)=>n.navigate(U,{state:G,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(U,G,O)=>n.navigate(U,{replace:!0,state:G,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[n]),P=n.basename||"/",V=T.useMemo(()=>({router:n,navigator:R,static:!1,basename:P}),[n,R,P]);return T.createElement(T.Fragment,null,T.createElement(ja.Provider,{value:V},T.createElement(Gc.Provider,{value:t},T.createElement(dT.Provider,{value:S.current},T.createElement(Dy.Provider,{value:l},T.createElement(jN,{basename:P,location:t.location,navigationType:t.historyAction,navigator:R},T.createElement(LN,{routes:n.routes,future:n.future,state:t})))))),null)}var LN=T.memo(VN);function VN({routes:n,future:e,state:t}){return EN(n,void 0,t,e)}function mT({to:n,replace:e,state:t,relative:r}){st(su(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Ri);gn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=T.useContext(Jr),{pathname:l}=jo(),u=ou(),d=Kh(n,Wh(o),l,r==="path"),p=JSON.stringify(d);return T.useEffect(()=>{u(JSON.parse(p),{replace:e,state:t,relative:r})},[u,p,r,e,t]),null}function gT(n){return wN(n.context)}function jN({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){st(!su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=Vo(t));let{pathname:d="/",search:p="",hash:m="",state:v=null,key:x="default"}=t,_=T.useMemo(()=>{let S=xi(d,l);return S==null?null:{location:{pathname:S,search:p,hash:m,state:v,key:x},navigationType:r}},[l,d,p,m,v,x,r]);return gn(_!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:T.createElement(Ri.Provider,{value:u},T.createElement(Qh.Provider,{children:e,value:_}))}var Gf="get",Wf="application/x-www-form-urlencoded";function Jh(n){return n!=null&&typeof n.tagName=="string"}function FN(n){return Jh(n)&&n.tagName.toLowerCase()==="button"}function UN(n){return Jh(n)&&n.tagName.toLowerCase()==="form"}function BN(n){return Jh(n)&&n.tagName.toLowerCase()==="input"}function zN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $N(n,e){return n.button===0&&(!e||e==="_self")&&!zN(n)}var Sf=null;function HN(){if(Sf===null)try{new FormData(document.createElement("form"),0),Sf=!1}catch{Sf=!0}return Sf}var GN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fg(n){return n!=null&&!GN.has(n)?(gn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wf}"`),null):n}function WN(n,e){let t,r,i,o,l;if(UN(n)){let u=n.getAttribute("action");r=u?xi(u,e):null,t=n.getAttribute("method")||Gf,i=fg(n.getAttribute("enctype"))||Wf,o=new FormData(n)}else if(FN(n)||BN(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?xi(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Gf,i=fg(n.getAttribute("formenctype"))||fg(u.getAttribute("enctype"))||Wf,o=new FormData(u,n),!HN()){let{name:p,type:m,value:v}=n;if(m==="image"){let x=p?`${p}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else p&&o.append(p,v)}}else{if(Jh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gf,r=null,i=Wf,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function Vy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function KN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function QN(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await KN(o,t);return l.links?l.links():[]}return[]}));return ZN(r.flat(1).filter(qN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function a0(n,e,t,r,i,o){let l=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,u=(d,p)=>{var m;return t[p].pathname!==d.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>l(d,p)||u(d,p)):o==="data"?e.filter((d,p)=>{var v;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,p)||u(d,p))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function YN(n,e){return JN(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function JN(n){return[...new Set(n)]}function XN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function ZN(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(XN(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function e2(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function t2(){let n=T.useContext(ja);return Vy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function n2(){let n=T.useContext(Gc);return Vy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jy=T.createContext(void 0);jy.displayName="FrameworkContext";function yT(){let n=T.useContext(jy);return Vy(n,"You must render this element inside a <HydratedRouter> element"),n}function r2(n,e){let t=T.useContext(jy),[r,i]=T.useState(!1),[o,l]=T.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,x=T.useRef(null);T.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let I=P=>{P.forEach(V=>{l(V.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return x.current&&R.observe(x.current),()=>{R.disconnect()}}},[n]),T.useEffect(()=>{if(r){let I=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(I)}}},[r]);let _=()=>{i(!0)},S=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,x,{}]:[o,x,{onFocus:Xu(u,_),onBlur:Xu(d,S),onMouseEnter:Xu(p,_),onMouseLeave:Xu(m,S),onTouchStart:Xu(v,_)}]:[!1,x,{}]}function Xu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function i2({page:n,...e}){let{router:t}=t2(),r=T.useMemo(()=>mo(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?T.createElement(o2,{page:n,matches:r,...e}):null}function s2(n){let{manifest:e,routeModules:t}=yT(),[r,i]=T.useState([]);return T.useEffect(()=>{let o=!1;return QN(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function o2({page:n,matches:e,...t}){let r=jo(),{manifest:i,routeModules:o}=yT(),{loaderData:l,matches:u}=n2(),d=T.useMemo(()=>a0(n,e,u,i,r,"data"),[n,e,u,i,r]),p=T.useMemo(()=>a0(n,e,u,i,r,"assets"),[n,e,u,i,r]),m=T.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let _=new Set,S=!1;if(e.forEach(R=>{var V;let P=i.routes[R.route.id];!P||!P.hasLoader||(!d.some(U=>U.route.id===R.route.id)&&R.route.id in l&&((V=o[R.route.id])!=null&&V.shouldRevalidate)||P.hasClientLoader?S=!0:_.add(R.route.id))}),_.size===0)return[];let I=e2(n);return S&&_.size>0&&I.searchParams.set("_routes",e.filter(R=>_.has(R.route.id)).map(R=>R.route.id).join(",")),[I.pathname+I.search]},[l,r,i,d,e,n,o]),v=T.useMemo(()=>YN(p,i),[p,i]),x=s2(p);return T.createElement(T.Fragment,null,m.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),v.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),x.map(({key:_,link:S})=>T.createElement("link",{key:_,...S})))}function a2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vT&&(window.__reactRouterVersion="7.1.1")}catch{}function l2(n,e){return Jk({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:Ek({window:e==null?void 0:e.window}),hydrationData:u2(),routes:n,mapRouteProperties:DN,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function u2(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:c2(n.errors)}),n}function c2(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new hh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let o=new Error(i.message);o.stack="",t[r]=o}}else t[r]=i;return t}var _T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ea=T.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:p,preventScrollReset:m,viewTransition:v,...x},_){let{basename:S}=T.useContext(Ri),I=typeof p=="string"&&_T.test(p),R,P=!1;if(typeof p=="string"&&I&&(R=p,vT))try{let k=new URL(window.location.href),M=p.startsWith("//")?new URL(k.protocol+p):new URL(p),B=xi(M.pathname,S);M.origin===k.origin&&B!=null?p=B+M.search+M.hash:P=!0}catch{gn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=yN(p,{relative:i}),[U,G,O]=r2(r,x),Y=p2(p,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:v});function D(k){e&&e(k),k.defaultPrevented||Y(k)}let C=T.createElement("a",{...x,...O,href:R||V,onClick:P||o?e:D,ref:a2(_,G),target:d,"data-discover":!I&&t==="render"?"true":void 0});return U&&!I?T.createElement(T.Fragment,null,C,T.createElement(i2,{page:V})):C});Ea.displayName="Link";var d2=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...p},m){let v=Wc(l,{relative:p.relative}),x=jo(),_=T.useContext(Gc),{navigator:S,basename:I}=T.useContext(Ri),R=_!=null&&_2(v)&&u===!0,P=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,V=x.pathname,U=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(V=V.toLowerCase(),U=U?U.toLowerCase():null,P=P.toLowerCase()),U&&I&&(U=xi(U,I)||U);const G=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let O=V===P||!i&&V.startsWith(P)&&V.charAt(G)==="/",Y=U!=null&&(U===P||!i&&U.startsWith(P)&&U.charAt(P.length)==="/"),D={isActive:O,isPending:Y,isTransitioning:R},C=O?e:void 0,k;typeof r=="function"?k=r(D):k=[r,O?"active":null,Y?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(D):o;return T.createElement(Ea,{...p,"aria-current":C,className:k,ref:m,style:M,to:l,viewTransition:u},typeof d=="function"?d(D):d)});d2.displayName="NavLink";var f2=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Gf,action:u,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:v,...x},_)=>{let S=y2(),I=v2(u,{relative:p}),R=l.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&_T.test(u),V=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let G=U.nativeEvent.submitter,O=(G==null?void 0:G.getAttribute("formmethod"))||l;S(G||U.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:i,state:o,relative:p,preventScrollReset:m,viewTransition:v})};return T.createElement("form",{ref:_,method:R,action:I,onSubmit:r?d:V,...x,"data-discover":!P&&n==="render"?"true":void 0})});f2.displayName="Form";function h2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wT(n){let e=T.useContext(ja);return st(e,h2(n)),e}function p2(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=ou(),d=jo(),p=Wc(n,{relative:o});return T.useCallback(m=>{if($N(m,e)){m.preventDefault();let v=t!==void 0?t:Co(d)===Co(p);u(n,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,p,t,r,e,n,i,o,l])}var m2=0,g2=()=>`__${String(++m2)}__`;function y2(){let{router:n}=wT("useSubmit"),{basename:e}=T.useContext(Ri),t=PN();return T.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:d,body:p}=WN(r,e);if(i.navigate===!1){let m=i.fetcherKey||g2();await n.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function v2(n,{relative:e}={}){let{basename:t}=T.useContext(Ri),r=T.useContext(Jr);st(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Wc(n||".",{relative:e})},l=jo();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Gi([t,o.pathname])),Co(o)}function _2(n,e={}){let t=T.useContext(Dy);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wT("useViewTransitionState"),i=Wc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=xi(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=xi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return fh(i.pathname,l)!=null||fh(i.pathname,o)!=null}new TextEncoder;var Kc=tT();const ET=Gh(Kc);/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w2(n){return T.createElement(MN,{flushSync:Kc.flushSync,...n})}const qc=T.createContext(null);function E2({children:n}){const[e,t]=T.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null});T.useEffect(()=>{e?localStorage.setItem("user",JSON.stringify(e)):localStorage.removeItem("user")},[e]);const o={user:e,setUser:t,login:l=>{t(l)},logout:()=>{t(null)}};return y.jsx(qc.Provider,{value:o,children:n})}function Fy(){const n=T.useContext(qc);if(n===null)throw new Error("useUser must be used within a UserProvider");return n}const xT=T.createContext(),x2=({children:n})=>{const[e,t]=T.useState("light");T.useEffect(()=>{const i=localStorage.getItem("theme");if(i)t(i);else{const o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t(o)}},[]),T.useEffect(()=>{localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e)},[e]);const r=()=>{t(i=>i==="light"?"dark":"light")};return y.jsx(xT.Provider,{value:{theme:e,toggleTheme:r},children:n})},TT=()=>T.useContext(xT);var T2=n=>{switch(n){case"success":return S2;case"info":return C2;case"warning":return R2;case"error":return A2;default:return null}},b2=Array(12).fill(0),I2=({visible:n,className:e})=>ee.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ee.createElement("div",{className:"sonner-spinner"},b2.map((t,r)=>ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),S2=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),R2=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),C2=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),A2=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),P2=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),k2=()=>{let[n,e]=ee.useState(document.hidden);return ee.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},$g=1,N2=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,i=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:$g++,o=this.toasts.find(u=>u.id===i),l=n.dismissible===void 0?!0:n.dismissible;return o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...n,id:i,title:t}),{...u,...n,id:i,dismissible:l,title:t}):u):this.addToast({title:t,...r,dismissible:l,id:i}),i},this.dismiss=n=>(n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),i=t!==void 0,o,l=r.then(async d=>{if(o=["resolve",d],ee.isValidElement(d))i=!1,this.create({id:t,type:"default",message:d});else if(O2(d)&&!d.ok){i=!1;let p=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,m=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description;this.create({id:t,type:"error",message:p,description:m})}else if(e.success!==void 0){i=!1;let p=typeof e.success=="function"?await e.success(d):e.success,m=typeof e.description=="function"?await e.description(d):e.description;this.create({id:t,type:"success",message:p,description:m})}}).catch(async d=>{if(o=["reject",d],e.error!==void 0){i=!1;let p=typeof e.error=="function"?await e.error(d):e.error,m=typeof e.description=="function"?await e.description(d):e.description;this.create({id:t,type:"error",message:p,description:m})}}).finally(()=>{var d;i&&(this.dismiss(t),t=void 0),(d=e.finally)==null||d.call(e)}),u=()=>new Promise((d,p)=>l.then(()=>o[0]==="reject"?p(o[1]):d(o[1])).catch(p));return typeof t!="string"&&typeof t!="number"?{unwrap:u}:Object.assign(t,{unwrap:u})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||$g++;return this.create({jsx:n(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},br=new N2,D2=(n,e)=>{let t=(e==null?void 0:e.id)||$g++;return br.addToast({title:n,...e,id:t}),t},O2=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",M2=D2,L2=()=>br.toasts,an=Object.assign(M2,{success:br.success,info:br.info,warning:br.warning,error:br.error,custom:br.custom,message:br.message,promise:br.promise,dismiss:br.dismiss,loading:br.loading},{getHistory:L2});function V2(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}V2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Rf(n){return n.label!==void 0}var j2=3,F2="32px",U2="16px",l0=4e3,B2=356,z2=14,$2=20,H2=200;function yi(...n){return n.filter(Boolean).join(" ")}function G2(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var W2=n=>{var e,t,r,i,o,l,u,d,p,m,v;let{invert:x,toast:_,unstyled:S,interacting:I,setHeights:R,visibleToasts:P,heights:V,index:U,toasts:G,expanded:O,removeToast:Y,defaultRichColors:D,closeButton:C,style:k,cancelButtonStyle:M,actionButtonStyle:B,className:F="",descriptionClassName:L="",duration:Ce,position:Ve,gap:Pe,loadingIcon:be,expandByDefault:se,classNames:X,icons:le,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:Z}=n,[de,Ee]=ee.useState(null),[Ie,ze]=ee.useState(null),[Se,Ye]=ee.useState(!1),[Me,rt]=ee.useState(!1),[qt,Qn]=ee.useState(!1),[Rt,Yn]=ee.useState(!1),[Pr,mr]=ee.useState(!1),[Zr,kr]=ee.useState(0),[Un,Jn]=ee.useState(0),jt=ee.useRef(_.duration||Ce||l0),Xn=ee.useRef(null),yn=ee.useRef(null),Nr=U===0,Cn=U+1<=P,Je=_.type,wt=_.dismissible!==!1,Bn=_.className||"",ss=_.descriptionClassName||"",$t=ee.useMemo(()=>V.findIndex($e=>$e.toastId===_.id)||0,[V,_.id]),Dr=ee.useMemo(()=>{var $e;return($e=_.closeButton)!=null?$e:C},[_.closeButton,C]),gr=ee.useMemo(()=>_.duration||Ce||l0,[_.duration,Ce]),Or=ee.useRef(0),Zn=ee.useRef(0),ei=ee.useRef(0),An=ee.useRef(null),[Pi,yr]=Ve.split("-"),ti=ee.useMemo(()=>V.reduce(($e,tt,z)=>z>=$t?$e:$e+tt.height,0),[V,$t]),Mr=k2(),Pn=_.invert||x,vn=Je==="loading";Zn.current=ee.useMemo(()=>$t*Pe+ti,[$t,ti]),ee.useEffect(()=>{jt.current=gr},[gr]),ee.useEffect(()=>{Ye(!0)},[]),ee.useEffect(()=>{let $e=yn.current;if($e){let tt=$e.getBoundingClientRect().height;return Jn(tt),R(z=>[{toastId:_.id,height:tt,position:_.position},...z]),()=>R(z=>z.filter(K=>K.toastId!==_.id))}},[R,_.id]),ee.useLayoutEffect(()=>{if(!Se)return;let $e=yn.current,tt=$e.style.height;$e.style.height="auto";let z=$e.getBoundingClientRect().height;$e.style.height=tt,Jn(z),R(K=>K.find(ne=>ne.toastId===_.id)?K.map(ne=>ne.toastId===_.id?{...ne,height:z}:ne):[{toastId:_.id,height:z,position:_.position},...K])},[Se,_.title,_.description,R,_.id]);let Xt=ee.useCallback(()=>{rt(!0),kr(Zn.current),R($e=>$e.filter(tt=>tt.toastId!==_.id)),setTimeout(()=>{Y(_)},H2)},[_,Y,R,Zn]);ee.useEffect(()=>{if(_.promise&&Je==="loading"||_.duration===1/0||_.type==="loading")return;let $e;return O||I||Z&&Mr?(()=>{if(ei.current<Or.current){let tt=new Date().getTime()-Or.current;jt.current=jt.current-tt}ei.current=new Date().getTime()})():jt.current!==1/0&&(Or.current=new Date().getTime(),$e=setTimeout(()=>{var tt;(tt=_.onAutoClose)==null||tt.call(_,_),Xt()},jt.current)),()=>clearTimeout($e)},[O,I,_,Je,Z,Mr,Xt]),ee.useEffect(()=>{_.delete&&Xt()},[Xt,_.delete]);function _n(){var $e,tt,z;return le!=null&&le.loading?ee.createElement("div",{className:yi(X==null?void 0:X.loader,($e=_==null?void 0:_.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":Je==="loading"},le.loading):be?ee.createElement("div",{className:yi(X==null?void 0:X.loader,(tt=_==null?void 0:_.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":Je==="loading"},be):ee.createElement(I2,{className:yi(X==null?void 0:X.loader,(z=_==null?void 0:_.classNames)==null?void 0:z.loader),visible:Je==="loading"})}return ee.createElement("li",{tabIndex:0,ref:yn,className:yi(F,Bn,X==null?void 0:X.toast,(e=_==null?void 0:_.classNames)==null?void 0:e.toast,X==null?void 0:X.default,X==null?void 0:X[Je],(t=_==null?void 0:_.classNames)==null?void 0:t[Je]),"data-sonner-toast":"","data-rich-colors":(r=_.richColors)!=null?r:D,"data-styled":!(_.jsx||_.unstyled||S),"data-mounted":Se,"data-promise":!!_.promise,"data-swiped":Pr,"data-removed":Me,"data-visible":Cn,"data-y-position":Pi,"data-x-position":yr,"data-index":U,"data-front":Nr,"data-swiping":qt,"data-dismissible":wt,"data-type":Je,"data-invert":Pn,"data-swipe-out":Rt,"data-swipe-direction":Ie,"data-expanded":!!(O||se&&Se),style:{"--index":U,"--toasts-before":U,"--z-index":G.length-U,"--offset":`${Me?Zr:Zn.current}px`,"--initial-height":se?"auto":`${Un}px`,...k,..._.style},onPointerDown:$e=>{vn||!wt||(Xn.current=new Date,kr(Zn.current),$e.target.setPointerCapture($e.pointerId),$e.target.tagName!=="BUTTON"&&(Qn(!0),An.current={x:$e.clientX,y:$e.clientY}))},onPointerUp:()=>{var $e,tt,z,K;if(Rt||!wt)return;An.current=null;let ne=Number((($e=yn.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),oe=Number(((tt=yn.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ve=new Date().getTime()-((z=Xn.current)==null?void 0:z.getTime()),_e=de==="x"?ne:oe,Ne=Math.abs(_e)/ve;if(Math.abs(_e)>=$2||Ne>.11){kr(Zn.current),(K=_.onDismiss)==null||K.call(_,_),ze(de==="x"?ne>0?"right":"left":oe>0?"down":"up"),Xt(),Yn(!0),mr(!1);return}Qn(!1),Ee(null)},onPointerMove:$e=>{var tt,z,K,ne;if(!An.current||!wt||((tt=window.getSelection())==null?void 0:tt.toString().length)>0)return;let oe=$e.clientY-An.current.y,ve=$e.clientX-An.current.x,_e=(z=n.swipeDirections)!=null?z:G2(Ve);!de&&(Math.abs(ve)>1||Math.abs(oe)>1)&&Ee(Math.abs(ve)>Math.abs(oe)?"x":"y");let Ne={x:0,y:0};de==="y"?(_e.includes("top")||_e.includes("bottom"))&&(_e.includes("top")&&oe<0||_e.includes("bottom")&&oe>0)&&(Ne.y=oe):de==="x"&&(_e.includes("left")||_e.includes("right"))&&(_e.includes("left")&&ve<0||_e.includes("right")&&ve>0)&&(Ne.x=ve),(Math.abs(Ne.x)>0||Math.abs(Ne.y)>0)&&mr(!0),(K=yn.current)==null||K.style.setProperty("--swipe-amount-x",`${Ne.x}px`),(ne=yn.current)==null||ne.style.setProperty("--swipe-amount-y",`${Ne.y}px`)}},Dr&&!_.jsx?ee.createElement("button",{"aria-label":H,"data-disabled":vn,"data-close-button":!0,onClick:vn||!wt?()=>{}:()=>{var $e;Xt(),($e=_.onDismiss)==null||$e.call(_,_)},className:yi(X==null?void 0:X.closeButton,(i=_==null?void 0:_.classNames)==null?void 0:i.closeButton)},(o=le==null?void 0:le.close)!=null?o:P2):null,_.jsx||T.isValidElement(_.title)?_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title:ee.createElement(ee.Fragment,null,Je||_.icon||_.promise?ee.createElement("div",{"data-icon":"",className:yi(X==null?void 0:X.icon,(l=_==null?void 0:_.classNames)==null?void 0:l.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||_n():null,_.type!=="loading"?_.icon||(le==null?void 0:le[Je])||T2(Je):null):null,ee.createElement("div",{"data-content":"",className:yi(X==null?void 0:X.content,(u=_==null?void 0:_.classNames)==null?void 0:u.content)},ee.createElement("div",{"data-title":"",className:yi(X==null?void 0:X.title,(d=_==null?void 0:_.classNames)==null?void 0:d.title)},typeof _.title=="function"?_.title():_.title),_.description?ee.createElement("div",{"data-description":"",className:yi(L,ss,X==null?void 0:X.description,(p=_==null?void 0:_.classNames)==null?void 0:p.description)},typeof _.description=="function"?_.description():_.description):null),T.isValidElement(_.cancel)?_.cancel:_.cancel&&Rf(_.cancel)?ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||M,onClick:$e=>{var tt,z;Rf(_.cancel)&&wt&&((z=(tt=_.cancel).onClick)==null||z.call(tt,$e),Xt())},className:yi(X==null?void 0:X.cancelButton,(m=_==null?void 0:_.classNames)==null?void 0:m.cancelButton)},_.cancel.label):null,T.isValidElement(_.action)?_.action:_.action&&Rf(_.action)?ee.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||B,onClick:$e=>{var tt,z;Rf(_.action)&&((z=(tt=_.action).onClick)==null||z.call(tt,$e),!$e.defaultPrevented&&Xt())},className:yi(X==null?void 0:X.actionButton,(v=_==null?void 0:_.classNames)==null?void 0:v.actionButton)},_.action.label):null))};function u0(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function K2(n,e){let t={};return[n,e].forEach((r,i)=>{let o=i===1,l=o?"--mobile-offset":"--offset",u=o?U2:F2;function d(p){["top","right","bottom","left"].forEach(m=>{t[`${l}-${m}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?t[`${l}-${p}`]=u:t[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):d(u)}),t}var q2=T.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:d,mobileOffset:p,theme:m="light",richColors:v,duration:x,style:_,visibleToasts:S=j2,toastOptions:I,dir:R=u0(),gap:P=z2,loadingIcon:V,icons:U,containerAriaLabel:G="Notifications",pauseWhenPageIsHidden:O}=n,[Y,D]=ee.useState([]),C=ee.useMemo(()=>Array.from(new Set([r].concat(Y.filter(Z=>Z.position).map(Z=>Z.position)))),[Y,r]),[k,M]=ee.useState([]),[B,F]=ee.useState(!1),[L,Ce]=ee.useState(!1),[Ve,Pe]=ee.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),be=ee.useRef(null),se=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=ee.useRef(null),le=ee.useRef(!1),H=ee.useCallback(Z=>{D(de=>{var Ee;return(Ee=de.find(Ie=>Ie.id===Z.id))!=null&&Ee.delete||br.dismiss(Z.id),de.filter(({id:Ie})=>Ie!==Z.id)})},[]);return ee.useEffect(()=>br.subscribe(Z=>{if(Z.dismiss){D(de=>de.map(Ee=>Ee.id===Z.id?{...Ee,delete:!0}:Ee));return}setTimeout(()=>{ET.flushSync(()=>{D(de=>{let Ee=de.findIndex(Ie=>Ie.id===Z.id);return Ee!==-1?[...de.slice(0,Ee),{...de[Ee],...Z},...de.slice(Ee+1)]:[Z,...de]})})})}),[]),ee.useEffect(()=>{if(m!=="system"){Pe(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Pe("dark"):Pe("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:de})=>{Pe(de?"dark":"light")})}catch{Z.addListener(({matches:Ee})=>{try{Pe(Ee?"dark":"light")}catch(Ie){console.error(Ie)}})}},[m]),ee.useEffect(()=>{Y.length<=1&&F(!1)},[Y]),ee.useEffect(()=>{let Z=de=>{var Ee,Ie;i.every(ze=>de[ze]||de.code===ze)&&(F(!0),(Ee=be.current)==null||Ee.focus()),de.code==="Escape"&&(document.activeElement===be.current||(Ie=be.current)!=null&&Ie.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[i]),ee.useEffect(()=>{if(be.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,le.current=!1)}},[be.current]),ee.createElement("section",{ref:e,"aria-label":`${G} ${se}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((Z,de)=>{var Ee;let[Ie,ze]=Z.split("-");return Y.length?ee.createElement("ol",{key:Z,dir:R==="auto"?u0():R,tabIndex:-1,ref:be,className:u,"data-sonner-toaster":!0,"data-theme":Ve,"data-y-position":Ie,"data-lifted":B&&Y.length>1&&!o,"data-x-position":ze,style:{"--front-toast-height":`${((Ee=k[0])==null?void 0:Ee.height)||0}px`,"--width":`${B2}px`,"--gap":`${P}px`,..._,...K2(d,p)},onBlur:Se=>{le.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(le.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||le.current||(le.current=!0,X.current=Se.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{L||F(!1)},onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||Ce(!0)},onPointerUp:()=>Ce(!1)},Y.filter(Se=>!Se.position&&de===0||Se.position===Z).map((Se,Ye)=>{var Me,rt;return ee.createElement(W2,{key:Se.id,icons:U,index:Ye,toast:Se,defaultRichColors:v,duration:(Me=I==null?void 0:I.duration)!=null?Me:x,className:I==null?void 0:I.className,descriptionClassName:I==null?void 0:I.descriptionClassName,invert:t,visibleToasts:S,closeButton:(rt=I==null?void 0:I.closeButton)!=null?rt:l,interacting:L,position:Z,style:I==null?void 0:I.style,unstyled:I==null?void 0:I.unstyled,classNames:I==null?void 0:I.classNames,cancelButtonStyle:I==null?void 0:I.cancelButtonStyle,actionButtonStyle:I==null?void 0:I.actionButtonStyle,removeToast:H,toasts:Y.filter(qt=>qt.position==Se.position),heights:k.filter(qt=>qt.position==Se.position),setHeights:M,expandByDefault:o,gap:P,loadingIcon:V,expanded:B,pauseWhenPageIsHidden:O,swipeDirections:n.swipeDirections})})):null}))});const Q2=({...n})=>{const{theme:e}=TT();return y.jsx(q2,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};function Y2(){return y.jsx(x2,{children:y.jsx(E2,{children:y.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[y.jsx(gT,{}),y.jsx(Q2,{})]})})})}function c0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Xh(...n){return e=>{let t=!1;const r=n.map(i=>{const o=c0(i,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():c0(n[i],null)}}}}function Yt(...n){return T.useCallback(Xh(...n),n)}var Ao=T.forwardRef((n,e)=>{const{children:t,...r}=n,i=T.Children.toArray(t),o=i.find(J2);if(o){const l=o.props.children,u=i.map(d=>d===o?T.Children.count(l)>1?T.Children.only(null):T.isValidElement(l)?l.props.children:null:d);return y.jsx(Hg,{...r,ref:e,children:T.isValidElement(l)?T.cloneElement(l,void 0,u):null})}return y.jsx(Hg,{...r,ref:e,children:t})});Ao.displayName="Slot";var Hg=T.forwardRef((n,e)=>{const{children:t,...r}=n;if(T.isValidElement(t)){const i=Z2(t);return T.cloneElement(t,{...X2(r,t.props),ref:e?Xh(e,i):i})}return T.Children.count(t)>1?T.Children.only(null):null});Hg.displayName="SlotClone";var bT=({children:n})=>y.jsx(y.Fragment,{children:n});function J2(n){return T.isValidElement(n)&&n.type===bT}function X2(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...u)=>{o(...u),i(...u)}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function Z2(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function IT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=IT(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function ST(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=IT(n))&&(r&&(r+=" "),r+=e);return r}const d0=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,f0=ST,eD=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return f0(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:o}=e,l=Object.keys(i).map(p=>{const m=t==null?void 0:t[p],v=o==null?void 0:o[p];if(m===null)return null;const x=d0(m)||d0(v);return i[p][x]}),u=t&&Object.entries(t).reduce((p,m)=>{let[v,x]=m;return x===void 0||(p[v]=x),p},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,m)=>{let{class:v,className:x,..._}=m;return Object.entries(_).every(S=>{let[I,R]=S;return Array.isArray(R)?R.includes({...o,...u}[I]):{...o,...u}[I]===R})?[...p,v,x]:p},[]);return f0(n,l,d,t==null?void 0:t.class,t==null?void 0:t.className)},Uy="-",tD=n=>{const e=rD(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(Uy);return u[0]===""&&u.length!==1&&u.shift(),RT(u,e)||nD(l)},getConflictingClassGroupIds:(l,u)=>{const d=t[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},RT=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?RT(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=n.join(Uy);return(l=e.validators.find(({validator:u})=>u(o)))==null?void 0:l.classGroupId},h0=/^\[(.+)\]$/,nD=n=>{if(h0.test(n)){const e=h0.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},rD=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return sD(Object.entries(n.classGroups),t).forEach(([o,l])=>{Gg(l,r,o,e)}),r},Gg=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const o=i===""?e:p0(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(iD(i)){Gg(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,l])=>{Gg(l,p0(e,o),t,r)})})},p0=(n,e)=>{let t=n;return e.split(Uy).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},iD=n=>n.isThemeGetter,sD=(n,e)=>e?n.map(([t,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,u])=>[e+l,u])):o);return[t,i]}):n,oD=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(o,l)=>{t.set(o,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set(o,l){t.has(o)?t.set(o,l):i(o,l)}}},CT="!",aD=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],o=e.length,l=u=>{const d=[];let p=0,m=0,v;for(let R=0;R<u.length;R++){let P=u[R];if(p===0){if(P===i&&(r||u.slice(R,R+o)===e)){d.push(u.slice(m,R)),m=R+o;continue}if(P==="/"){v=R;continue}}P==="["?p++:P==="]"&&p--}const x=d.length===0?u:u.substring(m),_=x.startsWith(CT),S=_?x.substring(1):x,I=v&&v>m?v-m:void 0;return{modifiers:d,hasImportantModifier:_,baseClassName:S,maybePostfixModifierPosition:I}};return t?u=>t({className:u,parseClassName:l}):l},lD=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},uD=n=>({cache:oD(n.cacheSize),parseClassName:aD(n),...tD(n)}),cD=/\s+/,dD=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],l=n.trim().split(cD);let u="";for(let d=l.length-1;d>=0;d-=1){const p=l[d],{modifiers:m,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:_}=t(p);let S=!!_,I=r(S?x.substring(0,_):x);if(!I){if(!S){u=p+(u.length>0?" "+u:u);continue}if(I=r(x),!I){u=p+(u.length>0?" "+u:u);continue}S=!1}const R=lD(m).join(":"),P=v?R+CT:R,V=P+I;if(o.includes(V))continue;o.push(V);const U=i(I,S);for(let G=0;G<U.length;++G){const O=U[G];o.push(P+O)}u=p+(u.length>0?" "+u:u)}return u};function fD(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=AT(e))&&(r&&(r+=" "),r+=t);return r}const AT=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=AT(n[r]))&&(t&&(t+=" "),t+=e);return t};function hD(n,...e){let t,r,i,o=l;function l(d){const p=e.reduce((m,v)=>v(m),n());return t=uD(p),r=t.cache.get,i=t.cache.set,o=u,u(d)}function u(d){const p=r(d);if(p)return p;const m=dD(d,t);return i(d,m),m}return function(){return o(fD.apply(null,arguments))}}const Nt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},PT=/^\[(?:([a-z-]+):)?(.+)\]$/i,pD=/^\d+\/\d+$/,mD=new Set(["px","full","screen"]),gD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_D=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Es=n=>Ul(n)||mD.has(n)||pD.test(n),oo=n=>au(n,"length",CD),Ul=n=>!!n&&!Number.isNaN(Number(n)),hg=n=>au(n,"number",Ul),Zu=n=>!!n&&Number.isInteger(Number(n)),ED=n=>n.endsWith("%")&&Ul(n.slice(0,-1)),Ze=n=>PT.test(n),ao=n=>gD.test(n),xD=new Set(["length","size","percentage"]),TD=n=>au(n,xD,kT),bD=n=>au(n,"position",kT),ID=new Set(["image","url"]),SD=n=>au(n,ID,PD),RD=n=>au(n,"",AD),ec=()=>!0,au=(n,e,t)=>{const r=PT.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},CD=n=>yD.test(n)&&!vD.test(n),kT=()=>!1,AD=n=>_D.test(n),PD=n=>wD.test(n),kD=()=>{const n=Nt("colors"),e=Nt("spacing"),t=Nt("blur"),r=Nt("brightness"),i=Nt("borderColor"),o=Nt("borderRadius"),l=Nt("borderSpacing"),u=Nt("borderWidth"),d=Nt("contrast"),p=Nt("grayscale"),m=Nt("hueRotate"),v=Nt("invert"),x=Nt("gap"),_=Nt("gradientColorStops"),S=Nt("gradientColorStopPositions"),I=Nt("inset"),R=Nt("margin"),P=Nt("opacity"),V=Nt("padding"),U=Nt("saturate"),G=Nt("scale"),O=Nt("sepia"),Y=Nt("skew"),D=Nt("space"),C=Nt("translate"),k=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",Ze,e],F=()=>[Ze,e],L=()=>["",Es,oo],Ce=()=>["auto",Ul,Ze],Ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Pe=()=>["solid","dashed","dotted","double","none"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",Ze],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Ul,Ze];return{cacheSize:500,separator:":",theme:{colors:[ec],spacing:[Es,oo],blur:["none","",ao,Ze],brightness:H(),borderColor:[n],borderRadius:["none","","full",ao,Ze],borderSpacing:F(),borderWidth:L(),contrast:H(),grayscale:X(),hueRotate:H(),invert:X(),gap:F(),gradientColorStops:[n],gradientColorStopPositions:[ED,oo],inset:B(),margin:B(),opacity:H(),padding:F(),saturate:H(),scale:H(),sepia:X(),skew:H(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[ao]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ve(),Ze]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],start:[{start:[I]}],end:[{end:[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zu,Ze]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",Zu,Ze]}],"grid-cols":[{"grid-cols":[ec]}],"col-start-end":[{col:["auto",{span:["full",Zu,Ze]},Ze]}],"col-start":[{"col-start":Ce()}],"col-end":[{"col-end":Ce()}],"grid-rows":[{"grid-rows":[ec]}],"row-start-end":[{row:["auto",{span:[Zu,Ze]},Ze]}],"row-start":[{"row-start":Ce()}],"row-end":[{"row-end":Ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[V]}],px:[{px:[V]}],py:[{py:[V]}],ps:[{ps:[V]}],pe:[{pe:[V]}],pt:[{pt:[V]}],pr:[{pr:[V]}],pb:[{pb:[V]}],pl:[{pl:[V]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,e]}],"min-w":[{"min-w":[Ze,e,"min","max","fit"]}],"max-w":[{"max-w":[Ze,e,"none","full","min","max","fit","prose",{screen:[ao]},ao]}],h:[{h:[Ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ao,oo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hg]}],"font-family":[{font:[ec]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",Ul,hg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Es,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Es,oo]}],"underline-offset":[{"underline-offset":["auto",Es,Ze]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ve(),bD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",TD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SD]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...Pe(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:Pe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Pe()]}],"outline-offset":[{"outline-offset":[Es,Ze]}],"outline-w":[{outline:[Es,oo]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[Es,oo]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ao,RD]}],"shadow-color":[{shadow:[ec]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...be(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":be()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ao,Ze]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[v]}],saturate:[{saturate:[U]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[U]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[G]}],"scale-x":[{"scale-x":[G]}],"scale-y":[{"scale-y":[G]}],rotate:[{rotate:[Zu,Ze]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[Y]}],"skew-y":[{"skew-y":[Y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Es,oo,hg]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ND=hD(kD);function Dt(...n){return ND(ST(n))}const By=eD("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",dashboard:"bg-[#3E2723] text-white hover:bg-[#5D4037]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),vt=T.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},o)=>{const l=r?Ao:"button";return y.jsx(l,{className:Dt(By({variant:e,size:t,className:n})),ref:o,...i})});vt.displayName="Button";/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NT=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=T.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},d)=>T.createElement("svg",{ref:d,...OD,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:NT("lucide",i),...u},[...l.map(([p,m])=>T.createElement(p,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=(n,e)=>{const t=T.forwardRef(({className:r,...i},o)=>T.createElement(MD,{ref:o,iconNode:e,className:NT(`lucide-${DD(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],VD=Jt("ArrowLeft",LD);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],DT=Jt("ArrowRight",jD);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]],UD=Jt("Atom",FD);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],zy=Jt("Brain",BD);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$D=Jt("Check",zD);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],GD=Jt("ChevronRight",HD);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],KD=Jt("Circle",WD);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],QD=Jt("EllipsisVertical",qD);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],JD=Jt("House",YD);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],ZD=Jt("LayoutGrid",XD);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],tO=Jt("Link",eO);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ti=Jt("LoaderCircle",nO);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],iO=Jt("Lock",rO);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],oO=Jt("Mail",sO);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],lO=Jt("Moon",aO);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],cO=Jt("Share2",uO);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fO=Jt("SquarePen",dO);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],pO=Jt("SquarePlus",hO);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],gO=Jt("Sun",mO);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vO=Jt("User",yO);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wO=Jt("X",_O),EO="/assets/logo-rO9pGrim.png",$y=()=>{const{user:n}=Fy(),{theme:e,toggleTheme:t}=TT();return y.jsxs("div",{className:"px-5 flex justify-between shadow-md items-center",children:[y.jsx(Ea,{to:"/",children:y.jsxs("div",{className:"flex justify-center align-middle items-center gap-3",children:[y.jsx("img",{src:EO,alt:"Logo",className:"h-16 w-27 object-contain p-1"}),y.jsx("span",{id:"headingTitle",children:y.jsx("span",{id:""})})]})}),y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsx(vt,{variant:"ghost",size:"icon",onClick:t,"aria-label":`Switch to ${e==="light"?"dark":"light"} mode`,className:"w-12 h-10 !border-[2px] !border-solid !border-black dark:!border-white rounded-lg p-3 m-2 hover:bg-gray-100 dark:hover:bg-gray-800",children:e==="light"?y.jsx(lO,{className:"h-5 w-5"}):y.jsx(gO,{className:"h-5 w-5"})}),n?y.jsx(Ea,{to:"/dashboard",children:y.jsx(vt,{variant:"dashboard",children:"Dashboard"})}):y.jsx(Ea,{to:"/dashboard",children:y.jsx(vt,{children:"Get Started"})})]})]})};var pg={exports:{}},mg,m0;function xO(){if(m0)return mg;m0=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mg=n,mg}var gg,g0;function TO(){if(g0)return gg;g0=1;var n=xO();function e(){}function t(){}return t.resetWarningCache=e,gg=function(){function r(l,u,d,p,m,v){if(v!==n){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},gg}var y0;function bO(){return y0||(y0=1,pg.exports=TO()()),pg.exports}var IO=bO();const Gr=Gh(IO);function Wg(){return Wg=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wg.apply(this,arguments)}function SO(n,e){if(n==null)return{};var t=RO(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function RO(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var Hy=T.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=n.size,o=i===void 0?24:i,l=SO(n,["color","size"]);return ee.createElement("svg",Wg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),ee.createElement("circle",{cx:"12",cy:"12",r:"10"}),ee.createElement("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),ee.createElement("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}))});Hy.propTypes={color:Gr.string,size:Gr.oneOfType([Gr.string,Gr.number])};Hy.displayName="Globe";function Kg(){return Kg=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Kg.apply(this,arguments)}function CO(n,e){if(n==null)return{};var t=AO(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function AO(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var Gy=T.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=n.size,o=i===void 0?24:i,l=CO(n,["color","size"]);return ee.createElement("svg",Kg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),ee.createElement("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),ee.createElement("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),ee.createElement("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"}))});Gy.propTypes={color:Gr.string,size:Gr.oneOfType([Gr.string,Gr.number])};Gy.displayName="Instagram";function qg(){return qg=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qg.apply(this,arguments)}function PO(n,e){if(n==null)return{};var t=kO(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function kO(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var Wy=T.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=n.size,o=i===void 0?24:i,l=PO(n,["color","size"]);return ee.createElement("svg",qg({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),ee.createElement("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),ee.createElement("rect",{x:"2",y:"9",width:"4",height:"12"}),ee.createElement("circle",{cx:"4",cy:"4",r:"2"}))});Wy.propTypes={color:Gr.string,size:Gr.oneOfType([Gr.string,Gr.number])};Wy.displayName="Linkedin";const NO=()=>{const n=ou(),e=()=>{n("/dashboard")};return y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx($y,{}),y.jsx("section",{className:"z-50",children:y.jsxs("div",{className:"py-8 px-4 mx-auto max-w-screen-xl text-center lg:py-16 lg:px-12",children:[y.jsxs("div",{className:"inline-flex justify-between items-center py-1 px-1 pr-4 mb-7 text-sm rounded-full bg-muted text-muted-foreground hover:bg-muted/80",role:"alert",children:[y.jsx("span",{className:"text-xs bg-primary rounded-full text-white px-4 py-1.5 mr-3",children:"New"}),y.jsx("span",{className:"text-sm font-medium",children:"AI-Enhanced Resume Creation"}),y.jsx("svg",{className:"ml-2 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),y.jsx("h1",{className:"mb-4 text-4xl font-extrabold tracking-tight leading-none text-foreground md:text-5xl lg:text-6xl",children:"Elevate Your Career with Smart Resume Creation"}),y.jsx("p",{className:"mb-8 text-lg font-normal text-muted-foreground lg:text-xl sm:px-16 xl:px-48",children:"Effortlessly Craft a Standout Resume with Our AI-Powered Builder"}),y.jsx("div",{className:"flex flex-col mb-8 lg:mb-16 space-y-4 sm:flex-row sm:justify-center sm:space-y-0 sm:space-x-4",children:y.jsxs("div",{onClick:e,className:"inline-flex justify-center items-center py-3 px-5 text-base font-medium text-center text-white rounded-lg bg-primary hover:bg-primary/90 focus:ring-4 focus:ring-primary/30",children:["Get Started",y.jsx("svg",{className:"ml-2 -mr-1 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}),y.jsxs("section",{className:"py-8 bg-card z-50 px-4 mx-auto max-w-screen-xl text-center lg:py-16 lg:px-12",children:[y.jsx("h2",{className:"font-bold text-3xl text-card-foreground",children:"How it Works?"}),y.jsx("h2",{className:"text-md text-muted-foreground",children:"Create your resume quickly and effortlessly in 3 Steps"}),y.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:[y.jsxs("div",{className:"block rounded-xl border bg-card border-border p-8 shadow-xl transition hover:shadow-lg",children:[y.jsx(UD,{className:"h-10 w-10 m-auto text-foreground"}),y.jsx("h2",{className:"mt-4 text-xl font-bold text-card-foreground",children:"Quickly customize your resume with AI"}),y.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Simply input your experience, and let our AI generate impactful bullet points that showcase your skill and experience."})]}),y.jsxs("div",{className:"block rounded-xl border bg-card border-border p-8 shadow-xl transition hover:shadow-lg",children:[y.jsx(fO,{className:"h-10 w-10 m-auto text-foreground"}),y.jsx("h2",{className:"mt-4 text-xl font-bold text-card-foreground",children:"Personalize Your Content"}),y.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Modify your form as per your requirements. Change colors, customize AI-generated data, and tailor it to suit your needs."})]}),y.jsxs("div",{className:"block rounded-xl border bg-card border-border p-8 shadow-xl transition hover:shadow-lg",children:[y.jsx(cO,{className:"h-10 w-10 m-auto text-foreground"}),y.jsx("h2",{className:"mt-4 text-xl font-bold text-card-foreground",children:"Resume-Specific Platforms"}),y.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Download your resume in PDF format and easily share it with others using a unique URL. Start accepting responses and feedback promptly."})]})]}),y.jsxs("div",{className:"mt-12 text-center",children:[y.jsx("button",{className:"inline-block rounded bg-primary px-12 py-3 text-sm font-medium text-white transition hover:bg-primary/90 focus:outline-none focus:ring focus:ring-primary/30",children:"Get Started Now"}),y.jsx("footer",{className:"bg-card py-8 mt-12",children:y.jsx("div",{className:"container mx-auto px-4",children:y.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[y.jsxs("div",{className:"flex items-center space-x-6",children:[y.jsx("a",{href:"https://www.instagram.com/victus__13/",className:"text-muted-foreground hover:text-pink-500 transition",children:y.jsx(Gy,{className:"h-6 w-6"})}),y.jsx("a",{href:"http://linkedin.com/in/mohamed-jameel823",className:"text-muted-foreground hover:text-blue-500 transition",children:y.jsx(Wy,{className:"h-6 w-6"})}),y.jsx("a",{href:"https://jameel-portfolio.vercel.app",className:"text-muted-foreground hover:text-green-500 transition",children:y.jsx(Hy,{className:"h-6 w-6"})})]}),y.jsxs("p",{className:"text-sm text-muted-foreground",children:["This site is crafted with React by"," ",y.jsx("span",{className:"font-bold",children:"Mohamed Jameel"})]})]})})})]})]})]})};function Ke(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function DO(n,e){const t=T.createContext(e),r=o=>{const{children:l,...u}=o,d=T.useMemo(()=>u,Object.values(u));return y.jsx(t.Provider,{value:d,children:l})};r.displayName=n+"Provider";function i(o){const l=T.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return[r,i]}function Fo(n,e=[]){let t=[];function r(o,l){const u=T.createContext(l),d=t.length;t=[...t,l];const p=v=>{var P;const{scope:x,children:_,...S}=v,I=((P=x==null?void 0:x[n])==null?void 0:P[d])||u,R=T.useMemo(()=>S,Object.values(S));return y.jsx(I.Provider,{value:R,children:_})};p.displayName=o+"Provider";function m(v,x){var I;const _=((I=x==null?void 0:x[n])==null?void 0:I[d])||u,S=T.useContext(_);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[p,m]}const i=()=>{const o=t.map(l=>T.createContext(l));return function(u){const d=(u==null?void 0:u[n])||o;return T.useMemo(()=>({[`__scope${n}`]:{...u,[n]:d}}),[u,d])}};return i.scopeName=n,[r,OO(i,...e)]}function OO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:p})=>{const v=d(o)[`__scope${p}`];return{...u,...v}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var ba=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},MO=hk.useId||(()=>{}),LO=0;function xa(n){const[e,t]=T.useState(MO());return ba(()=>{t(r=>r??String(LO++))},[n]),e?`radix-${e}`:""}function bi(n){const e=T.useRef(n);return T.useEffect(()=>{e.current=n}),T.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function Zh({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=VO({defaultProp:e,onChange:t}),o=n!==void 0,l=o?n:r,u=bi(t),d=T.useCallback(p=>{if(o){const v=typeof p=="function"?p(n):p;v!==n&&u(v)}else i(p)},[o,n,i,u]);return[l,d]}function VO({defaultProp:n,onChange:e}){const t=T.useState(n),[r]=t,i=T.useRef(r),o=bi(e);return T.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),t}var jO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Kt=jO.reduce((n,e)=>{const t=T.forwardRef((r,i)=>{const{asChild:o,...l}=r,u=o?Ao:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(u,{...l,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function OT(n,e){n&&Kc.flushSync(()=>n.dispatchEvent(e))}function FO(n,e=globalThis==null?void 0:globalThis.document){const t=bi(n);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var UO="DismissableLayer",Qg="dismissableLayer.update",BO="dismissableLayer.pointerDownOutside",zO="dismissableLayer.focusOutside",v0,MT=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ep=T.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=n,p=T.useContext(MT),[m,v]=T.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=T.useState({}),S=Yt(e,D=>v(D)),I=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),P=I.indexOf(R),V=m?I.indexOf(m):-1,U=p.layersWithOutsidePointerEventsDisabled.size>0,G=V>=P,O=GO(D=>{const C=D.target,k=[...p.branches].some(M=>M.contains(C));!G||k||(i==null||i(D),l==null||l(D),D.defaultPrevented||u==null||u())},x),Y=WO(D=>{const C=D.target;[...p.branches].some(M=>M.contains(C))||(o==null||o(D),l==null||l(D),D.defaultPrevented||u==null||u())},x);return FO(D=>{V===p.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},x),T.useEffect(()=>{if(m)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(v0=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),_0(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=v0)}},[m,x,t,p]),T.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),_0())},[m,p]),T.useEffect(()=>{const D=()=>_({});return document.addEventListener(Qg,D),()=>document.removeEventListener(Qg,D)},[]),y.jsx(Kt.div,{...d,ref:S,style:{pointerEvents:U?G?"auto":"none":void 0,...n.style},onFocusCapture:Ke(n.onFocusCapture,Y.onFocusCapture),onBlurCapture:Ke(n.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:Ke(n.onPointerDownCapture,O.onPointerDownCapture)})});ep.displayName=UO;var $O="DismissableLayerBranch",HO=T.forwardRef((n,e)=>{const t=T.useContext(MT),r=T.useRef(null),i=Yt(e,r);return T.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),y.jsx(Kt.div,{...n,ref:i})});HO.displayName=$O;function GO(n,e=globalThis==null?void 0:globalThis.document){const t=bi(n),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let d=function(){LT(BO,t,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function WO(n,e=globalThis==null?void 0:globalThis.document){const t=bi(n),r=T.useRef(!1);return T.useEffect(()=>{const i=o=>{o.target&&!r.current&&LT(zO,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _0(){const n=new CustomEvent(Qg);document.dispatchEvent(n)}function LT(n,e,t,{discrete:r}){const i=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?OT(i,o):i.dispatchEvent(o)}var yg="focusScope.autoFocusOnMount",vg="focusScope.autoFocusOnUnmount",w0={bubbles:!1,cancelable:!0},KO="FocusScope",tp=T.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=n,[u,d]=T.useState(null),p=bi(i),m=bi(o),v=T.useRef(null),x=Yt(e,I=>d(I)),_=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let I=function(U){if(_.paused||!u)return;const G=U.target;u.contains(G)?v.current=G:ho(v.current,{select:!0})},R=function(U){if(_.paused||!u)return;const G=U.relatedTarget;G!==null&&(u.contains(G)||ho(v.current,{select:!0}))},P=function(U){if(document.activeElement===document.body)for(const O of U)O.removedNodes.length>0&&ho(u)};document.addEventListener("focusin",I),document.addEventListener("focusout",R);const V=new MutationObserver(P);return u&&V.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",R),V.disconnect()}}},[r,u,_.paused]),T.useEffect(()=>{if(u){x0.add(_);const I=document.activeElement;if(!u.contains(I)){const P=new CustomEvent(yg,w0);u.addEventListener(yg,p),u.dispatchEvent(P),P.defaultPrevented||(qO(ZO(VT(u)),{select:!0}),document.activeElement===I&&ho(u))}return()=>{u.removeEventListener(yg,p),setTimeout(()=>{const P=new CustomEvent(vg,w0);u.addEventListener(vg,m),u.dispatchEvent(P),P.defaultPrevented||ho(I??document.body,{select:!0}),u.removeEventListener(vg,m),x0.remove(_)},0)}}},[u,p,m,_]);const S=T.useCallback(I=>{if(!t&&!r||_.paused)return;const R=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,P=document.activeElement;if(R&&P){const V=I.currentTarget,[U,G]=QO(V);U&&G?!I.shiftKey&&P===G?(I.preventDefault(),t&&ho(U,{select:!0})):I.shiftKey&&P===U&&(I.preventDefault(),t&&ho(G,{select:!0})):P===V&&I.preventDefault()}},[t,r,_.paused]);return y.jsx(Kt.div,{tabIndex:-1,...l,ref:x,onKeyDown:S})});tp.displayName=KO;function qO(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ho(r,{select:e}),document.activeElement!==t)return}function QO(n){const e=VT(n),t=E0(e,n),r=E0(e.reverse(),n);return[t,r]}function VT(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function E0(n,e){for(const t of n)if(!YO(t,{upTo:e}))return t}function YO(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function JO(n){return n instanceof HTMLInputElement&&"select"in n}function ho(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&JO(n)&&e&&n.select()}}var x0=XO();function XO(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=T0(n,e),n.unshift(e)},remove(e){var t;n=T0(n,e),(t=n[0])==null||t.resume()}}}function T0(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function ZO(n){return n.filter(e=>e.tagName!=="A")}var eM="Portal",np=T.forwardRef((n,e)=>{var u;const{container:t,...r}=n,[i,o]=T.useState(!1);ba(()=>o(!0),[]);const l=t||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?ET.createPortal(y.jsx(Kt.div,{...r,ref:e}),l):null});np.displayName=eM;function tM(n,e){return T.useReducer((t,r)=>e[t][r]??t,n)}var Zi=n=>{const{present:e,children:t}=n,r=nM(e),i=typeof t=="function"?t({present:r.isPresent}):T.Children.only(t),o=Yt(r.ref,rM(i));return typeof t=="function"||r.isPresent?T.cloneElement(i,{ref:o}):null};Zi.displayName="Presence";function nM(n){const[e,t]=T.useState(),r=T.useRef({}),i=T.useRef(n),o=T.useRef("none"),l=n?"mounted":"unmounted",[u,d]=tM(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const p=Cf(r.current);o.current=u==="mounted"?p:"none"},[u]),ba(()=>{const p=r.current,m=i.current;if(m!==n){const x=o.current,_=Cf(p);n?d("MOUNT"):_==="none"||(p==null?void 0:p.display)==="none"?d("UNMOUNT"):d(m&&x!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,d]),ba(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,v=_=>{const I=Cf(r.current).includes(_.animationName);if(_.target===e&&I&&(d("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},x=_=>{_.target===e&&(o.current=Cf(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:T.useCallback(p=>{p&&(r.current=getComputedStyle(p)),t(p)},[])}}function Cf(n){return(n==null?void 0:n.animationName)||"none"}function rM(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var _g=0;function Ky(){T.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??b0()),document.body.insertAdjacentElement("beforeend",n[1]??b0()),_g++,()=>{_g===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_g--}},[])}function b0(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var zi=function(){return zi=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},zi.apply(this,arguments)};function Qc(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function iM(n,e,t){for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var Kf="right-scroll-bar-position",qf="width-before-scroll-bar",sM="with-scroll-bars-hidden",oM="--removed-body-scroll-bar-size";function wg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function aM(n,e){var t=T.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var lM=typeof window<"u"?T.useLayoutEffect:T.useEffect,I0=new WeakMap;function uM(n,e){var t=aM(null,function(r){return n.forEach(function(i){return wg(i,r)})});return lM(function(){var r=I0.get(t);if(r){var i=new Set(r),o=new Set(n),l=t.current;i.forEach(function(u){o.has(u)||wg(u,null)}),o.forEach(function(u){i.has(u)||wg(u,l)})}I0.set(t,n)},[n]),t}function cM(n){return n}function dM(n,e){e===void 0&&(e=cM);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var l=e(o,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(r=!0;t.length;){var l=t;t=[],l.forEach(o)}t={push:function(u){return o(u)},filter:function(){return t}}},assignMedium:function(o){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(o),l=t}var d=function(){var m=l;l=[],m.forEach(o)},p=function(){return Promise.resolve().then(d)};p(),t={push:function(m){l.push(m),p()},filter:function(m){return l=l.filter(m),t}}}};return i}function fM(n){n===void 0&&(n={});var e=dM(null);return e.options=zi({async:!0,ssr:!1},n),e}var jT=function(n){var e=n.sideCar,t=Qc(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,zi({},t))};jT.isSideCarExport=!0;function hM(n,e){return n.useMedium(e),jT}var FT=fM(),Eg=function(){},rp=T.forwardRef(function(n,e){var t=T.useRef(null),r=T.useState({onScrollCapture:Eg,onWheelCapture:Eg,onTouchMoveCapture:Eg}),i=r[0],o=r[1],l=n.forwardProps,u=n.children,d=n.className,p=n.removeScrollBar,m=n.enabled,v=n.shards,x=n.sideCar,_=n.noIsolation,S=n.inert,I=n.allowPinchZoom,R=n.as,P=R===void 0?"div":R,V=n.gapMode,U=Qc(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),G=x,O=uM([t,e]),Y=zi(zi({},U),i);return T.createElement(T.Fragment,null,m&&T.createElement(G,{sideCar:FT,removeScrollBar:p,shards:v,noIsolation:_,inert:S,setCallbacks:o,allowPinchZoom:!!I,lockRef:t,gapMode:V}),l?T.cloneElement(T.Children.only(u),zi(zi({},Y),{ref:O})):T.createElement(P,zi({},Y,{className:d,ref:O}),u))});rp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rp.classNames={fullWidth:qf,zeroRight:Kf};var pM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mM(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=pM();return e&&n.setAttribute("nonce",e),n}function gM(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function yM(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var vM=function(){var n=0,e=null;return{add:function(t){n==0&&(e=mM())&&(gM(e,t),yM(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_M=function(){var n=vM();return function(e,t){T.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},UT=function(){var n=_M(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},wM={left:0,top:0,right:0,gap:0},xg=function(n){return parseInt(n||"",10)||0},EM=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[xg(t),xg(r),xg(i)]},xM=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return wM;var e=EM(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},TM=UT(),Bl="data-scroll-locked",bM=function(n,e,t,r){var i=n.left,o=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(sM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Bl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kf,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(qf,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Kf," .").concat(Kf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(qf," .").concat(qf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Bl,`] {
    `).concat(oM,": ").concat(u,`px;
  }
`)},S0=function(){var n=parseInt(document.body.getAttribute(Bl)||"0",10);return isFinite(n)?n:0},IM=function(){T.useEffect(function(){return document.body.setAttribute(Bl,(S0()+1).toString()),function(){var n=S0()-1;n<=0?document.body.removeAttribute(Bl):document.body.setAttribute(Bl,n.toString())}},[])},SM=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;IM();var o=T.useMemo(function(){return xM(i)},[i]);return T.createElement(TM,{styles:bM(o,!e,i,t?"":"!important")})},Yg=!1;if(typeof window<"u")try{var Af=Object.defineProperty({},"passive",{get:function(){return Yg=!0,!0}});window.addEventListener("test",Af,Af),window.removeEventListener("test",Af,Af)}catch{Yg=!1}var Rl=Yg?{passive:!1}:!1,RM=function(n){return n.tagName==="TEXTAREA"},BT=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!RM(n)&&t[e]==="visible")},CM=function(n){return BT(n,"overflowY")},AM=function(n){return BT(n,"overflowX")},R0=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=zT(n,r);if(i){var o=$T(n,r),l=o[1],u=o[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},PM=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},kM=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},zT=function(n,e){return n==="v"?CM(e):AM(e)},$T=function(n,e){return n==="v"?PM(e):kM(e)},NM=function(n,e){return n==="h"&&e==="rtl"?-1:1},DM=function(n,e,t,r,i){var o=NM(n,window.getComputedStyle(e).direction),l=o*r,u=t.target,d=e.contains(u),p=!1,m=l>0,v=0,x=0;do{var _=$T(n,u),S=_[0],I=_[1],R=_[2],P=I-R-o*S;(S||P)&&zT(n,u)&&(v+=P,x+=S),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(e.contains(u)||e===u));return(m&&Math.abs(v)<1||!m&&Math.abs(x)<1)&&(p=!0),p},Pf=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},C0=function(n){return[n.deltaX,n.deltaY]},A0=function(n){return n&&"current"in n?n.current:n},OM=function(n,e){return n[0]===e[0]&&n[1]===e[1]},MM=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},LM=0,Cl=[];function VM(n){var e=T.useRef([]),t=T.useRef([0,0]),r=T.useRef(),i=T.useState(LM++)[0],o=T.useState(UT)[0],l=T.useRef(n);T.useEffect(function(){l.current=n},[n]),T.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var I=iM([n.lockRef.current],(n.shards||[]).map(A0)).filter(Boolean);return I.forEach(function(R){return R.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),I.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var u=T.useCallback(function(I,R){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!l.current.allowPinchZoom;var P=Pf(I),V=t.current,U="deltaX"in I?I.deltaX:V[0]-P[0],G="deltaY"in I?I.deltaY:V[1]-P[1],O,Y=I.target,D=Math.abs(U)>Math.abs(G)?"h":"v";if("touches"in I&&D==="h"&&Y.type==="range")return!1;var C=R0(D,Y);if(!C)return!0;if(C?O=D:(O=D==="v"?"h":"v",C=R0(D,Y)),!C)return!1;if(!r.current&&"changedTouches"in I&&(U||G)&&(r.current=O),!O)return!0;var k=r.current||O;return DM(k,R,I,k==="h"?U:G)},[]),d=T.useCallback(function(I){var R=I;if(!(!Cl.length||Cl[Cl.length-1]!==o)){var P="deltaY"in R?C0(R):Pf(R),V=e.current.filter(function(O){return O.name===R.type&&(O.target===R.target||R.target===O.shadowParent)&&OM(O.delta,P)})[0];if(V&&V.should){R.cancelable&&R.preventDefault();return}if(!V){var U=(l.current.shards||[]).map(A0).filter(Boolean).filter(function(O){return O.contains(R.target)}),G=U.length>0?u(R,U[0]):!l.current.noIsolation;G&&R.cancelable&&R.preventDefault()}}},[]),p=T.useCallback(function(I,R,P,V){var U={name:I,delta:R,target:P,should:V,shadowParent:jM(P)};e.current.push(U),setTimeout(function(){e.current=e.current.filter(function(G){return G!==U})},1)},[]),m=T.useCallback(function(I){t.current=Pf(I),r.current=void 0},[]),v=T.useCallback(function(I){p(I.type,C0(I),I.target,u(I,n.lockRef.current))},[]),x=T.useCallback(function(I){p(I.type,Pf(I),I.target,u(I,n.lockRef.current))},[]);T.useEffect(function(){return Cl.push(o),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:x}),document.addEventListener("wheel",d,Rl),document.addEventListener("touchmove",d,Rl),document.addEventListener("touchstart",m,Rl),function(){Cl=Cl.filter(function(I){return I!==o}),document.removeEventListener("wheel",d,Rl),document.removeEventListener("touchmove",d,Rl),document.removeEventListener("touchstart",m,Rl)}},[]);var _=n.removeScrollBar,S=n.inert;return T.createElement(T.Fragment,null,S?T.createElement(o,{styles:MM(i)}):null,_?T.createElement(SM,{gapMode:n.gapMode}):null)}function jM(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const FM=hM(FT,VM);var ip=T.forwardRef(function(n,e){return T.createElement(rp,zi({},n,{ref:e,sideCar:FM}))});ip.classNames=rp.classNames;var UM=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Al=new WeakMap,kf=new WeakMap,Nf={},Tg=0,HT=function(n){return n&&(n.host||HT(n.parentNode))},BM=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=HT(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},zM=function(n,e,t,r){var i=BM(e,Array.isArray(n)?n:[n]);Nf[t]||(Nf[t]=new WeakMap);var o=Nf[t],l=[],u=new Set,d=new Set(i),p=function(v){!v||u.has(v)||(u.add(v),p(v.parentNode))};i.forEach(p);var m=function(v){!v||d.has(v)||Array.prototype.forEach.call(v.children,function(x){if(u.has(x))m(x);else try{var _=x.getAttribute(r),S=_!==null&&_!=="false",I=(Al.get(x)||0)+1,R=(o.get(x)||0)+1;Al.set(x,I),o.set(x,R),l.push(x),I===1&&S&&kf.set(x,!0),R===1&&x.setAttribute(t,"true"),S||x.setAttribute(r,"true")}catch(P){console.error("aria-hidden: cannot operate on ",x,P)}})};return m(e),u.clear(),Tg++,function(){l.forEach(function(v){var x=Al.get(v)-1,_=o.get(v)-1;Al.set(v,x),o.set(v,_),x||(kf.has(v)||v.removeAttribute(r),kf.delete(v)),_||v.removeAttribute(t)}),Tg--,Tg||(Al=new WeakMap,Al=new WeakMap,kf=new WeakMap,Nf={})}},qy=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=UM(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),zM(r,i,t,"aria-hidden")):function(){return null}},Qy="Dialog",[GT,WT]=Fo(Qy),[$M,Ci]=GT(Qy),KT=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:o,modal:l=!0}=n,u=T.useRef(null),d=T.useRef(null),[p=!1,m]=Zh({prop:r,defaultProp:i,onChange:o});return y.jsx($M,{scope:e,triggerRef:u,contentRef:d,contentId:xa(),titleId:xa(),descriptionId:xa(),open:p,onOpenChange:m,onOpenToggle:T.useCallback(()=>m(v=>!v),[m]),modal:l,children:t})};KT.displayName=Qy;var qT="DialogTrigger",QT=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ci(qT,t),o=Yt(e,i.triggerRef);return y.jsx(Kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Xy(i.open),...r,ref:o,onClick:Ke(n.onClick,i.onOpenToggle)})});QT.displayName=qT;var Yy="DialogPortal",[HM,YT]=GT(Yy,{forceMount:void 0}),JT=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,o=Ci(Yy,e);return y.jsx(HM,{scope:e,forceMount:t,children:T.Children.map(r,l=>y.jsx(Zi,{present:t||o.open,children:y.jsx(np,{asChild:!0,container:i,children:l})}))})};JT.displayName=Yy;var ph="DialogOverlay",XT=T.forwardRef((n,e)=>{const t=YT(ph,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=Ci(ph,n.__scopeDialog);return o.modal?y.jsx(Zi,{present:r||o.open,children:y.jsx(GM,{...i,ref:e})}):null});XT.displayName=ph;var GM=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ci(ph,t);return y.jsx(ip,{as:Ao,allowPinchZoom:!0,shards:[i.contentRef],children:y.jsx(Kt.div,{"data-state":Xy(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ia="DialogContent",ZT=T.forwardRef((n,e)=>{const t=YT(Ia,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,o=Ci(Ia,n.__scopeDialog);return y.jsx(Zi,{present:r||o.open,children:o.modal?y.jsx(WM,{...i,ref:e}):y.jsx(KM,{...i,ref:e})})});ZT.displayName=Ia;var WM=T.forwardRef((n,e)=>{const t=Ci(Ia,n.__scopeDialog),r=T.useRef(null),i=Yt(e,t.contentRef,r);return T.useEffect(()=>{const o=r.current;if(o)return qy(o)},[]),y.jsx(eb,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(n.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ke(n.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:Ke(n.onFocusOutside,o=>o.preventDefault())})}),KM=T.forwardRef((n,e)=>{const t=Ci(Ia,n.__scopeDialog),r=T.useRef(!1),i=T.useRef(!1);return y.jsx(eb,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=n.onCloseAutoFocus)==null||l.call(n,o),o.defaultPrevented||(r.current||(u=t.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var d,p;(d=n.onInteractOutside)==null||d.call(n,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((p=t.triggerRef.current)==null?void 0:p.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),eb=T.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=n,u=Ci(Ia,t),d=T.useRef(null),p=Yt(e,d);return Ky(),y.jsxs(y.Fragment,{children:[y.jsx(tp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:y.jsx(ep,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Xy(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(QM,{titleId:u.titleId}),y.jsx(JM,{contentRef:d,descriptionId:u.descriptionId})]})]})}),Jy="DialogTitle",tb=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ci(Jy,t);return y.jsx(Kt.h2,{id:i.titleId,...r,ref:e})});tb.displayName=Jy;var nb="DialogDescription",rb=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ci(nb,t);return y.jsx(Kt.p,{id:i.descriptionId,...r,ref:e})});rb.displayName=nb;var ib="DialogClose",sb=T.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ci(ib,t);return y.jsx(Kt.button,{type:"button",...r,ref:e,onClick:Ke(n.onClick,()=>i.onOpenChange(!1))})});sb.displayName=ib;function Xy(n){return n?"open":"closed"}var ob="DialogTitleWarning",[qM,ab]=DO(ob,{contentName:Ia,titleName:Jy,docsSlug:"dialog"}),QM=({titleId:n})=>{const e=ab(ob),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},YM="DialogDescriptionWarning",JM=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ab(YM).contentName}}.`;return T.useEffect(()=>{var o;const i=(o=n.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},lb=KT,XM=QT,ub=JT,Zy=XT,ev=ZT,tv=tb,nv=rb,rv=sb;const ZM=lb,eL=ub,cb=T.forwardRef(({className:n,...e},t)=>y.jsx(Zy,{ref:t,className:Dt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));cb.displayName=Zy.displayName;const db=T.forwardRef(({className:n,children:e,...t},r)=>y.jsxs(eL,{children:[y.jsx(cb,{}),y.jsxs(ev,{ref:r,className:Dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,y.jsxs(rv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[y.jsx(wO,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));db.displayName=ev.displayName;const fb=({className:n,...e})=>y.jsx("div",{className:Dt("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});fb.displayName="DialogHeader";const hb=T.forwardRef(({className:n,...e},t)=>y.jsx(tv,{ref:t,className:Dt("text-lg font-semibold leading-none tracking-tight",n),...e}));hb.displayName=tv.displayName;const pb=T.forwardRef(({className:n,...e},t)=>y.jsx(nv,{ref:t,className:Dt("text-sm text-muted-foreground",n),...e}));pb.displayName=nv.displayName;const xt=T.forwardRef(({className:n,type:e,...t},r)=>y.jsx("input",{type:e,className:Dt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));xt.displayName="Input";var P0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},tL=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,p=d?n[i+2]:0,m=o>>2,v=(o&3)<<4|u>>4;let x=(u&15)<<2|p>>6,_=p&63;d||(_=64,l||(x=64)),r.push(t[m],t[v],t[x],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(mb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||p==null||v==null)throw new nL;const x=o<<2|u>>4;if(r.push(x),p!==64){const _=u<<4&240|p>>2;if(r.push(_),v!==64){const S=p<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rL=function(n){const e=mb(n);return gb.encodeByteArray(e,!0)},mh=function(n){return rL(n).replace(/\./g,"")},yb=function(n){try{return gb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=()=>iL().__FIREBASE_DEFAULTS__,oL=()=>{if(typeof process>"u"||typeof P0>"u")return;const n=P0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&yb(n[1]);return e&&JSON.parse(e)},sp=()=>{try{return sL()||oL()||aL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vb=n=>{var e,t;return(t=(e=sp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_b=n=>{const e=vb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},wb=()=>{var n;return(n=sp())===null||n===void 0?void 0:n.config},Eb=n=>{var e;return(e=sp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[mh(JSON.stringify(t)),mh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function cL(){var n;const e=(n=sp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fL(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pL(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Tb(){return!cL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bb(){try{return typeof indexedDB=="object"}catch{return!1}}function mL(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="FirebaseError";class es extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=gL,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yc.prototype.create)}}class Yc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?yL(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new es(i,u,r)}}function yL(n,e){return n.replace(vL,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vL=/\{\$([^}]+)}/g;function _L(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ic(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(k0(o)&&k0(l)){if(!Ic(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function k0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function uc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function wL(n,e){const t=new EL(n,e);return t.subscribe.bind(t)}class EL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");xL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=bg),i.error===void 0&&(i.error=bg),i.complete===void 0&&(i.complete=bg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xL(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(n){return n&&n._delegate?n._delegate:n}class Po{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new lL;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IL(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bL(n){return n===fa?void 0:n}function IL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new TL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(it||(it={}));const RL={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},CL=it.INFO,AL={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},PL=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=AL[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iv{constructor(e){this.name=e,this._logLevel=CL,this._logHandler=PL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const kL=(n,e)=>e.some(t=>n instanceof t);let N0,D0;function NL(){return N0||(N0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DL(){return D0||(D0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ib=new WeakMap,Jg=new WeakMap,Sb=new WeakMap,Ig=new WeakMap,sv=new WeakMap;function OL(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(xo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Ib.set(t,n)}).catch(()=>{}),sv.set(e,n),e}function ML(n){if(Jg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Jg.set(n,e)}let Xg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Sb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LL(n){Xg=n(Xg)}function VL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Sg(this),e,...t);return Sb.set(r,e.sort?e.sort():[e]),xo(r)}:DL().includes(n)?function(...e){return n.apply(Sg(this),e),xo(Ib.get(this))}:function(...e){return xo(n.apply(Sg(this),e))}}function jL(n){return typeof n=="function"?VL(n):(n instanceof IDBTransaction&&ML(n),kL(n,NL())?new Proxy(n,Xg):n)}function xo(n){if(n instanceof IDBRequest)return OL(n);if(Ig.has(n))return Ig.get(n);const e=jL(n);return e!==n&&(Ig.set(n,e),sv.set(e,n)),e}const Sg=n=>sv.get(n);function FL(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=xo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(xo(l.result),d.oldVersion,d.newVersion,xo(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const UL=["get","getKey","getAll","getAllKeys","count"],BL=["put","add","delete","clear"],Rg=new Map;function O0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rg.get(e))return Rg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=BL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UL.includes(t)))return;const o=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),i&&d.done]))[0]};return Rg.set(e,o),o}LL(n=>({...n,get:(e,t,r)=>O0(e,t)||n.get(e,t,r),has:(e,t)=>!!O0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($L(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function $L(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zg="@firebase/app",M0="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new iv("@firebase/app"),HL="@firebase/app-compat",GL="@firebase/analytics-compat",WL="@firebase/analytics",KL="@firebase/app-check-compat",qL="@firebase/app-check",QL="@firebase/auth",YL="@firebase/auth-compat",JL="@firebase/database",XL="@firebase/data-connect",ZL="@firebase/database-compat",eV="@firebase/functions",tV="@firebase/functions-compat",nV="@firebase/installations",rV="@firebase/installations-compat",iV="@firebase/messaging",sV="@firebase/messaging-compat",oV="@firebase/performance",aV="@firebase/performance-compat",lV="@firebase/remote-config",uV="@firebase/remote-config-compat",cV="@firebase/storage",dV="@firebase/storage-compat",fV="@firebase/firestore",hV="@firebase/vertexai",pV="@firebase/firestore-compat",mV="firebase",gV="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="[DEFAULT]",yV={[Zg]:"fire-core",[HL]:"fire-core-compat",[WL]:"fire-analytics",[GL]:"fire-analytics-compat",[qL]:"fire-app-check",[KL]:"fire-app-check-compat",[QL]:"fire-auth",[YL]:"fire-auth-compat",[JL]:"fire-rtdb",[XL]:"fire-data-connect",[ZL]:"fire-rtdb-compat",[eV]:"fire-fn",[tV]:"fire-fn-compat",[nV]:"fire-iid",[rV]:"fire-iid-compat",[iV]:"fire-fcm",[sV]:"fire-fcm-compat",[oV]:"fire-perf",[aV]:"fire-perf-compat",[lV]:"fire-rc",[uV]:"fire-rc-compat",[cV]:"fire-gcs",[dV]:"fire-gcs-compat",[fV]:"fire-fst",[pV]:"fire-fst-compat",[hV]:"fire-vertex","fire-js":"fire-js",[mV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,vV=new Map,ty=new Map;function L0(n,e){try{n.container.addComponent(e)}catch(t){As.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Sa(n){const e=n.name;if(ty.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;ty.set(e,n);for(const t of gh.values())L0(t,n);for(const t of vV.values())L0(t,n);return!0}function Xc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _i(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new Yc("app","Firebase",_V);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=gV;function Rb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ey,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw To.create("bad-app-name",{appName:String(i)});if(t||(t=wb()),!t)throw To.create("no-options");const o=gh.get(i);if(o){if(Ic(t,o.options)&&Ic(r,o.config))return o;throw To.create("duplicate-app",{appName:i})}const l=new SL(i);for(const d of ty.values())l.addComponent(d);const u=new wV(t,r,l);return gh.set(i,u),u}function ov(n=ey){const e=gh.get(n);if(!e&&n===ey&&wb())return Rb();if(!e)throw To.create("no-app",{appName:n});return e}function Wi(n,e,t){var r;let i=(r=yV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(u.join(" "));return}Sa(new Po(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="firebase-heartbeat-database",xV=1,Sc="firebase-heartbeat-store";let Cg=null;function Cb(){return Cg||(Cg=FL(EV,xV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sc)}catch(t){console.warn(t)}}}}).catch(n=>{throw To.create("idb-open",{originalErrorMessage:n.message})})),Cg}async function TV(n){try{const t=(await Cb()).transaction(Sc),r=await t.objectStore(Sc).get(Ab(n));return await t.done,r}catch(e){if(e instanceof es)As.warn(e.message);else{const t=To.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});As.warn(t.message)}}}async function V0(n,e){try{const r=(await Cb()).transaction(Sc,"readwrite");await r.objectStore(Sc).put(e,Ab(n)),await r.done}catch(t){if(t instanceof es)As.warn(t.message);else{const r=To.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});As.warn(r.message)}}}function Ab(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=1024,IV=30*24*60*60*1e3;class SV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CV(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=j0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=IV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){As.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=j0(),{heartbeatsToSend:r,unsentEntries:i}=RV(this._heartbeatsCache.heartbeats),o=mh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return As.warn(t),""}}}function j0(){return new Date().toISOString().substring(0,10)}function RV(n,e=bV){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),F0(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),F0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class CV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bb()?mL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TV(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return V0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return V0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function F0(n){return mh(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(n){Sa(new Po("platform-logger",e=>new zL(e),"PRIVATE")),Sa(new Po("heartbeat",e=>new SV(e),"PRIVATE")),Wi(Zg,M0,n),Wi(Zg,M0,"esm2017"),Wi("fire-js","")}AV("");var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bo,Pb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function k(){}k.prototype=C.prototype,D.D=C.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(M,B,F){for(var L=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)L[Ce-2]=arguments[Ce];return C.prototype[B].apply(M,L)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,C,k){k||(k=0);var M=Array(16);if(typeof C=="string")for(var B=0;16>B;++B)M[B]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(B=0;16>B;++B)M[B]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=D.g[0],k=D.g[1],B=D.g[2];var F=D.g[3],L=C+(F^k&(B^F))+M[0]+3614090360&4294967295;C=k+(L<<7&4294967295|L>>>25),L=F+(B^C&(k^B))+M[1]+3905402710&4294967295,F=C+(L<<12&4294967295|L>>>20),L=B+(k^F&(C^k))+M[2]+606105819&4294967295,B=F+(L<<17&4294967295|L>>>15),L=k+(C^B&(F^C))+M[3]+3250441966&4294967295,k=B+(L<<22&4294967295|L>>>10),L=C+(F^k&(B^F))+M[4]+4118548399&4294967295,C=k+(L<<7&4294967295|L>>>25),L=F+(B^C&(k^B))+M[5]+1200080426&4294967295,F=C+(L<<12&4294967295|L>>>20),L=B+(k^F&(C^k))+M[6]+2821735955&4294967295,B=F+(L<<17&4294967295|L>>>15),L=k+(C^B&(F^C))+M[7]+4249261313&4294967295,k=B+(L<<22&4294967295|L>>>10),L=C+(F^k&(B^F))+M[8]+1770035416&4294967295,C=k+(L<<7&4294967295|L>>>25),L=F+(B^C&(k^B))+M[9]+2336552879&4294967295,F=C+(L<<12&4294967295|L>>>20),L=B+(k^F&(C^k))+M[10]+4294925233&4294967295,B=F+(L<<17&4294967295|L>>>15),L=k+(C^B&(F^C))+M[11]+2304563134&4294967295,k=B+(L<<22&4294967295|L>>>10),L=C+(F^k&(B^F))+M[12]+1804603682&4294967295,C=k+(L<<7&4294967295|L>>>25),L=F+(B^C&(k^B))+M[13]+4254626195&4294967295,F=C+(L<<12&4294967295|L>>>20),L=B+(k^F&(C^k))+M[14]+2792965006&4294967295,B=F+(L<<17&4294967295|L>>>15),L=k+(C^B&(F^C))+M[15]+1236535329&4294967295,k=B+(L<<22&4294967295|L>>>10),L=C+(B^F&(k^B))+M[1]+4129170786&4294967295,C=k+(L<<5&4294967295|L>>>27),L=F+(k^B&(C^k))+M[6]+3225465664&4294967295,F=C+(L<<9&4294967295|L>>>23),L=B+(C^k&(F^C))+M[11]+643717713&4294967295,B=F+(L<<14&4294967295|L>>>18),L=k+(F^C&(B^F))+M[0]+3921069994&4294967295,k=B+(L<<20&4294967295|L>>>12),L=C+(B^F&(k^B))+M[5]+3593408605&4294967295,C=k+(L<<5&4294967295|L>>>27),L=F+(k^B&(C^k))+M[10]+38016083&4294967295,F=C+(L<<9&4294967295|L>>>23),L=B+(C^k&(F^C))+M[15]+3634488961&4294967295,B=F+(L<<14&4294967295|L>>>18),L=k+(F^C&(B^F))+M[4]+3889429448&4294967295,k=B+(L<<20&4294967295|L>>>12),L=C+(B^F&(k^B))+M[9]+568446438&4294967295,C=k+(L<<5&4294967295|L>>>27),L=F+(k^B&(C^k))+M[14]+3275163606&4294967295,F=C+(L<<9&4294967295|L>>>23),L=B+(C^k&(F^C))+M[3]+4107603335&4294967295,B=F+(L<<14&4294967295|L>>>18),L=k+(F^C&(B^F))+M[8]+1163531501&4294967295,k=B+(L<<20&4294967295|L>>>12),L=C+(B^F&(k^B))+M[13]+2850285829&4294967295,C=k+(L<<5&4294967295|L>>>27),L=F+(k^B&(C^k))+M[2]+4243563512&4294967295,F=C+(L<<9&4294967295|L>>>23),L=B+(C^k&(F^C))+M[7]+1735328473&4294967295,B=F+(L<<14&4294967295|L>>>18),L=k+(F^C&(B^F))+M[12]+2368359562&4294967295,k=B+(L<<20&4294967295|L>>>12),L=C+(k^B^F)+M[5]+4294588738&4294967295,C=k+(L<<4&4294967295|L>>>28),L=F+(C^k^B)+M[8]+2272392833&4294967295,F=C+(L<<11&4294967295|L>>>21),L=B+(F^C^k)+M[11]+1839030562&4294967295,B=F+(L<<16&4294967295|L>>>16),L=k+(B^F^C)+M[14]+4259657740&4294967295,k=B+(L<<23&4294967295|L>>>9),L=C+(k^B^F)+M[1]+2763975236&4294967295,C=k+(L<<4&4294967295|L>>>28),L=F+(C^k^B)+M[4]+1272893353&4294967295,F=C+(L<<11&4294967295|L>>>21),L=B+(F^C^k)+M[7]+4139469664&4294967295,B=F+(L<<16&4294967295|L>>>16),L=k+(B^F^C)+M[10]+3200236656&4294967295,k=B+(L<<23&4294967295|L>>>9),L=C+(k^B^F)+M[13]+681279174&4294967295,C=k+(L<<4&4294967295|L>>>28),L=F+(C^k^B)+M[0]+3936430074&4294967295,F=C+(L<<11&4294967295|L>>>21),L=B+(F^C^k)+M[3]+3572445317&4294967295,B=F+(L<<16&4294967295|L>>>16),L=k+(B^F^C)+M[6]+76029189&4294967295,k=B+(L<<23&4294967295|L>>>9),L=C+(k^B^F)+M[9]+3654602809&4294967295,C=k+(L<<4&4294967295|L>>>28),L=F+(C^k^B)+M[12]+3873151461&4294967295,F=C+(L<<11&4294967295|L>>>21),L=B+(F^C^k)+M[15]+530742520&4294967295,B=F+(L<<16&4294967295|L>>>16),L=k+(B^F^C)+M[2]+3299628645&4294967295,k=B+(L<<23&4294967295|L>>>9),L=C+(B^(k|~F))+M[0]+4096336452&4294967295,C=k+(L<<6&4294967295|L>>>26),L=F+(k^(C|~B))+M[7]+1126891415&4294967295,F=C+(L<<10&4294967295|L>>>22),L=B+(C^(F|~k))+M[14]+2878612391&4294967295,B=F+(L<<15&4294967295|L>>>17),L=k+(F^(B|~C))+M[5]+4237533241&4294967295,k=B+(L<<21&4294967295|L>>>11),L=C+(B^(k|~F))+M[12]+1700485571&4294967295,C=k+(L<<6&4294967295|L>>>26),L=F+(k^(C|~B))+M[3]+2399980690&4294967295,F=C+(L<<10&4294967295|L>>>22),L=B+(C^(F|~k))+M[10]+4293915773&4294967295,B=F+(L<<15&4294967295|L>>>17),L=k+(F^(B|~C))+M[1]+2240044497&4294967295,k=B+(L<<21&4294967295|L>>>11),L=C+(B^(k|~F))+M[8]+1873313359&4294967295,C=k+(L<<6&4294967295|L>>>26),L=F+(k^(C|~B))+M[15]+4264355552&4294967295,F=C+(L<<10&4294967295|L>>>22),L=B+(C^(F|~k))+M[6]+2734768916&4294967295,B=F+(L<<15&4294967295|L>>>17),L=k+(F^(B|~C))+M[13]+1309151649&4294967295,k=B+(L<<21&4294967295|L>>>11),L=C+(B^(k|~F))+M[4]+4149444226&4294967295,C=k+(L<<6&4294967295|L>>>26),L=F+(k^(C|~B))+M[11]+3174756917&4294967295,F=C+(L<<10&4294967295|L>>>22),L=B+(C^(F|~k))+M[2]+718787259&4294967295,B=F+(L<<15&4294967295|L>>>17),L=k+(F^(B|~C))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(B+(L<<21&4294967295|L>>>11))&4294967295,D.g[2]=D.g[2]+B&4294967295,D.g[3]=D.g[3]+F&4294967295}r.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var k=C-this.blockSize,M=this.B,B=this.h,F=0;F<C;){if(B==0)for(;F<=k;)i(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<C;)if(M[B++]=D.charCodeAt(F++),B==this.blockSize){i(this,M),B=0;break}}else for(;F<C;)if(M[B++]=D[F++],B==this.blockSize){i(this,M),B=0;break}}this.h=B,this.o+=C},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var k=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=k&255,k/=256;for(this.u(D),D=Array(16),C=k=0;4>C;++C)for(var M=0;32>M;M+=8)D[k++]=this.g[C]>>>M&255;return D};function o(D,C){var k=u;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=C(D)}function l(D,C){this.h=C;for(var k=[],M=!0,B=D.length-1;0<=B;B--){var F=D[B]|0;M&&F==C||(k[B]=F,M=!1)}this.g=k}var u={};function d(D){return-128<=D&&128>D?o(D,function(C){return new l([C|0],0>C?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return R(p(-D));for(var C=[],k=1,M=0;D>=k;M++)C[M]=D/k|0,k*=4294967296;return new l(C,0)}function m(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return R(m(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(C,8)),M=v,B=0;B<D.length;B+=8){var F=Math.min(8,D.length-B),L=parseInt(D.substring(B,B+F),C);8>F?(F=p(Math.pow(C,F)),M=M.j(F).add(p(L))):(M=M.j(k),M=M.add(p(L)))}return M}var v=d(0),x=d(1),_=d(16777216);n=l.prototype,n.m=function(){if(I(this))return-R(this).m();for(var D=0,C=1,k=0;k<this.g.length;k++){var M=this.i(k);D+=(0<=M?M:4294967296+M)*C,C*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(I(this))return"-"+R(this).toString(D);for(var C=p(Math.pow(D,6)),k=this,M="";;){var B=G(k,C).g;k=P(k,B.j(C));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=B,S(k))return F+M;for(;6>F.length;)F="0"+F;M=F+M}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function I(D){return D.h==-1}n.l=function(D){return D=P(this,D),I(D)?-1:S(D)?0:1};function R(D){for(var C=D.g.length,k=[],M=0;M<C;M++)k[M]=~D.g[M];return new l(k,~D.h).add(x)}n.abs=function(){return I(this)?R(this):this},n.add=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],M=0,B=0;B<=C;B++){var F=M+(this.i(B)&65535)+(D.i(B)&65535),L=(F>>>16)+(this.i(B)>>>16)+(D.i(B)>>>16);M=L>>>16,F&=65535,L&=65535,k[B]=L<<16|F}return new l(k,k[k.length-1]&-2147483648?-1:0)};function P(D,C){return D.add(R(C))}n.j=function(D){if(S(this)||S(D))return v;if(I(this))return I(D)?R(this).j(R(D)):R(R(this).j(D));if(I(D))return R(this.j(R(D)));if(0>this.l(_)&&0>D.l(_))return p(this.m()*D.m());for(var C=this.g.length+D.g.length,k=[],M=0;M<2*C;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(var B=0;B<D.g.length;B++){var F=this.i(M)>>>16,L=this.i(M)&65535,Ce=D.i(B)>>>16,Ve=D.i(B)&65535;k[2*M+2*B]+=L*Ve,V(k,2*M+2*B),k[2*M+2*B+1]+=F*Ve,V(k,2*M+2*B+1),k[2*M+2*B+1]+=L*Ce,V(k,2*M+2*B+1),k[2*M+2*B+2]+=F*Ce,V(k,2*M+2*B+2)}for(M=0;M<C;M++)k[M]=k[2*M+1]<<16|k[2*M];for(M=C;M<2*C;M++)k[M]=0;return new l(k,0)};function V(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function U(D,C){this.g=D,this.h=C}function G(D,C){if(S(C))throw Error("division by zero");if(S(D))return new U(v,v);if(I(D))return C=G(R(D),C),new U(R(C.g),R(C.h));if(I(C))return C=G(D,R(C)),new U(R(C.g),C.h);if(30<D.g.length){if(I(D)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var k=x,M=C;0>=M.l(D);)k=O(k),M=O(M);var B=Y(k,1),F=Y(M,1);for(M=Y(M,2),k=Y(k,2);!S(M);){var L=F.add(M);0>=L.l(D)&&(B=B.add(k),F=L),M=Y(M,1),k=Y(k,1)}return C=P(D,B.j(C)),new U(B,C)}for(B=v;0<=D.l(C);){for(k=Math.max(1,Math.floor(D.m()/C.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),F=p(k),L=F.j(C);I(L)||0<L.l(D);)k-=M,F=p(k),L=F.j(C);S(F)&&(F=x),B=B.add(F),D=P(D,L)}return new U(B,D)}n.A=function(D){return G(this,D).h},n.and=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],M=0;M<C;M++)k[M]=this.i(M)&D.i(M);return new l(k,this.h&D.h)},n.or=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],M=0;M<C;M++)k[M]=this.i(M)|D.i(M);return new l(k,this.h|D.h)},n.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],M=0;M<C;M++)k[M]=this.i(M)^D.i(M);return new l(k,this.h^D.h)};function O(D){for(var C=D.g.length+1,k=[],M=0;M<C;M++)k[M]=D.i(M)<<1|D.i(M-1)>>>31;return new l(k,D.h)}function Y(D,C){var k=C>>5;C%=32;for(var M=D.g.length-k,B=[],F=0;F<M;F++)B[F]=0<C?D.i(F+k)>>>C|D.i(F+k+1)<<32-C:D.i(F+k);return new l(B,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Pb=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,bo=l}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kb,cc,Nb,Qf,ny,Db,Ob,Mb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,b){return f==Array.prototype||f==Object.prototype||(f[w]=b.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Df=="object"&&Df];for(var w=0;w<f.length;++w){var b=f[w];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function i(f,w){if(w)e:{var b=r;f=f.split(".");for(var N=0;N<f.length-1;N++){var q=f[N];if(!(q in b))break e;b=b[q]}f=f[f.length-1],N=b[f],w=w(N),w!=N&&w!=null&&e(b,f,{configurable:!0,writable:!0,value:w})}}function o(f,w){f instanceof String&&(f+="");var b=0,N=!1,q={next:function(){if(!N&&b<f.length){var ie=b++;return{value:w(ie,f[ie]),done:!1}}return N=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(f){return f||function(){return o(this,function(w,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function p(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function m(f,w,b){return f.call.apply(f.bind,arguments)}function v(f,w,b){if(!f)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,N),f.apply(w,q)}}return function(){return f.apply(w,arguments)}}function x(f,w,b){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,x.apply(null,arguments)}function _(f,w){var b=Array.prototype.slice.call(arguments,1);return function(){var N=b.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function S(f,w){function b(){}b.prototype=w.prototype,f.aa=w.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(N,q,ie){for(var ge=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)ge[Et-2]=arguments[Et];return w.prototype[q].apply(N,ge)}}function I(f){const w=f.length;if(0<w){const b=Array(w);for(let N=0;N<w;N++)b[N]=f[N];return b}return[]}function R(f,w){for(let b=1;b<arguments.length;b++){const N=arguments[b];if(d(N)){const q=f.length||0,ie=N.length||0;f.length=q+ie;for(let ge=0;ge<ie;ge++)f[q+ge]=N[ge]}else f.push(N)}}class P{constructor(w,b){this.i=w,this.j=b,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function V(f){return/^[\s\xa0]*$/.test(f)}function U(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function G(f){return G[" "](f),f}G[" "]=function(){};var O=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Y(f,w,b){for(const N in f)w.call(b,f[N],N,f)}function D(f,w){for(const b in f)w.call(void 0,f[b],b,f)}function C(f){const w={};for(const b in f)w[b]=f[b];return w}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,w){let b,N;for(let q=1;q<arguments.length;q++){N=arguments[q];for(b in N)f[b]=N[b];for(let ie=0;ie<k.length;ie++)b=k[ie],Object.prototype.hasOwnProperty.call(N,b)&&(f[b]=N[b])}}function B(f){var w=1;f=f.split(":");const b=[];for(;0<w&&f.length;)b.push(f.shift()),w--;return f.length&&b.push(f.join(":")),b}function F(f){u.setTimeout(()=>{throw f},0)}function L(){var f=X;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class Ce{constructor(){this.h=this.g=null}add(w,b){const N=Ve.get();N.set(w,b),this.h?this.h.next=N:this.g=N,this.h=N}}var Ve=new P(()=>new Pe,f=>f.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(w,b){this.h=w,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let be,se=!1,X=new Ce,le=()=>{const f=u.Promise.resolve(void 0);be=()=>{f.then(H)}};var H=()=>{for(var f;f=L();){try{f.h.call(f.g)}catch(b){F(b)}var w=Ve;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}se=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};u.addEventListener("test",b,w),u.removeEventListener("test",b,w)}catch{}return f}();function Ie(f,w){if(de.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(O){e:{try{G(w.nodeName);var q=!0;break e}catch{}q=!1}q||(w=null)}}else b=="mouseover"?w=f.fromElement:b=="mouseout"&&(w=f.toElement);this.relatedTarget=w,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ze[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ie.aa.h.call(this)}}S(Ie,de);var ze={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Me(f,w,b,N,q){this.listener=f,this.proxy=null,this.src=w,this.type=b,this.capture=!!N,this.ha=q,this.key=++Ye,this.da=this.fa=!1}function rt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function qt(f){this.src=f,this.g={},this.h=0}qt.prototype.add=function(f,w,b,N,q){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var ge=Rt(f,w,N,q);return-1<ge?(w=f[ge],b||(w.fa=!1)):(w=new Me(w,this.src,ie,!!N,q),w.fa=b,f.push(w)),w};function Qn(f,w){var b=w.type;if(b in f.g){var N=f.g[b],q=Array.prototype.indexOf.call(N,w,void 0),ie;(ie=0<=q)&&Array.prototype.splice.call(N,q,1),ie&&(rt(w),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Rt(f,w,b,N){for(var q=0;q<f.length;++q){var ie=f[q];if(!ie.da&&ie.listener==w&&ie.capture==!!b&&ie.ha==N)return q}return-1}var Yn="closure_lm_"+(1e6*Math.random()|0),Pr={};function mr(f,w,b,N,q){if(Array.isArray(w)){for(var ie=0;ie<w.length;ie++)mr(f,w[ie],b,N,q);return null}return b=Cn(b),f&&f[Se]?f.K(w,b,p(N)?!!N.capture:!1,q):Zr(f,w,b,!1,N,q)}function Zr(f,w,b,N,q,ie){if(!w)throw Error("Invalid event type");var ge=p(q)?!!q.capture:!!q,Et=yn(f);if(Et||(f[Yn]=Et=new qt(f)),b=Et.add(w,b,N,ge,ie),b.proxy)return b;if(N=kr(),b.proxy=N,N.src=f,N.listener=b,f.addEventListener)Ee||(q=ge),q===void 0&&(q=!1),f.addEventListener(w.toString(),N,q);else if(f.attachEvent)f.attachEvent(jt(w.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return b}function kr(){function f(b){return w.call(f.src,f.listener,b)}const w=Xn;return f}function Un(f,w,b,N,q){if(Array.isArray(w))for(var ie=0;ie<w.length;ie++)Un(f,w[ie],b,N,q);else N=p(N)?!!N.capture:!!N,b=Cn(b),f&&f[Se]?(f=f.i,w=String(w).toString(),w in f.g&&(ie=f.g[w],b=Rt(ie,b,N,q),-1<b&&(rt(ie[b]),Array.prototype.splice.call(ie,b,1),ie.length==0&&(delete f.g[w],f.h--)))):f&&(f=yn(f))&&(w=f.g[w.toString()],f=-1,w&&(f=Rt(w,b,N,q)),(b=-1<f?w[f]:null)&&Jn(b))}function Jn(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[Se])Qn(w.i,f);else{var b=f.type,N=f.proxy;w.removeEventListener?w.removeEventListener(b,N,f.capture):w.detachEvent?w.detachEvent(jt(b),N):w.addListener&&w.removeListener&&w.removeListener(N),(b=yn(w))?(Qn(b,f),b.h==0&&(b.src=null,w[Yn]=null)):rt(f)}}}function jt(f){return f in Pr?Pr[f]:Pr[f]="on"+f}function Xn(f,w){if(f.da)f=!0;else{w=new Ie(w,this);var b=f.listener,N=f.ha||f.src;f.fa&&Jn(f),f=b.call(N,w)}return f}function yn(f){return f=f[Yn],f instanceof qt?f:null}var Nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(f){return typeof f=="function"?f:(f[Nr]||(f[Nr]=function(w){return f.handleEvent(w)}),f[Nr])}function Je(){Z.call(this),this.i=new qt(this),this.M=this,this.F=null}S(Je,Z),Je.prototype[Se]=!0,Je.prototype.removeEventListener=function(f,w,b,N){Un(this,f,w,b,N)};function wt(f,w){var b,N=f.F;if(N)for(b=[];N;N=N.F)b.push(N);if(f=f.M,N=w.type||w,typeof w=="string")w=new de(w,f);else if(w instanceof de)w.target=w.target||f;else{var q=w;w=new de(N,f),M(w,q)}if(q=!0,b)for(var ie=b.length-1;0<=ie;ie--){var ge=w.g=b[ie];q=Bn(ge,N,!0,w)&&q}if(ge=w.g=f,q=Bn(ge,N,!0,w)&&q,q=Bn(ge,N,!1,w)&&q,b)for(ie=0;ie<b.length;ie++)ge=w.g=b[ie],q=Bn(ge,N,!1,w)&&q}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var b=f.g[w],N=0;N<b.length;N++)rt(b[N]);delete f.g[w],f.h--}}this.F=null},Je.prototype.K=function(f,w,b,N){return this.i.add(String(f),w,!1,b,N)},Je.prototype.L=function(f,w,b,N){return this.i.add(String(f),w,!0,b,N)};function Bn(f,w,b,N){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var q=!0,ie=0;ie<w.length;++ie){var ge=w[ie];if(ge&&!ge.da&&ge.capture==b){var Et=ge.listener,rn=ge.ha||ge.src;ge.fa&&Qn(f.i,ge),q=Et.call(rn,N)!==!1&&q}}return q&&!N.defaultPrevented}function ss(f,w,b){if(typeof f=="function")b&&(f=x(f,b));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(f,w||0)}function $t(f){f.g=ss(()=>{f.g=null,f.i&&(f.i=!1,$t(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Dr extends Z{constructor(w,b){super(),this.m=w,this.l=b,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(f){Z.call(this),this.h=f,this.g={}}S(gr,Z);var Or=[];function Zn(f){Y(f.g,function(w,b){this.g.hasOwnProperty(b)&&Jn(w)},f),f.g={}}gr.prototype.N=function(){gr.aa.N.call(this),Zn(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ei=u.JSON.stringify,An=u.JSON.parse,Pi=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function yr(){}yr.prototype.h=null;function ti(f){return f.h||(f.h=f.i())}function Mr(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vn(){de.call(this,"d")}S(vn,de);function Xt(){de.call(this,"c")}S(Xt,de);var _n={},$e=null;function tt(){return $e=$e||new Je}_n.La="serverreachability";function z(f){de.call(this,_n.La,f)}S(z,de);function K(f){const w=tt();wt(w,new z(w))}_n.STAT_EVENT="statevent";function ne(f,w){de.call(this,_n.STAT_EVENT,f),this.stat=w}S(ne,de);function oe(f){const w=tt();wt(w,new ne(w,f))}_n.Ma="timingevent";function ve(f,w){de.call(this,_n.Ma,f),this.size=w}S(ve,de);function _e(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},w)}function Ne(){this.g=!0}Ne.prototype.xa=function(){this.g=!1};function xe(f,w,b,N,q,ie){f.info(function(){if(f.g)if(ie)for(var ge="",Et=ie.split("&"),rn=0;rn<Et.length;rn++){var ct=Et[rn].split("=");if(1<ct.length){var cn=ct[0];ct=ct[1];var Zt=cn.split("_");ge=2<=Zt.length&&Zt[1]=="type"?ge+(cn+"="+ct+"&"):ge+(cn+"=redacted&")}}else ge=null;else ge=ie;return"XMLHTTP REQ ("+N+") [attempt "+q+"]: "+w+`
`+b+`
`+ge})}function Ae(f,w,b,N,q,ie,ge){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+q+"]: "+w+`
`+b+`
`+ie+" "+ge})}function me(f,w,b,N){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+Xe(f,b)+(N?" "+N:"")})}function He(f,w){f.info(function(){return"TIMEOUT: "+w})}Ne.prototype.info=function(){};function Xe(f,w){if(!f.g)return w;if(!w)return null;try{var b=JSON.parse(w);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var N=b[f];if(!(2>N.length)){var q=N[1];if(Array.isArray(q)&&!(1>q.length)){var ie=q[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ge=1;ge<q.length;ge++)q[ge]=""}}}}return ei(b)}catch{return w}}var mt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ht={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},at;function ft(){}S(ft,yr),ft.prototype.g=function(){return new XMLHttpRequest},ft.prototype.i=function(){return{}},at=new ft;function gt(f,w,b,N){this.j=f,this.i=w,this.l=b,this.R=N||1,this.U=new gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var ri={},kn={};function wn(f,w,b){f.L=1,f.v=Bs(vr(w)),f.m=b,f.P=!0,os(f,null)}function os(f,w){f.F=Date.now(),yt(f),f.A=vr(f.v);var b=f.A,N=f.R;Array.isArray(N)||(N=[String(N)]),$s(b.i,"t",N),f.C=0,b=f.j.J,f.h=new ni,f.g=Cd(f.j,b?w:null,!f.m),0<f.O&&(f.M=new Dr(x(f.Y,f,f.g),f.O)),w=f.U,b=f.g,N=f.ca;var q="readystatechange";Array.isArray(q)||(q&&(Or[0]=q.toString()),q=Or);for(var ie=0;ie<q.length;ie++){var ge=mr(b,q[ie],N||w.handleEvent,!1,w.h||w);if(!ge)break;w.g[ge.key]=ge}w=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),K(),xe(f.i,f.u,f.A,f.l,f.R,f.m)}gt.prototype.ca=function(f){f=f.target;const w=this.M;w&&nr(f)==3?w.j():this.Y(f)},gt.prototype.Y=function(f){try{if(f==this.g)e:{const Zt=nr(this.g);var w=this.g.Ba();const Vr=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||Eu(this.g)))){this.J||Zt!=4||w==7||(w==8||0>=Vr?K(3):K(2)),ut(this);var b=this.g.Z();this.X=b;t:if(ki(this)){var N=Eu(this.g);f="";var q=N.length,ie=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),Ct(this);var ge="";break t}this.h.i=new u.TextDecoder}for(w=0;w<q;w++)this.h.h=!0,f+=this.h.i.decode(N[w],{stream:!(ie&&w==q-1)});N.length=0,this.h.g+=f,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=b==200,Ae(this.i,this.u,this.A,this.l,this.R,Zt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Et,rn=this.g;if((Et=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Et)){var ct=Et;break t}}ct=null}if(b=ct)me(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,si(this,b);else{this.o=!1,this.s=3,oe(12),En(this),Ct(this);break e}}if(this.P){b=!0;let wr;for(;!this.J&&this.C<ge.length;)if(wr=ii(this,ge),wr==kn){Zt==4&&(this.s=4,oe(14),b=!1),me(this.i,this.l,null,"[Incomplete Response]");break}else if(wr==ri){this.s=4,oe(15),me(this.i,this.l,ge,"[Invalid Chunk]"),b=!1;break}else me(this.i,this.l,wr,null),si(this,wr);if(ki(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||ge.length!=0||this.h.h||(this.s=1,oe(16),b=!1),this.o=this.o&&b,!b)me(this.i,this.l,ge,"[Invalid Chunked Response]"),En(this),Ct(this);else if(0<ge.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Tu(cn),cn.M=!0,oe(11))}}else me(this.i,this.l,ge,null),si(this,ge);Zt==4&&En(this),this.o&&!this.J&&(Zt==4?rl(this.j,this):(this.o=!1,yt(this)))}else Xa(this.g),b==400&&0<ge.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),En(this),Ct(this)}}}catch{}finally{}};function ki(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ii(f,w){var b=f.C,N=w.indexOf(`
`,b);return N==-1?kn:(b=Number(w.substring(b,N)),isNaN(b)?ri:(N+=1,N+b>w.length?kn:(w=w.slice(N,N+b),f.C=N+b,w)))}gt.prototype.cancel=function(){this.J=!0,En(this)};function yt(f){f.S=Date.now()+f.I,as(f,f.I)}function as(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=_e(x(f.ba,f),w)}function ut(f){f.B&&(u.clearTimeout(f.B),f.B=null)}gt.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(He(this.i,this.A),this.L!=2&&(K(),oe(17)),En(this),this.s=2,Ct(this)):as(this,this.S-f)};function Ct(f){f.j.G==0||f.J||rl(f.j,f)}function En(f){ut(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,Zn(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function si(f,w){try{var b=f.j;if(b.G!=0&&(b.g==f||zn(b.h,f))){if(!f.K&&zn(b.h,f)&&b.G==3){try{var N=b.Da.g.parse(w)}catch{N=null}if(Array.isArray(N)&&N.length==3){var q=N;if(q[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)nl(b),ci(b);else break e;tl(b),oe(18)}}else b.za=q[1],0<b.za-b.T&&37500>q[2]&&b.F&&b.v==0&&!b.C&&(b.C=_e(x(b.Za,b),6e3));if(1>=Wa(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else fs(b,11)}else if((f.K||b.g==f)&&nl(b),!V(w))for(q=b.Da.g.parse(w),w=0;w<q.length;w++){let ct=q[w];if(b.T=ct[0],ct=ct[1],b.G==2)if(ct[0]=="c"){b.K=ct[1],b.ia=ct[2];const cn=ct[3];cn!=null&&(b.la=cn,b.j.info("VER="+b.la));const Zt=ct[4];Zt!=null&&(b.Aa=Zt,b.j.info("SVER="+b.Aa));const Vr=ct[5];Vr!=null&&typeof Vr=="number"&&0<Vr&&(N=1.5*Vr,b.L=N,b.j.info("backChannelRequestTimeoutMs_="+N)),N=b;const wr=f.g;if(wr){const Xo=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xo){var ie=N.h;ie.g||Xo.indexOf("spdy")==-1&&Xo.indexOf("quic")==-1&&Xo.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(yu(ie,ie.h),ie.h=null))}if(N.D){const sl=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(N.ya=sl,It(N.I,N.D,sl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),N=b;var ge=f;if(N.qa=Rd(N,N.J?N.ia:null,N.W),ge.K){md(N.h,ge);var Et=ge,rn=N.L;rn&&(Et.I=rn),Et.B&&(ut(Et),yt(Et)),N.g=ge}else Jo(N);0<b.i.length&&Mi(b)}else ct[0]!="stop"&&ct[0]!="close"||fs(b,7);else b.G==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?fs(b,7):Tn(b):ct[0]!="noop"&&b.l&&b.l.ta(ct),b.v=0)}}K(4)}catch{}}var At=class{constructor(f,w){this.g=f,this.map=w}};function er(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Wa(f){return f.h?1:f.g?f.g.size:0}function zn(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function yu(f,w){f.g?f.g.add(w):f.h=w}function md(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}er.prototype.cancel=function(){if(this.i=gd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function gd(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const b of f.g.values())w=w.concat(b.D);return w}return I(f.i)}function Ka(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var w=[],b=f.length,N=0;N<b;N++)w.push(f[N]);return w}w=[],b=0;for(N in f)w[b++]=f[N];return w}function qa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var w=[];f=f.length;for(var b=0;b<f;b++)w.push(b);return w}w=[],b=0;for(const N in f)w[b++]=N;return w}}}function js(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var b=qa(f),N=Ka(f),q=N.length,ie=0;ie<q;ie++)w.call(void 0,N[ie],b&&b[ie],f)}var Ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Op(f,w){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var N=f[b].indexOf("="),q=null;if(0<=N){var ie=f[b].substring(0,N);q=f[b].substring(N+1)}else ie=f[b];w(ie,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ls(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ls){this.h=f.h,qo(this,f.j),this.o=f.o,this.g=f.g,Fs(this,f.s),this.l=f.l;var w=f.i,b=new Ni;b.i=w.i,w.g&&(b.g=new Map(w.g),b.h=w.h),Us(this,b),this.m=f.m}else f&&(w=String(f).match(Ko))?(this.h=!1,qo(this,w[1]||"",!0),this.o=lt(w[2]||""),this.g=lt(w[3]||"",!0),Fs(this,w[4]),this.l=lt(w[5]||"",!0),Us(this,w[6]||"",!0),this.m=lt(w[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}ls.prototype.toString=function(){var f=[],w=this.j;w&&f.push(zs(w,Qa,!0),":");var b=this.g;return(b||w=="file")&&(f.push("//"),(w=this.o)&&f.push(zs(w,Qa,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(zs(b,b.charAt(0)=="/"?_d:vd,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",zs(b,vu)),f.join("")};function vr(f){return new ls(f)}function qo(f,w,b){f.j=b?lt(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Fs(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function Us(f,w,b){w instanceof Ni?(f.i=w,Di(f.i,f.h)):(b||(w=zs(w,wd)),f.i=new Ni(w,f.h))}function It(f,w,b){f.i.set(w,b)}function Bs(f){return It(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function lt(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zs(f,w,b){return typeof f=="string"?(f=encodeURI(f).replace(w,yd),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function yd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Qa=/[#\/\?@]/g,vd=/[#\?:]/g,_d=/[#\?]/g,wd=/[#\?@]/g,vu=/#/g;function Ni(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function xn(f){f.g||(f.g=new Map,f.h=0,f.i&&Op(f.i,function(w,b){f.add(decodeURIComponent(w.replace(/\+/g," ")),b)}))}n=Ni.prototype,n.add=function(f,w){xn(this),this.i=null,f=Lr(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(w),this.h+=1,this};function oi(f,w){xn(f),w=Lr(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function ai(f,w){return xn(f),w=Lr(f,w),f.g.has(w)}n.forEach=function(f,w){xn(this),this.g.forEach(function(b,N){b.forEach(function(q){f.call(w,q,N,this)},this)},this)},n.na=function(){xn(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),b=[];for(let N=0;N<w.length;N++){const q=f[N];for(let ie=0;ie<q.length;ie++)b.push(w[N])}return b},n.V=function(f){xn(this);let w=[];if(typeof f=="string")ai(this,f)&&(w=w.concat(this.g.get(Lr(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)w=w.concat(f[b])}return w},n.set=function(f,w){return xn(this),this.i=null,f=Lr(this,f),ai(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},n.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function $s(f,w,b){oi(f,w),0<b.length&&(f.i=null,f.g.set(Lr(f,w),I(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var b=0;b<w.length;b++){var N=w[b];const ie=encodeURIComponent(String(N)),ge=this.V(N);for(N=0;N<ge.length;N++){var q=ie;ge[N]!==""&&(q+="="+encodeURIComponent(String(ge[N]))),f.push(q)}}return this.i=f.join("&")};function Lr(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Di(f,w){w&&!f.j&&(xn(f),f.i=null,f.g.forEach(function(b,N){var q=N.toLowerCase();N!=q&&(oi(this,N),$s(this,q,b))},f)),f.j=w}function Mp(f,w){const b=new Ne;if(u.Image){const N=new Image;N.onload=_(tr,b,"TestLoadImage: loaded",!0,w,N),N.onerror=_(tr,b,"TestLoadImage: error",!1,w,N),N.onabort=_(tr,b,"TestLoadImage: abort",!1,w,N),N.ontimeout=_(tr,b,"TestLoadImage: timeout",!1,w,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else w(!1)}function Ed(f,w){const b=new Ne,N=new AbortController,q=setTimeout(()=>{N.abort(),tr(b,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:N.signal}).then(ie=>{clearTimeout(q),ie.ok?tr(b,"TestPingServer: ok",!0,w):tr(b,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(q),tr(b,"TestPingServer: error",!1,w)})}function tr(f,w,b,N,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),N(b)}catch{}}function Lp(){this.g=new Pi}function xd(f,w,b){const N=b||"";try{js(f,function(q,ie){let ge=q;p(q)&&(ge=ei(q)),w.push(N+ie+"="+encodeURIComponent(ge))})}catch(q){throw w.push(N+"type="+encodeURIComponent("_badmap")),q}}function us(f){this.l=f.Ub||null,this.j=f.eb||!1}S(us,yr),us.prototype.g=function(){return new Qo(this.l,this.j)},us.prototype.i=function(f){return function(){return f}}({});function Qo(f,w){Je.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Qo,Je),n=Qo.prototype,n.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,ui(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Td(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Td(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?li(this):ui(this),this.readyState==3&&Td(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,li(this))},n.Qa=function(f){this.g&&(this.response=f,li(this))},n.ga=function(){this.g&&li(this)};function li(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ui(f)}n.setRequestHeader=function(f,w){this.u.append(f,w)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var b=w.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=w.next();return f.join(`\r
`)};function ui(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Qo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function cs(f){let w="";return Y(f,function(b,N){w+=N,w+=":",w+=b,w+=`\r
`}),w}function Hs(f,w,b){e:{for(N in b){var N=!1;break e}N=!0}N||(b=cs(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):It(f,w,b))}function Ot(f){Je.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ot,Je);var Vp=/^https?$/i,_u=["POST","PUT"];n=Ot.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,w,b,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():at.g(),this.v=this.o?ti(this.o):ti(at),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(ie){Yo(this,ie);return}if(f=b||"",b=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var q in N)b.set(q,N[q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ie of N.keys())b.set(ie,N.get(ie));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(b.keys()).find(ie=>ie.toLowerCase()=="content-type"),q=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(_u,w,void 0))||N||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ge]of b)this.g.setRequestHeader(ie,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ja(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){Yo(this,ie)}};function Yo(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,Ya(f),_r(f)}function Ya(f){f.A||(f.A=!0,wt(f,"complete"),wt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,wt(this,"complete"),wt(this,"abort"),_r(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),Ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wu(this):this.bb())},n.bb=function(){wu(this)};function wu(f){if(f.h&&typeof l<"u"&&(!f.v[1]||nr(f)!=4||f.Z()!=2)){if(f.u&&nr(f)==4)ss(f.Ea,0,f);else if(wt(f,"readystatechange"),nr(f)==4){f.h=!1;try{const ge=f.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var b;if(!(b=w)){var N;if(N=ge===0){var q=String(f.D).match(Ko)[1]||null;!q&&u.self&&u.self.location&&(q=u.self.location.protocol.slice(0,-1)),N=!Vp.test(q?q.toLowerCase():"")}b=N}if(b)wt(f,"complete"),wt(f,"success");else{f.m=6;try{var ie=2<nr(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",Ya(f)}}finally{_r(f)}}}}function _r(f,w){if(f.g){Ja(f);const b=f.g,N=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||wt(f,"ready");try{b.onreadystatechange=N}catch{}}}function Ja(f){f.I&&(u.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function nr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),An(w)}};function Eu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Xa(f){const w={};f=(f.g&&2<=nr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(V(f[N]))continue;var b=B(f[N]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ie=w[q]||[];w[q]=ie,ie.push(b)}D(w,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(f,w,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||w}function xu(f){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oi("baseRetryDelayMs",5e3,f),this.cb=Oi("retryDelaySeedMs",1e4,f),this.Wa=Oi("forwardChannelMaxRetries",2,f),this.wa=Oi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new er(f&&f.concurrentRequestLimit),this.Da=new Lp,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xu.prototype,n.la=8,n.G=1,n.connect=function(f,w,b,N){oe(0),this.W=f,this.H=w||{},b&&N!==void 0&&(this.H.OSID=b,this.H.OAID=N),this.F=this.X,this.I=Rd(this,null,this.W),Mi(this)};function Tn(f){if(Za(f),f.G==3){var w=f.U++,b=vr(f.I);if(It(b,"SID",f.K),It(b,"RID",w),It(b,"TYPE","terminate"),ds(f,b),w=new gt(f,f.j,w),w.L=2,w.v=Bs(vr(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!b&&u.Image&&(new Image().src=w.v,b=!0),b||(w.g=Cd(w.j,null),w.g.ea(w.v)),w.F=Date.now(),yt(w)}Sd(f)}function ci(f){f.g&&(Tu(f),f.g.cancel(),f.g=null)}function Za(f){ci(f),f.u&&(u.clearTimeout(f.u),f.u=null),nl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function Mi(f){if(!Nn(f.h)&&!f.s){f.s=!0;var w=f.Ga;be||le(),se||(be(),se=!0),X.add(w,f),f.B=0}}function jp(f,w){return Wa(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=_e(x(f.Ga,f,w),Id(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const q=new gt(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=C(ie),M(ie,this.S)):ie=this.S),this.m!==null||this.O||(q.H=ie,ie=null),this.P)e:{for(var w=0,b=0;b<this.i.length;b++){t:{var N=this.i[b];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(w+=N,4096<w){w=b;break e}if(w===4096||b===this.i.length-1){w=b+1;break e}}w=1e3}else w=1e3;w=Gs(this,q,w),b=vr(this.I),It(b,"RID",f),It(b,"CVER",22),this.D&&It(b,"X-HTTP-Session-Id",this.D),ds(this,b),ie&&(this.O?w="headers="+encodeURIComponent(String(cs(ie)))+"&"+w:this.m&&Hs(b,this.m,ie)),yu(this.h,q),this.Ua&&It(b,"TYPE","init"),this.P?(It(b,"$req",w),It(b,"SID","null"),q.T=!0,wn(q,b,null)):wn(q,b,w),this.G=2}}else this.G==3&&(f?el(this,f):this.i.length==0||Nn(this.h)||el(this))};function el(f,w){var b;w?b=w.l:b=f.U++;const N=vr(f.I);It(N,"SID",f.K),It(N,"RID",b),It(N,"AID",f.T),ds(f,N),f.m&&f.o&&Hs(N,f.m,f.o),b=new gt(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),w&&(f.i=w.D.concat(f.i)),w=Gs(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),yu(f.h,b),wn(b,N,w)}function ds(f,w){f.H&&Y(f.H,function(b,N){It(w,N,b)}),f.l&&js({},function(b,N){It(w,N,b)})}function Gs(f,w,b){b=Math.min(f.i.length,b);var N=f.l?x(f.l.Na,f.l,f):null;e:{var q=f.i;let ie=-1;for(;;){const ge=["count="+b];ie==-1?0<b?(ie=q[0].g,ge.push("ofs="+ie)):ie=0:ge.push("ofs="+ie);let Et=!0;for(let rn=0;rn<b;rn++){let ct=q[rn].g;const cn=q[rn].map;if(ct-=ie,0>ct)ie=Math.max(0,q[rn].g-100),Et=!1;else try{xd(cn,ge,"req"+ct+"_")}catch{N&&N(cn)}}if(Et){N=ge.join("&");break e}}}return f=f.i.splice(0,b),w.D=f,N}function Jo(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;be||le(),se||(be(),se=!0),X.add(w,f),f.v=0}}function tl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=_e(x(f.Fa,f),Id(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,bd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=_e(x(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),ci(this),bd(this))};function Tu(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function bd(f){f.g=new gt(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=vr(f.qa);It(w,"RID","rpc"),It(w,"SID",f.K),It(w,"AID",f.T),It(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&It(w,"TO",f.ja),It(w,"TYPE","xmlhttp"),ds(f,w),f.m&&f.o&&Hs(w,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=Bs(vr(w)),b.m=null,b.P=!0,os(b,f)}n.Za=function(){this.C!=null&&(this.C=null,ci(this),tl(this),oe(19))};function nl(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function rl(f,w){var b=null;if(f.g==w){nl(f),Tu(f),f.g=null;var N=2}else if(zn(f.h,w))b=w.D,md(f.h,w),N=1;else return;if(f.G!=0){if(w.o)if(N==1){b=w.m?w.m.length:0,w=Date.now()-w.F;var q=f.B;N=tt(),wt(N,new ve(N,b)),Mi(f)}else Jo(f);else if(q=w.s,q==3||q==0&&0<w.X||!(N==1&&jp(f,w)||N==2&&tl(f)))switch(b&&0<b.length&&(w=f.h,w.i=w.i.concat(b)),q){case 1:fs(f,5);break;case 4:fs(f,10);break;case 3:fs(f,6);break;default:fs(f,2)}}}function Id(f,w){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*w}function fs(f,w){if(f.j.info("Error code "+w),w==2){var b=x(f.fb,f),N=f.Xa;const q=!N;N=new ls(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||qo(N,"https"),Bs(N),q?Mp(N.toString(),b):Ed(N.toString(),b)}else oe(2);f.G=0,f.l&&f.l.sa(w),Sd(f),Za(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Sd(f){if(f.G=0,f.ka=[],f.l){const w=gd(f.h);(w.length!=0||f.i.length!=0)&&(R(f.ka,w),R(f.ka,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.ra()}}function Rd(f,w,b){var N=b instanceof ls?vr(b):new ls(b);if(N.g!="")w&&(N.g=w+"."+N.g),Fs(N,N.s);else{var q=u.location;N=q.protocol,w=w?w+"."+q.hostname:q.hostname,q=+q.port;var ie=new ls(null);N&&qo(ie,N),w&&(ie.g=w),q&&Fs(ie,q),b&&(ie.l=b),N=ie}return b=f.D,w=f.ya,b&&w&&It(N,b,w),It(N,"VER",f.la),ds(f,N),N}function Cd(f,w,b){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new Ot(new us({eb:b})):new Ot(f.pa),w.Ha(f.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}n=bu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function il(){}il.prototype.g=function(f,w){return new $n(f,w)};function $n(f,w){Je.call(this),this.g=new xu(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!V(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!V(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Li(this)}S($n,Je),$n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){Tn(this.g)},$n.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=ei(f),f=b);w.i.push(new At(w.Ya++,f)),w.G==3&&Mi(w)},$n.prototype.N=function(){this.g.l=null,delete this.j,Tn(this.g),delete this.g,$n.aa.N.call(this)};function Ad(f){vn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const b in w){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}S(Ad,vn);function Pd(){Xt.call(this),this.status=1}S(Pd,Xt);function Li(f){this.g=f}S(Li,bu),Li.prototype.ua=function(){wt(this.g,"a")},Li.prototype.ta=function(f){wt(this.g,new Ad(f))},Li.prototype.sa=function(f){wt(this.g,new Pd)},Li.prototype.ra=function(){wt(this.g,"b")},il.prototype.createWebChannel=il.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,Mb=function(){return new il},Ob=function(){return tt()},Db=_n,ny={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mt.NO_ERROR=0,mt.TIMEOUT=8,mt.HTTP_ERROR=6,Qf=mt,Ht.COMPLETE="complete",Nb=Ht,Mr.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",Je.prototype.listen=Je.prototype.K,cc=Mr,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,kb=Ot}).apply(typeof Df<"u"?Df:typeof self<"u"?self:typeof window<"u"?window:{});const B0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new iv("@firebase/firestore");function Ml(){return Ra.logLevel}function he(n,...e){if(Ra.logLevel<=it.DEBUG){const t=e.map(av);Ra.debug(`Firestore (${lu}): ${n}`,...t)}}function Wn(n,...e){if(Ra.logLevel<=it.ERROR){const t=e.map(av);Ra.error(`Firestore (${lu}): ${n}`,...t)}}function Ca(n,...e){if(Ra.logLevel<=it.WARN){const t=e.map(av);Ra.warn(`Firestore (${lu}): ${n}`,...t)}}function av(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n="Unexpected state"){const e=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: `+n;throw Wn(e),new Error(e)}function je(n,e){n||Oe()}function qe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends es{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Sn.UNAUTHENTICATED))}shutdown(){}}class kV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class NV{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ki,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ki)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new Lb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Sn(e)}}class DV{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class OV{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new DV(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){je(this.o===void 0);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(je(typeof t.token=="string"),this.R=t.token,new MV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=VV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function Qe(n,e){return n<e?-1:n>e?1:0}function ql(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function jb(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new zt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new zt(0,0))}static max(){return new Fe(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Oe(),r===void 0?r=e.length-t:r>e.length-t&&Oe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Bi.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Bi.isNumericId(e),i=Bi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Bi.extractNumericId(e).compare(Bi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bo.fromString(e.substring(4,e.length-2))}}class _t extends Bi{construct(e,t,r){return new _t(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new _t(t)}static emptyPath(){return new _t([])}}const jV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Bi{construct(e,t,r){return new Bt(e,t,r)}static isValidIdentifier(e){return jV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ye(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ye(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ye(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new ye(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(t)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(_t.fromString(e))}static fromName(e){return new we(_t.fromString(e).popFirst(5))}static empty(){return new we(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new _t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function ry(n){return n.fields.find(e=>e.kind===2)}function ha(n){return n.fields.filter(e=>e.kind!==2)}yh.UNKNOWN_ID=-1;class Yf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Rc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Rc(0,Ar.min())}}function FV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new zt(t+1,0):new zt(t,r));return new Ar(i,we.empty(),e)}function Fb(n){return new Ar(n.readTime,n.key,-1)}class Ar{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ar(Fe.min(),we.empty(),-1)}static max(){return new Ar(Fe.max(),we.empty(),-1)}}function lv(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==Ub)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,r)=>{t(e)})}static reject(e){return new Q((t,r)=>{r(e)})}static waitFor(e){return new Q((t,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},d=>r(d))}),l=!0,o===i&&t()})}static or(e){let t=Q.resolve(!1);for(const r of e)t=t.next(i=>i?Q.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new Q((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next(m=>{l[p]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new Q((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{static open(e,t,r,i){try{return new op(t,e.transaction(i,r))}catch(o){throw new yc(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Ki,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new yc(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=uv(r.target.error);this.V.reject(new yc(e,i))}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(he("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new BV(t)}}class Io{static delete(e){return he("SimpleDb","Removing database:",e),ma(window.indexedDB.deleteDatabase(e)).toPromise()}static p(){if(!bb())return!1;if(Io.S())return!0;const e=ln(),t=Io.D(e),r=0<t&&t<10,i=zb(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static S(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static C(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.F=r,Io.D(ln())===12.2&&Wn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async M(e){return this.db||(he("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const l=o.target.result;t(l)},i.onblocked=()=>{r(new yc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const l=o.target.error;l.name==="VersionError"?r(new ye(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ye(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new yc(e,l))},i.onupgradeneeded=o=>{he("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;this.F.O(l,i.transaction,o.oldVersion,this.version).next(()=>{he("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db}B(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.M(e);const u=op.open(this.db,e,o?"readonly":"readwrite",r),d=i(u).next(p=>(u.g(),p)).catch(p=>(u.abort(p),Q.reject(p))).toPromise();return d.catch(()=>{}),await u.m,d}catch(u){const d=u,p=d.name!=="FirebaseError"&&l<3;if(he("SimpleDb","Transaction failed with error:",d.message,"Retrying:",p),this.close(),!p)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function zb(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class UV{constructor(e){this.L=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.L=e}done(){this.k=!0}$(e){this.q=e}delete(){return ma(this.L.delete())}}class yc extends ye{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Uo(n){return n.name==="IndexedDbTransactionError"}class BV{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(he("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(he("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ma(r)}add(e){return he("SimpleDb","ADD",this.store.name,e,e),ma(this.store.add(e))}get(e){return ma(this.store.get(e)).next(t=>(t===void 0&&(t=null),he("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return he("SimpleDb","DELETE",this.store.name,e),ma(this.store.delete(e))}count(){return he("SimpleDb","COUNT",this.store.name),ma(this.store.count())}U(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new Q((l,u)=>{o.onerror=d=>{u(d.target.error)},o.onsuccess=d=>{l(d.target.result)}})}{const o=this.cursor(r),l=[];return this.W(o,(u,d)=>{l.push(d)}).next(()=>l)}}G(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Q((i,o)=>{r.onerror=l=>{o(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}j(e,t){he("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.W(i,(o,l,u)=>u.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Y(e){const t=this.cursor({});return new Q((r,i)=>{t.onerror=o=>{const l=uv(o.target.error);i(l)},t.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next(u=>{u?l.continue():r()}):r()}})}W(e,t){const r=[];return new Q((i,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new UV(u),p=t(u.primaryKey,u.value,d);if(p instanceof Q){const m=p.catch(v=>(d.done(),Q.reject(v)));r.push(m)}d.isDone?i():d.K===null?u.continue():u.continue(d.K)}}).next(()=>Q.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ma(n){return new Q((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=uv(r.target.error);t(i)}})}let z0=!1;function uv(n){const e=Io.D(ln());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return z0||(z0=!0,setTimeout(()=>{throw r},0)),r}}return n}class zV{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){he("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{he("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(t){Uo(t)?he("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):await Ua(t)}await this.X(6e4)})}}class $V{constructor(e,t){this.localStore=e,this.persistence=t}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))}te(e,t){const r=new Set;let i=t,o=!0;return Q.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return he("IndexBackfiller",`Processing collection: ${l}`),this.ne(e,l,i).next(u=>{i-=u,r.add(l)});o=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.re(i,o)).next(u=>(he("IndexBackfiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>l.size)}))}re(e,t){let r=e;return t.changes.forEach((i,o)=>{const l=Fb(o);lv(l,r)>0&&(r=l)}),new Ar(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Wr.oe=-1;function ap(n){return n==null}function Cc(n){return n===0&&1/n==-1/0}function HV(n){return typeof n=="number"&&Number.isInteger(n)&&!Cc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$0(e)),e=GV(n.get(t),e);return $0(e)}function GV(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function $0(n){return n+""}function $i(n){const e=n.length;if(je(e>=2),e===2)return je(n.charAt(0)===""&&n.charAt(1)===""),_t.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const l=n.indexOf("",o);switch((l<0||l>t)&&Oe(),n.charAt(l+1)){case"":const u=n.substring(o,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(o,l),i+="\0";break;case"":i+=n.substring(o,l+1);break;default:Oe()}o=l+2}return new _t(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(n,e){return[n,Fn(e)]}function $b(n,e,t){return[n,Fn(e),t]}const WV={},KV=["prefixPath","collectionGroup","readTime","documentId"],qV=["prefixPath","collectionGroup","documentId"],QV=["collectionGroup","readTime","prefixPath","documentId"],YV=["canonicalId","targetId"],JV=["targetId","path"],XV=["path","targetId"],ZV=["collectionId","parent"],ej=["indexId","uid"],tj=["uid","sequenceNumber"],nj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rj=["indexId","uid","orderedDocumentKey"],ij=["userId","collectionPath","documentId"],sj=["userId","collectionPath","largestBatchId"],oj=["userId","collectionGroup","largestBatchId"],Hb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],aj=[...Hb,"documentOverlays"],Gb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wb=Gb,cv=[...Wb,"indexConfiguration","indexState","indexEntries"],lj=cv,uj=[...cv,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends Bb{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function un(n,e){const t=qe(n);return Io.C(t._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ba(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Kb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new Vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Of(this.root,e,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Of(this.root,e,this.comparator,!0)}}class Of{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Rn.RED,this.left=i??Rn.EMPTY,this.right=o??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Rn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(e){return new W0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bt(this.comparator);return t.data=e,t}}class W0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pl(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Kr([])}unionWith(e){let t=new bt(Bt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Kr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qb("Invalid base64 string: "+o):o}}(e);return new nn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const cj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(n){if(je(!!n),typeof n=="string"){let e=0;const t=cj.exec(n);if(je(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(n.seconds),nanos:Lt(n.nanos)}}function Lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ks(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function lp(n){const e=n.mapValue.fields.__previous_value__;return dv(e)?lp(e):e}function Ac(n){const e=Ps(n.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,t,r,i,o,l,u,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=p}}class Aa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Aa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Aa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xf={nullValue:"NULL_VALUE"};function ko(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dv(n)?4:Qb(n)?9007199254740991:up(n)?10:11:Oe()}function Yi(n,e){if(n===e)return!0;const t=ko(n);if(t!==ko(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ac(n).isEqual(Ac(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Ps(i.timestampValue),u=Ps(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ks(i.bytesValue).isEqual(ks(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Lt(i.geoPointValue.latitude)===Lt(o.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Lt(i.integerValue)===Lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Lt(i.doubleValue),u=Lt(o.doubleValue);return l===u?Cc(l)===Cc(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return ql(n.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(G0(l)!==G0(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Yi(l[d],u[d])))return!1;return!0}(n,e);default:return Oe()}}function Pc(n,e){return(n.values||[]).find(t=>Yi(t,e))!==void 0}function No(n,e){if(n===e)return 0;const t=ko(n),r=ko(e);if(t!==r)return Qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=Lt(o.integerValue||o.doubleValue),d=Lt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return K0(n.timestampValue,e.timestampValue);case 4:return K0(Ac(n),Ac(e));case 5:return Qe(n.stringValue,e.stringValue);case 6:return function(o,l){const u=ks(o),d=ks(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),d=l.split("/");for(let p=0;p<u.length&&p<d.length;p++){const m=Qe(u[p],d[p]);if(m!==0)return m}return Qe(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=Qe(Lt(o.latitude),Lt(l.latitude));return u!==0?u:Qe(Lt(o.longitude),Lt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return q0(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,d,p,m;const v=o.fields||{},x=l.fields||{},_=(u=v.value)===null||u===void 0?void 0:u.arrayValue,S=(d=x.value)===null||d===void 0?void 0:d.arrayValue,I=Qe(((p=_==null?void 0:_.values)===null||p===void 0?void 0:p.length)||0,((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0);return I!==0?I:q0(_,S)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===wo.mapValue&&l===wo.mapValue)return 0;if(o===wo.mapValue)return 1;if(l===wo.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const x=Qe(d[v],m[v]);if(x!==0)return x;const _=No(u[d[v]],p[m[v]]);if(_!==0)return _}return Qe(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Oe()}}function K0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=Ps(n),r=Ps(e),i=Qe(t.seconds,r.seconds);return i!==0?i:Qe(t.nanos,r.nanos)}function q0(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=No(t[i],r[i]);if(o)return o}return Qe(t.length,r.length)}function Ql(n){return sy(n)}function sy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ps(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ks(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=sy(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${sy(t.fields[l])}`;return i+"}"}(n.mapValue):Oe()}function Zf(n){switch(ko(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lp(n);return e?16+Zf(e):16;case 5:return 2*n.stringValue.length;case 6:return ks(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Zf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ba(r.fields,(o,l)=>{i+=o.length+Zf(l)}),i}(n.mapValue);default:throw Oe()}}function kc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function oy(n){return!!n&&"integerValue"in n}function Nc(n){return!!n&&"arrayValue"in n}function Q0(n){return!!n&&"nullValue"in n}function Y0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eh(n){return!!n&&"mapValue"in n}function up(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function vc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ba(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Qb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const Yb={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function fj(n){return"nullValue"in n?Xf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?kc(Aa.empty(),we.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?up(n)?Yb:{mapValue:{}}:Oe()}function hj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?kc(Aa.empty(),we.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?Yb:"mapValue"in n?up(n)?{mapValue:{}}:wo:Oe()}function J0(n,e){const t=No(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function X0(n,e){const t=No(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(t)}setAll(e){let t=Bt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=vc(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];eh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ba(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ur(vc(this.value))}}function Jb(n){const e=[];return Ba(n.fields,(t,r)=>{const i=new Bt([t]);if(eh(r)){const o=Jb(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Wt(e,0,Fe.min(),Fe.min(),Fe.min(),ur.empty(),0)}static newFoundDocument(e,t,r,i){return new Wt(e,1,t,Fe.min(),r,i,0)}static newNoDocument(e,t){return new Wt(e,2,t,Fe.min(),Fe.min(),ur.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Fe.min(),Fe.min(),ur.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,t){this.position=e,this.inclusive=t}}function Z0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=we.comparator(we.fromName(l.referenceValue),t.key):r=No(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ex(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t="asc"){this.field=e,this.dir=t}}function pj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{}class ot extends Xb{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new mj(e,t,r):t==="array-contains"?new vj(e,r):t==="in"?new iI(e,r):t==="not-in"?new _j(e,r):t==="array-contains-any"?new wj(e,r):new ot(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gj(e,r):new yj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(No(t,this.value)):t!==null&&ko(this.value)===ko(t)&&this.matchesComparison(No(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tt extends Xb{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Tt(e,t)}matches(e){return Jl(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jl(n){return n.op==="and"}function ay(n){return n.op==="or"}function fv(n){return Zb(n)&&Jl(n)}function Zb(n){for(const e of n.filters)if(e instanceof Tt)return!1;return!0}function ly(n){if(n instanceof ot)return n.field.canonicalString()+n.op.toString()+Ql(n.value);if(fv(n))return n.filters.map(e=>ly(e)).join(",");{const e=n.filters.map(t=>ly(t)).join(",");return`${n.op}(${e})`}}function eI(n,e){return n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&Yi(r.value,i.value)}(n,e):n instanceof Tt?function(r,i){return i instanceof Tt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&eI(l,i.filters[u]),!0):!1}(n,e):void Oe()}function tI(n,e){const t=n.filters.concat(e);return Tt.create(t,n.op)}function nI(n){return n instanceof ot?function(t){return`${t.field.canonicalString()} ${t.op} ${Ql(t.value)}`}(n):n instanceof Tt?function(t){return t.op.toString()+" {"+t.getFilters().map(nI).join(" ,")+"}"}(n):"Filter"}class mj extends ot{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class gj extends ot{constructor(e,t){super(e,"in",t),this.keys=rI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yj extends ot{constructor(e,t){super(e,"not-in",t),this.keys=rI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>we.fromName(r.referenceValue))}class vj extends ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nc(t)&&Pc(t.arrayValue,this.value)}}class iI extends ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pc(this.value.arrayValue,t)}}class _j extends ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Pc(this.value.arrayValue,t)}}class wj extends ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Pc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.ue=null}}function uy(n,e=null,t=[],r=[],i=null,o=null,l=null){return new Ej(n,e,t,r,i,o,l)}function Pa(n){const e=qe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ly(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ap(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ql(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ql(r)).join(",")),e.ue=t}return e.ue}function Zc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ex(n.startAt,e.startAt)&&ex(n.endAt,e.endAt)}function vh(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function _h(n,e){return n.filters.filter(t=>t instanceof ot&&t.field.isEqual(e))}function tx(n,e,t){let r=Xf,i=!0;for(const o of _h(n,e)){let l=Xf,u=!0;switch(o.op){case"<":case"<=":l=fj(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,u=!1;break;case"!=":case"not-in":l=Xf}J0({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];J0({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function nx(n,e,t){let r=wo,i=!0;for(const o of _h(n,e)){let l=wo,u=!0;switch(o.op){case">=":case">":l=hj(o.value),u=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,u=!1;break;case"!=":case"not-in":l=wo}X0({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];X0({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xj(n,e,t,r,i,o,l,u){return new uu(n,e,t,r,i,o,l,u)}function cp(n){return new uu(n)}function rx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function sI(n){return n.collectionGroup!==null}function _c(n){const e=qe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new bt(Bt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Dc(o,r))}),t.has(Bt.keyField().canonicalString())||e.ce.push(new Dc(Bt.keyField(),r))}return e.ce}function qr(n){const e=qe(n);return e.le||(e.le=Tj(e,_c(n))),e.le}function Tj(n,e){if(n.limitType==="F")return uy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Dc(i.field,o)});const t=n.endAt?new Yl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yl(n.startAt.position,n.startAt.inclusive):null;return uy(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function cy(n,e){const t=n.filters.concat([e]);return new uu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wh(n,e,t){return new uu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dp(n,e){return Zc(qr(n),qr(e))&&n.limitType===e.limitType}function oI(n){return`${Pa(qr(n))}|lt:${n.limitType}`}function Ll(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>nI(i)).join(", ")}]`),ap(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ql(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ql(i)).join(",")),`Target(${r})`}(qr(n))}; limitType=${n.limitType})`}function ed(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):we.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of _c(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const p=Z0(l,u,d);return l.inclusive?p<=0:p<0}(r.startAt,_c(r),i)||r.endAt&&!function(l,u,d){const p=Z0(l,u,d);return l.inclusive?p>=0:p>0}(r.endAt,_c(r),i))}(n,e)}function bj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aI(n){return(e,t)=>{let r=!1;for(const i of _c(n)){const o=Ij(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Ij(n,e,t){const r=n.field.isKeyField()?we.comparator(e.key,t.key):function(o,l,u){const d=l.data.field(o),p=u.data.field(o);return d!==null&&p!==null?No(d,p):Oe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Kb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=new Vt(we.comparator);function Rr(){return Sj}const lI=new Vt(we.comparator);function dc(...n){let e=lI;for(const t of n)e=e.insert(t.key,t);return e}function uI(n){let e=lI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hi(){return wc()}function cI(){return wc()}function wc(){return new Ls(n=>n.toString(),(n,e)=>n.isEqual(e))}const Rj=new Vt(we.comparator),Cj=new bt(we.comparator);function et(...n){let e=Cj;for(const t of n)e=e.add(t);return e}const Aj=new bt(Qe);function Pj(){return Aj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function dI(n){return{integerValue:""+n}}function kj(n,e){return HV(e)?dI(e):hv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this._=void 0}}function Nj(n,e,t){return n instanceof Oc?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dv(o)&&(o=lp(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Xl?hI(n,e):n instanceof Zl?pI(n,e):function(i,o){const l=fI(i,o),u=ix(l)+ix(i.Pe);return oy(l)&&oy(i.Pe)?dI(u):hv(i.serializer,u)}(n,e)}function Dj(n,e,t){return n instanceof Xl?hI(n,e):n instanceof Zl?pI(n,e):t}function fI(n,e){return n instanceof Mc?function(r){return oy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Oc extends fp{}class Xl extends fp{constructor(e){super(),this.elements=e}}function hI(n,e){const t=mI(e);for(const r of n.elements)t.some(i=>Yi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Zl extends fp{constructor(e){super(),this.elements=e}}function pI(n,e){let t=mI(e);for(const r of n.elements)t=t.filter(i=>!Yi(i,r));return{arrayValue:{values:t}}}class Mc extends fp{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ix(n){return Lt(n.integerValue||n.doubleValue)}function mI(n){return Nc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,t){this.field=e,this.transform=t}}function Mj(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Xl&&i instanceof Xl||r instanceof Zl&&i instanceof Zl?ql(r.elements,i.elements,Yi):r instanceof Mc&&i instanceof Mc?Yi(r.Pe,i.Pe):r instanceof Oc&&i instanceof Oc}(n.transform,e.transform)}class Lj{constructor(e,t){this.version=e,this.transformResults=t}}class dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hp{}function gI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pp(n.key,dr.none()):new cu(n.key,n.data,dr.none());{const t=n.data,r=ur.empty();let i=new bt(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Bo(n.key,r,new Kr(i.toArray()),dr.none())}}function Vj(n,e,t){n instanceof cu?function(i,o,l){const u=i.value.clone(),d=ox(i.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Bo?function(i,o,l){if(!th(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=ox(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(yI(i)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Ec(n,e,t,r){return n instanceof cu?function(o,l,u,d){if(!th(o.precondition,l))return u;const p=o.value.clone(),m=ax(o.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Bo?function(o,l,u,d){if(!th(o.precondition,l))return u;const p=ax(o.fieldTransforms,d,l),m=l.data;return m.setAll(yI(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,l,u){return th(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function jj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=fI(r.transform,i||null);o!=null&&(t===null&&(t=ur.empty()),t.set(r.field,o))}return t||null}function sx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ql(r,i,(o,l)=>Mj(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class cu extends hp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bo extends hp{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ox(n,e,t){const r=new Map;je(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,Dj(l,u,t[i]))}return r}function ax(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,Nj(o,l,e))}return r}class pp extends hp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vI extends hp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Vj(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ec(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ec(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=cI();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const d=gI(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),et())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,(t,r)=>sx(t,r))&&ql(this.baseMutations,e.baseMutations,(t,r)=>sx(t,r))}}class mv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){je(e.mutations.length===r.length);let i=function(){return Rj}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new mv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,dt;function Uj(n){switch(n){default:return Oe();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function _I(n){if(n===void 0)return Wn("GRPC error has no .code"),ae.UNKNOWN;switch(n){case tn.OK:return ae.OK;case tn.CANCELLED:return ae.CANCELLED;case tn.UNKNOWN:return ae.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ae.INTERNAL;case tn.UNAVAILABLE:return ae.UNAVAILABLE;case tn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case tn.NOT_FOUND:return ae.NOT_FOUND;case tn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case tn.ABORTED:return ae.ABORTED;case tn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case tn.DATA_LOSS:return ae.DATA_LOSS;default:return Oe()}}(dt=tn||(tn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new bo([4294967295,4294967295],0);function lx(n){const e=Bj().encode(n),t=new Pb;return t.update(e),new Uint8Array(t.digest())}function ux(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bo([t,r],0),new bo([i,o],0)]}class yv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new fc(`Invalid padding: ${t}`);if(r<0)throw new fc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new fc(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=bo.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(bo.fromNumber(r)));return i.compare(zj)===1&&(i=new bo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=lx(e),[r,i]=ux(t);for(let o=0;o<this.hashCount;o++){const l=this.de(r,i,o);if(!this.Ee(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new yv(o,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Te===0)return;const t=lx(e),[r,i]=ux(t);for(let o=0;o<this.hashCount;o++){const l=this.de(r,i,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,td.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new mp(Fe.min(),i,new Vt(Qe),Rr(),et())}}class td{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new td(r,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class wI{constructor(e,t){this.targetId=e,this.me=t}}class EI{constructor(e,t,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class cx{constructor(){this.fe=0,this.ge=dx(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=et(),t=et(),r=et();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Oe()}}),new td(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=dx()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $j{constructor(e){this.Be=e,this.Le=new Map,this.ke=Rr(),this.qe=Mf(),this.Qe=Mf(),this.Ke=new Vt(Qe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Oe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){const o=i.target;if(vh(o))if(r===0){const l=new we(o.path);this.We(t,l,Wt.newNoDocument(l,Fe.min()))}else je(r===1);else{const l=this.Ze(t);if(l!==r){const u=this.Xe(e),d=u?this.et(u,e,l):1;if(d!==0){this.He(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=ks(r).toUint8Array()}catch(d){if(d instanceof qb)return Ca("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new yv(l,i,o)}catch(d){return Ca(d instanceof fc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Te===0?null:u}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.Be.nt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.We(t,o,null),i++)}),i}it(e){const t=new Map;this.Le.forEach((o,l)=>{const u=this.Ye(l);if(u){if(o.current&&vh(u.target)){const d=new we(u.target.path);this.st(d).has(l)||this.ot(l,d)||this.We(l,d,Wt.newNoDocument(d,e))}o.be&&(t.set(l,o.ve()),o.Ce())}});let r=et();this.Qe.forEach((o,l)=>{let u=!0;l.forEachWhile(d=>{const p=this.Ye(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const i=new mp(e,t,this.Ke,this.ke,r);return this.ke=Rr(),this.qe=Mf(),this.Qe=Mf(),this.Ke=new Vt(Qe),i}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new cx,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new bt(Qe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bt(Qe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new cx),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Mf(){return new Vt(we.comparator)}function dx(){return new Vt(we.comparator)}const Hj={asc:"ASCENDING",desc:"DESCENDING"},Gj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wj={and:"AND",or:"OR"};class Kj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dy(n,e){return n.useProto3Json||ap(e)?e:{value:e}}function eu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qj(n,e){return eu(n,e.toTimestamp())}function Kn(n){return je(!!n),Fe.fromTimestamp(function(t){const r=Ps(t);return new zt(r.seconds,r.nanos)}(n))}function vv(n,e){return fy(n,e).canonicalString()}function fy(n,e){const t=function(i){return new _t(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function TI(n){const e=_t.fromString(n);return je(NI(e)),e}function Eh(n,e){return vv(n.databaseId,e.path)}function Ta(n,e){const t=TI(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(SI(t))}function bI(n,e){return vv(n.databaseId,e)}function II(n){const e=TI(n);return e.length===4?_t.emptyPath():SI(e)}function hy(n){return new _t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SI(n){return je(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function fx(n,e,t){return{name:Eh(n,e),fields:t.value.mapValue.fields}}function Qj(n,e,t){const r=Ta(n,e.name),i=Kn(e.updateTime),o=e.createTime?Kn(e.createTime):Fe.min(),l=new ur({mapValue:{fields:e.fields}}),u=Wt.newFoundDocument(r,i,o,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Yj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(je(m===void 0||typeof m=="string"),nn.fromBase64String(m||"")):(je(m===void 0||m instanceof Buffer||m instanceof Uint8Array),nn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(p){const m=p.code===void 0?ae.UNKNOWN:_I(p.code);return new ye(m,p.message||"")}(l);t=new EI(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ta(n,r.document.name),o=Kn(r.document.updateTime),l=r.document.createTime?Kn(r.document.createTime):Fe.min(),u=new ur({mapValue:{fields:r.document.fields}}),d=Wt.newFoundDocument(i,o,l,u),p=r.targetIds||[],m=r.removedTargetIds||[];t=new nh(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ta(n,r.document),o=r.readTime?Kn(r.readTime):Fe.min(),l=Wt.newNoDocument(i,o),u=r.removedTargetIds||[];t=new nh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ta(n,r.document),o=r.removedTargetIds||[];t=new nh([],o,i,null)}else{if(!("filter"in e))return Oe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new Fj(i,o),u=r.targetId;t=new wI(u,l)}}return t}function xh(n,e){let t;if(e instanceof cu)t={update:fx(n,e.key,e.value)};else if(e instanceof pp)t={delete:Eh(n,e.key)};else if(e instanceof Bo)t={update:fx(n,e.key,e.data),updateMask:n4(e.fieldMask)};else{if(!(e instanceof vI))return Oe();t={verify:Eh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof Oc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Xl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Zl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Mc)return{fieldPath:l.field.canonicalString(),increment:u.Pe};throw Oe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:qj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Oe()}(n,e.precondition)),t}function py(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?dr.updateTime(Kn(o.updateTime)):o.exists!==void 0?dr.exists(o.exists):dr.none()}(e.currentDocument):dr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let d=null;if("setToServerValue"in u)je(u.setToServerValue==="REQUEST_TIME"),d=new Oc;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new Xl(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new Zl(m)}else"increment"in u?d=new Mc(l,u.increment):Oe();const p=Bt.fromServerFormat(u.fieldPath);return new Oj(p,d)}(n,i)):[];if(e.update){e.update.name;const i=Ta(n,e.update.name),o=new ur({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const p=d.fieldPaths||[];return new Kr(p.map(m=>Bt.fromServerFormat(m)))}(e.updateMask);return new Bo(i,o,l,t,r)}return new cu(i,o,t,r)}if(e.delete){const i=Ta(n,e.delete);return new pp(i,t)}if(e.verify){const i=Ta(n,e.verify);return new vI(i,t)}return Oe()}function Jj(n,e){return n&&n.length>0?(je(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?Kn(i.updateTime):Kn(o);return l.isEqual(Fe.min())&&(l=Kn(o)),new Lj(l,i.transformResults||[])}(t,e))):[]}function RI(n,e){return{documents:[bI(n,e.path)]}}function CI(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=bI(n,i);const o=function(p){if(p.length!==0)return kI(Tt.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(m=>function(x){return{field:Vl(x.field),direction:Zj(x.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=dy(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:i}}function AI(n){let e=II(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){je(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(v){const x=PI(v);return x instanceof Tt&&fv(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(x=>function(S){return new Dc(jl(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(x))}(t.orderBy));let u=null;t.limit&&(u=function(v){let x;return x=typeof v=="object"?v.value:v,ap(x)?null:x}(t.limit));let d=null;t.startAt&&(d=function(v){const x=!!v.before,_=v.values||[];return new Yl(_,x)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const x=!v.before,_=v.values||[];return new Yl(_,x)}(t.endAt)),xj(e,i,l,o,u,"F",d,p)}function Xj(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function PI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=jl(t.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=jl(t.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=jl(t.unaryFilter.field);return ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=jl(t.unaryFilter.field);return ot.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(n):n.fieldFilter!==void 0?function(t){return ot.create(jl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Tt.create(t.compositeFilter.filters.map(r=>PI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe()}}(t.compositeFilter.op))}(n):Oe()}function Zj(n){return Hj[n]}function e4(n){return Gj[n]}function t4(n){return Wj[n]}function Vl(n){return{fieldPath:n.canonicalString()}}function jl(n){return Bt.fromServerFormat(n.fieldPath)}function kI(n){return n instanceof ot?function(t){if(t.op==="=="){if(Y0(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NAN"}};if(Q0(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Y0(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NOT_NAN"}};if(Q0(t.value))return{unaryFilter:{field:Vl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(t.field),op:e4(t.op),value:t.value}}}(n):n instanceof Tt?function(t){const r=t.getFilters().map(i=>kI(i));return r.length===1?r[0]:{compositeFilter:{op:t4(t.op),filters:r}}}(n):Oe()}function n4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function NI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,r,i,o=Fe.min(),l=Fe.min(),u=nn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.ht=e}}function r4(n,e){let t;if(e.document)t=Qj(n.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=we.fromSegments(e.noDocument.path),i=Na(e.noDocument.readTime);t=Wt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Oe();{const r=we.fromSegments(e.unknownDocument.path),i=Na(e.unknownDocument.version);t=Wt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new zt(i[0],i[1]);return Fe.fromTimestamp(o)}(e.readTime)),t}function hx(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Th(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,l){return{name:Eh(o,l.key),fields:l.data.value.mapValue.fields,updateTime:eu(o,l.version.toTimestamp()),createTime:eu(o,l.createTime.toTimestamp())}}(n.ht,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ka(e.version)};else{if(!e.isUnknownDocument())return Oe();r.unknownDocument={path:t.path.toArray(),version:ka(e.version)}}return r}function Th(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ka(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Na(n){const e=new zt(n.seconds,n.nanoseconds);return Fe.fromTimestamp(e)}function ga(n,e){const t=(e.baseMutations||[]).map(o=>py(n.ht,o));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const u=e.mutations[o+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>py(n.ht,o)),i=zt.fromMillis(e.localWriteTimeMs);return new pv(e.batchId,i,t,r)}function hc(n){const e=Na(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Na(n.lastLimboFreeSnapshotVersion):Fe.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return je(o.documents.length===1),qr(cp(II(o.documents[0])))}(n.query):function(o){return qr(AI(o))}(n.query),new bs(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,nn.fromBase64String(n.resumeToken))}function OI(n,e){const t=ka(e.snapshotVersion),r=ka(e.lastLimboFreeSnapshotVersion);let i;i=vh(e.target)?RI(n.ht,e.target):CI(n.ht,e.target).ct;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pa(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function MI(n){const e=AI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wh(e,e.limit,"L"):e}function Ag(n,e){return new gv(e.largestBatchId,py(n.ht,e.overlayMutation))}function px(n,e){const t=e.path.lastSegment();return[n,Fn(e.path.popLast()),t]}function mx(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:ka(r.readTime),documentKey:Fn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{getBundleMetadata(e,t){return gx(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Na(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return gx(e).put(function(i){return{bundleId:i.id,createTime:ka(Kn(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return yx(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:MI(o.bundledQuery),readTime:Na(o.readTime)}}(r)})}saveNamedQuery(e,t){return yx(e).put(function(i){return{name:i.name,readTime:ka(Kn(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function gx(n){return un(n,"bundles")}function yx(n){return un(n,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t){this.serializer=e,this.userId=t}static Pt(e,t){const r=t.uid||"";return new gp(e,r)}getOverlay(e,t){return tc(e).get(px(this.userId,t)).next(r=>r?Ag(this.serializer,r):null)}getOverlays(e,t){const r=Hi();return Q.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,l)=>{const u=new gv(t,l);i.push(this.Tt(e,u))}),Q.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Fn(l.getCollectionPath())));const o=[];return i.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);o.push(tc(e).j("collectionPathOverlayIndex",u))}),Q.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Hi(),o=Fn(t),l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return tc(e).U("collectionPathOverlayIndex",l).next(u=>{for(const d of u){const p=Ag(this.serializer,d);i.set(p.getKey(),p)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Hi();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return tc(e).J({index:"collectionGroupOverlayIndex",range:u},(d,p,m)=>{const v=Ag(this.serializer,p);o.size()<i||v.largestBatchId===l?(o.set(v.getKey(),v),l=v.largestBatchId):m.done()}).next(()=>o)}Tt(e,t){return tc(e).put(function(i,o,l){const[u,d,p]=px(o,l.mutation.key);return{userId:o,collectionPath:d,documentId:p,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:xh(i.ht,l.mutation)}}(this.serializer,this.userId,t))}}function tc(n){return un(n,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{It(e){return un(e,"globals")}getSessionToken(e){return this.It(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?nn.fromUint8Array(r):nn.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.It(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){}dt(e,t){this.Et(e,t),t.At()}Et(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(Lt(e.integerValue));else if("doubleValue"in e){const r=Lt(e.doubleValue);isNaN(r)?this.Rt(t,13):(this.Rt(t,15),Cc(r)?t.Vt(0):t.Vt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Rt(t,20),typeof r=="string"&&(r=Ps(r)),t.ft(`${r.seconds||""}`),t.Vt(r.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(ks(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Rt(t,45),t.Vt(r.latitude||0),t.Vt(r.longitude||0)}else"mapValue"in e?Qb(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):up(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):Oe()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const r=e.fields||{};this.Rt(t,55);for(const i of Object.keys(r))this.gt(i,t),this.Et(r[i],t)}bt(e,t){var r,i;const o=e.fields||{};this.Rt(t,53);const l="value",u=((i=(r=o[l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Rt(t,15),t.Vt(Lt(u)),this.gt(l,t),this.Et(o[l],t)}vt(e,t){const r=e.values||[];this.Rt(t,50);for(const i of r)this.Et(i,t)}St(e,t){this.Rt(t,37),we.fromName(e).path.forEach(r=>{this.Rt(t,60),this.Ct(r,t)})}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}ya.Ft=new ya;function o4(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function vx(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const l=o4(255&r[o]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class a4{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Mt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xt(r.value),r=t.next();this.Ot()}Nt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Bt(r.value),r=t.next();this.Lt()}kt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xt(r);else if(r<2048)this.xt(960|r>>>6),this.xt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.xt(480|r>>>12),this.xt(128|63&r>>>6),this.xt(128|63&r);else{const i=t.codePointAt(0);this.xt(240|i>>>18),this.xt(128|63&i>>>12),this.xt(128|63&i>>>6),this.xt(128|63&i)}}this.Ot()}qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Bt(r);else if(r<2048)this.Bt(960|r>>>6),this.Bt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Bt(480|r>>>12),this.Bt(128|63&r>>>6),this.Bt(128|63&r);else{const i=t.codePointAt(0);this.Bt(240|i>>>18),this.Bt(128|63&i>>>12),this.Bt(128|63&i>>>6),this.Bt(128|63&i)}}this.Lt()}Qt(e){const t=this.Kt(e),r=vx(t);this.$t(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ut(e){const t=this.Kt(e),r=vx(t);this.$t(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Wt(){this.Gt(255),this.Gt(255)}zt(){this.jt(255),this.jt(255)}reset(){this.position=0}seed(e){this.$t(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ht(){return this.buffer.slice(0,this.position)}Kt(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}xt(e){const t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(t)}Bt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===255?(this.jt(255),this.jt(0)):this.jt(e)}Ot(){this.Gt(0),this.Gt(1)}Lt(){this.jt(0),this.jt(1)}Gt(e){this.$t(1),this.buffer[this.position++]=e}jt(e){this.$t(1),this.buffer[this.position++]=~e}$t(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class l4{constructor(e){this.Jt=e}wt(e){this.Jt.Mt(e)}ft(e){this.Jt.kt(e)}Vt(e){this.Jt.Qt(e)}At(){this.Jt.Wt()}}class u4{constructor(e){this.Jt=e}wt(e){this.Jt.Nt(e)}ft(e){this.Jt.qt(e)}Vt(e){this.Jt.Ut(e)}At(){this.Jt.zt()}}class nc{constructor(){this.Jt=new a4,this.Yt=new l4(this.Jt),this.Zt=new u4(this.Jt)}seed(e){this.Jt.seed(e)}Xt(e){return e===0?this.Yt:this.Zt}Ht(){return this.Jt.Ht()}reset(){this.Jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}en(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new va(this.indexId,this.documentKey,this.arrayValue,r)}}function lo(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=_x(n.arrayValue,e.arrayValue),t!==0?t:(t=_x(n.directionalValue,e.directionalValue),t!==0?t:we.comparator(n.documentKey,e.documentKey)))}function _x(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.tn=new bt((t,r)=>Bt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.nn=e.orderBy,this.rn=[];for(const t of e.filters){const r=t;r.isInequality()?this.tn=this.tn.add(r):this.rn.push(r)}}get sn(){return this.tn.size>1}on(e){if(je(e.collectionGroup===this.collectionId),this.sn)return!1;const t=ry(e);if(t!==void 0&&!this._n(t))return!1;const r=ha(e);let i=new Set,o=0,l=0;for(;o<r.length&&this._n(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.tn.size>0){const u=this.tn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[o];if(!this.an(u,d)||!this.un(this.nn[l++],d))return!1}++o}for(;o<r.length;++o){const u=r[o];if(l>=this.nn.length||!this.un(this.nn[l++],u))return!1}return!0}cn(){if(this.sn)return null;let e=new bt(Bt.comparator);const t=[];for(const r of this.rn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Yf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Yf(r.field,0))}for(const r of this.nn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Yf(r.field,r.dir==="asc"?0:1)));return new yh(yh.UNKNOWN_ID,this.collectionId,t,Rc.empty())}_n(e){for(const t of this.rn)if(this.an(t,e))return!0;return!1}an(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}un(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n){var e,t;if(je(n instanceof ot||n instanceof Tt),n instanceof ot){if(n instanceof iI){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>ot.create(n.field,"==",o)))||[];return Tt.create(i,"or")}return n}const r=n.filters.map(i=>LI(i));return Tt.create(r,n.op)}function c4(n){if(n.getFilters().length===0)return[];const e=yy(LI(n));return je(VI(e)),my(e)||gy(e)?[e]:e.getFilters()}function my(n){return n instanceof ot}function gy(n){return n instanceof Tt&&fv(n)}function VI(n){return my(n)||gy(n)||function(t){if(t instanceof Tt&&ay(t)){for(const r of t.getFilters())if(!my(r)&&!gy(r))return!1;return!0}return!1}(n)}function yy(n){if(je(n instanceof ot||n instanceof Tt),n instanceof ot)return n;if(n.filters.length===1)return yy(n.filters[0]);const e=n.filters.map(r=>yy(r));let t=Tt.create(e,n.op);return t=bh(t),VI(t)?t:(je(t instanceof Tt),je(Jl(t)),je(t.filters.length>1),t.filters.reduce((r,i)=>_v(r,i)))}function _v(n,e){let t;return je(n instanceof ot||n instanceof Tt),je(e instanceof ot||e instanceof Tt),t=n instanceof ot?e instanceof ot?function(i,o){return Tt.create([i,o],"and")}(n,e):Ex(n,e):e instanceof ot?Ex(e,n):function(i,o){if(je(i.filters.length>0&&o.filters.length>0),Jl(i)&&Jl(o))return tI(i,o.getFilters());const l=ay(i)?i:o,u=ay(i)?o:i,d=l.filters.map(p=>_v(p,u));return Tt.create(d,"or")}(n,e),bh(t)}function Ex(n,e){if(Jl(e))return tI(e,n.getFilters());{const t=e.filters.map(r=>_v(n,r));return Tt.create(t,"or")}}function bh(n){if(je(n instanceof ot||n instanceof Tt),n instanceof ot)return n;const e=n.getFilters();if(e.length===1)return bh(e[0]);if(Zb(n))return n;const t=e.map(i=>bh(i)),r=[];return t.forEach(i=>{i instanceof ot?r.push(i):i instanceof Tt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Tt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.ln=new wv}addToCollectionParentIndex(e,t){return this.ln.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Ar.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class wv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bt(_t.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new Uint8Array(0);class f4{constructor(e,t){this.databaseId=t,this.hn=new wv,this.Pn=new Ls(r=>Pa(r),(r,i)=>Zc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.hn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.hn.add(t)});const o={collectionId:r,parent:Fn(i)};return xx(e).put(o)}return Q.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[jb(t),""],!1,!0);return xx(e).U(i).next(o=>{for(const l of o){if(l.collectionId!==t)break;r.push($i(l.parent))}return r})}addFieldIndex(e,t){const r=rc(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const l=Nl(e);return o.next(u=>{l.put(mx(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=rc(e),i=Nl(e),o=kl(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=rc(e),r=kl(e),i=Nl(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return Q.forEach(this.Tn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new wx(r).cn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=kl(e);let i=!0;const o=new Map;return Q.forEach(this.Tn(t),l=>this.In(e,l).next(u=>{i&&(i=!!u),o.set(l,u)})).next(()=>{if(i){let l=et();const u=[];return Q.forEach(o,(d,p)=>{he("IndexedDbIndexManager",`Using index ${function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map(G=>`${G.fieldPath}:${G.kind}`).join(",")}`}(d)} to execute ${Pa(t)}`);const m=function(U,G){const O=ry(G);if(O===void 0)return null;for(const Y of _h(U,O.fieldPath))switch(Y.op){case"array-contains-any":return Y.value.arrayValue.values||[];case"array-contains":return[Y.value]}return null}(p,d),v=function(U,G){const O=new Map;for(const Y of ha(G))for(const D of _h(U,Y.fieldPath))switch(D.op){case"==":case"in":O.set(Y.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return O.set(Y.fieldPath.canonicalString(),D.value),Array.from(O.values())}return null}(p,d),x=function(U,G){const O=[];let Y=!0;for(const D of ha(G)){const C=D.kind===0?tx(U,D.fieldPath,U.startAt):nx(U,D.fieldPath,U.startAt);O.push(C.value),Y&&(Y=C.inclusive)}return new Yl(O,Y)}(p,d),_=function(U,G){const O=[];let Y=!0;for(const D of ha(G)){const C=D.kind===0?nx(U,D.fieldPath,U.endAt):tx(U,D.fieldPath,U.endAt);O.push(C.value),Y&&(Y=C.inclusive)}return new Yl(O,Y)}(p,d),S=this.dn(d,p,x),I=this.dn(d,p,_),R=this.En(d,p,v),P=this.An(d.indexId,m,S,x.inclusive,I,_.inclusive,R);return Q.forEach(P,V=>r.G(V,t.limit).next(U=>{U.forEach(G=>{const O=we.fromSegments(G.documentKey);l.has(O)||(l=l.add(O),u.push(O))})}))}).next(()=>u)}return Q.resolve(null)})}Tn(e){let t=this.Pn.get(e);return t||(e.filters.length===0?t=[e]:t=c4(Tt.create(e.filters,"and")).map(r=>uy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Pn.set(e,t),t)}An(e,t,r,i,o,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),p=d/(t!=null?t.length:1),m=[];for(let v=0;v<d;++v){const x=t?this.Rn(t[v/p]):Lf,_=this.Vn(e,x,r[v%p],i),S=this.mn(e,x,o[v%p],l),I=u.map(R=>this.Vn(e,x,R,!0));m.push(...this.createRange(_,S,I))}return m}Vn(e,t,r,i){const o=new va(e,we.empty(),t,r);return i?o:o.en()}mn(e,t,r,i){const o=new va(e,we.empty(),t,r);return i?o.en():o}In(e,t){const r=new wx(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let l=null;for(const u of o)r.on(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(e,t){let r=2;const i=this.Tn(t);return Q.forEach(i,o=>this.In(e,o).next(l=>{l?r!==0&&l.fields.length<function(d){let p=new bt(Bt.comparator),m=!1;for(const v of d.filters)for(const x of v.getFlattenedFilters())x.field.isKeyField()||(x.op==="array-contains"||x.op==="array-contains-any"?m=!0:p=p.add(x.field));for(const v of d.orderBy)v.field.isKeyField()||(p=p.add(v.field));return p.size+(m?1:0)}(o)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}fn(e,t){const r=new nc;for(const i of ha(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const l=r.Xt(i.kind);ya.Ft.dt(o,l)}return r.Ht()}Rn(e){const t=new nc;return ya.Ft.dt(e,t.Xt(0)),t.Ht()}gn(e,t){const r=new nc;return ya.Ft.dt(kc(this.databaseId,t),r.Xt(function(o){const l=ha(o);return l.length===0?0:l[l.length-1].kind}(e))),r.Ht()}En(e,t,r){if(r===null)return[];let i=[];i.push(new nc);let o=0;for(const l of ha(e)){const u=r[o++];for(const d of i)if(this.pn(t,l.fieldPath)&&Nc(u))i=this.yn(i,l,u);else{const p=d.Xt(l.kind);ya.Ft.dt(u,p)}}return this.wn(i)}dn(e,t,r){return this.En(e,t,r.position)}wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ht();return t}yn(e,t,r){const i=[...e],o=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new nc;d.seed(u.Ht()),ya.Ft.dt(l,d.Xt(t.kind)),o.push(d)}return o}pn(e,t){return!!e.filters.find(r=>r instanceof ot&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=rc(e),i=Nl(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(o=>{const l=[];return Q.forEach(o,u=>i.get([u.indexId,this.uid]).next(d=>{l.push(function(m,v){const x=v?new Rc(v.sequenceNumber,new Ar(Na(v.readTime),new we($i(v.documentKey)),v.largestBatchId)):Rc.empty(),_=m.fields.map(([S,I])=>new Yf(Bt.fromServerFormat(S),I));return new yh(m.indexId,m.collectionGroup,_,x)}(u,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Qe(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=rc(e),o=Nl(e);return this.Sn(e).next(l=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(u=>Q.forEach(u,d=>o.put(mx(d.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return Q.forEach(t,(i,o)=>{const l=r.get(i.collectionGroup);return(l?Q.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),Q.forEach(u,d=>this.bn(e,i,d).next(p=>{const m=this.Dn(o,d);return p.isEqual(m)?Q.resolve():this.vn(e,o,d,p,m)}))))})}Cn(e,t,r,i){return kl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Fn(e,t,r,i){return kl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}bn(e,t,r){const i=kl(e);let o=new bt(lo);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,u)=>{o=o.add(new va(r.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>o)}Dn(e,t){let r=new bt(lo);const i=this.fn(t,e);if(i==null)return r;const o=ry(t);if(o!=null){const l=e.data.field(o.fieldPath);if(Nc(l))for(const u of l.arrayValue.values||[])r=r.add(new va(t.indexId,e.key,this.Rn(u),i))}else r=r.add(new va(t.indexId,e.key,Lf,i));return r}vn(e,t,r,i,o){he("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,p,m,v,x){const _=d.getIterator(),S=p.getIterator();let I=Pl(_),R=Pl(S);for(;I||R;){let P=!1,V=!1;if(I&&R){const U=m(I,R);U<0?V=!0:U>0&&(P=!0)}else I!=null?V=!0:P=!0;P?(v(R),R=Pl(S)):V?(x(I),I=Pl(_)):(I=Pl(_),R=Pl(S))}}(i,o,lo,u=>{l.push(this.Cn(e,t,r,u))},u=>{l.push(this.Fn(e,t,r,u))}),Q.waitFor(l)}Sn(e){let t=1;return Nl(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,u)=>lo(l,u)).filter((l,u,d)=>!u||lo(l,d[u-1])!==0);const i=[];i.push(e);for(const l of r){const u=lo(l,e),d=lo(l,t);if(u===0)i[0]=e.en();else if(u>0&&d<0)i.push(l),i.push(l.en());else if(d>0)break}i.push(t);const o=[];for(let l=0;l<i.length;l+=2){if(this.Mn(i[l],i[l+1]))return[];const u=[i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Lf,[]],d=[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Lf,[]];o.push(IDBKeyRange.bound(u,d))}return o}Mn(e,t){return lo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Tx)}getMinOffset(e,t){return Q.mapArray(this.Tn(t),r=>this.In(e,r).next(i=>i||Oe())).next(Tx)}}function xx(n){return un(n,"collectionParents")}function kl(n){return un(n,"indexEntries")}function rc(n){return un(n,"indexConfiguration")}function Nl(n){return un(n,"indexState")}function Tx(n){je(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;lv(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ar(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.J({range:l},(m,v,x)=>(u++,x.delete()));o.push(d.next(()=>{je(u===1)}));const p=[];for(const m of t.mutations){const v=$b(e,m.key.path,t.batchId);o.push(i.delete(v)),p.push(m.key)}return Q.waitFor(o).next(()=>p)}function Ih(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Oe();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(41943040,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class yp{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.xn={}}static Pt(e,t,r,i){je(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new yp(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uo(e).J({index:"userMutationsIndex",range:r},(i,o,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Fl(e),l=uo(e);return l.add({}).next(u=>{je(typeof u=="number");const d=new pv(u,t,r,i),p=function(_,S,I){const R=I.baseMutations.map(V=>xh(_.ht,V)),P=I.mutations.map(V=>xh(_.ht,V));return{userId:S,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:R,mutations:P}}(this.serializer,this.userId,d),m=[];let v=new bt((x,_)=>Qe(x.canonicalString(),_.canonicalString()));for(const x of i){const _=$b(this.userId,x.key.path,u);v=v.add(x.key.path.popLast()),m.push(l.put(p)),m.push(o.put(_,WV))}return v.forEach(x=>{m.push(this.indexManager.addToCollectionParentIndex(e,x))}),e.addOnCommittedListener(()=>{this.xn[u]=d.keys()}),Q.waitFor(m).next(()=>d)})}lookupMutationBatch(e,t){return uo(e).get(t).next(r=>r?(je(r.userId===this.userId),ga(this.serializer,r)):null)}On(e,t){return this.xn[t]?Q.resolve(this.xn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.xn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return uo(e).J({index:"userMutationsIndex",range:i},(l,u,d)=>{u.userId===this.userId&&(je(u.batchId>=r),o=ga(this.serializer,u)),d.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return uo(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,o,l)=>{r=o.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uo(e).U("userMutationsIndex",t).next(r=>r.map(i=>ga(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Jf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Fl(e).J({range:i},(l,u,d)=>{const[p,m,v]=l,x=$i(m);if(p===this.userId&&t.path.isEqual(x))return uo(e).get(v).next(_=>{if(!_)throw Oe();je(_.userId===this.userId),o.push(ga(this.serializer,_))});d.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bt(Qe);const i=[];return t.forEach(o=>{const l=Jf(this.userId,o.path),u=IDBKeyRange.lowerBound(l),d=Fl(e).J({range:u},(p,m,v)=>{const[x,_,S]=p,I=$i(_);x===this.userId&&o.path.isEqual(I)?r=r.add(S):v.done()});i.push(d)}),Q.waitFor(i).next(()=>this.Nn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=Jf(this.userId,r),l=IDBKeyRange.lowerBound(o);let u=new bt(Qe);return Fl(e).J({range:l},(d,p,m)=>{const[v,x,_]=d,S=$i(x);v===this.userId&&r.isPrefixOf(S)?S.length===i&&(u=u.add(_)):m.done()}).next(()=>this.Nn(e,u))}Nn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(uo(e).get(o).next(l=>{if(l===null)throw Oe();je(l.userId===this.userId),r.push(ga(this.serializer,l))}))}),Q.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return jI(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Bn(t.batchId)}),Q.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Bn(e){delete this.xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Q.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return Fl(e).J({range:r},(o,l,u)=>{if(o[0]===this.userId){const d=$i(o[1]);i.push(d)}else u.done()}).next(()=>{je(i.length===0)})})}containsKey(e,t){return FI(e,this.userId,t)}Ln(e){return UI(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function FI(n,e,t){const r=Jf(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let l=!1;return Fl(n).J({range:o,H:!0},(u,d,p)=>{const[m,v,x]=u;m===e&&v===i&&(l=!0),p.done()}).next(()=>l)}function uo(n){return un(n,"mutations")}function Fl(n){return un(n,"documentMutations")}function UI(n){return un(n,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Da(0)}static Qn(){return new Da(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Kn(e).next(t=>{const r=new Da(t.highestTargetId);return t.highestTargetId=r.next(),this.$n(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Kn(e).next(t=>Fe.fromTimestamp(new zt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Kn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Kn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.$n(e,i)))}addTargetData(e,t){return this.Un(e,t).next(()=>this.Kn(e).next(r=>(r.targetCount+=1,this.Wn(t,r),this.$n(e,r))))}updateTargetData(e,t){return this.Un(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dl(e).delete(t.targetId)).next(()=>this.Kn(e)).next(r=>(je(r.targetCount>0),r.targetCount-=1,this.$n(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Dl(e).J((l,u)=>{const d=hc(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,o.push(this.removeTargetData(e,d)))}).next(()=>Q.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Dl(e).J((r,i)=>{const o=hc(i);t(o)})}Kn(e){return Ix(e).get("targetGlobalKey").next(t=>(je(t!==null),t))}$n(e,t){return Ix(e).put("targetGlobalKey",t)}Un(e,t){return Dl(e).put(OI(this.serializer,t))}Wn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Kn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Pa(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Dl(e).J({range:i,index:"queryTargetsIndex"},(l,u,d)=>{const p=hc(u);Zc(t,p.target)&&(o=p,d.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=go(e);return t.forEach(l=>{const u=Fn(l.path);i.push(o.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))}),Q.waitFor(i)}removeMatchingKeys(e,t,r){const i=go(e);return Q.forEach(t,o=>{const l=Fn(o.path);return Q.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=go(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=go(e);let o=et();return i.J({range:r,H:!0},(l,u,d)=>{const p=$i(l[1]),m=new we(p);o=o.add(m)}).next(()=>o)}containsKey(e,t){const r=Fn(t.path),i=IDBKeyRange.bound([r],[jb(r)],!1,!0);let o=0;return go(e).J({index:"documentTargetsIndex",H:!0,range:i},([l,u],d,p)=>{l!==0&&(o++,p.done())}).next(()=>o>0)}ut(e,t){return Dl(e).get(t).next(r=>r?hc(r):null)}}function Dl(n){return un(n,"targets")}function Ix(n){return un(n,"targetGlobal")}function go(n){return un(n,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx([n,e],[t,r]){const i=Qe(n,t);return i===0?Qe(e,r):i}class p4{constructor(e){this.Gn=e,this.buffer=new bt(Sx),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Sx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Uo(t)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ua(t)}await this.Yn(3e5)})}}class m4{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Wr.oe);const r=new p4(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(bx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bx):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,o,l,u,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,u=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),Ml()<=it.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v})))}}function zI(n,e){return new m4(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,t){this.db=e,this.garbageCollector=zI(this,t)}Xn(e){const t=this.nr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}er(e,t){return this.rr(e,(r,i)=>t(i))}addReference(e,t,r){return Vf(e,r)}removeReference(e,t,r){return Vf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Vf(e,t)}ir(e,t){return function(i,o){let l=!1;return UI(i).Y(u=>FI(i,u,o).next(d=>(d&&(l=!0),Q.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.rr(e,(l,u)=>{if(u<=t){const d=this.ir(e,l).next(p=>{if(!p)return o++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Fe.min()),go(e).delete(function(v){return[0,Fn(v.path)]}(l))))});i.push(d)}}).next(()=>Q.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Vf(e,t)}rr(e,t){const r=go(e);let i,o=Wr.oe;return r.J({index:"documentTargetsIndex"},([l,u],{path:d,sequenceNumber:p})=>{l===0?(o!==Wr.oe&&t(new we($i(i)),o),o=p,i=d):o=Wr.oe}).next(()=>{o!==Wr.oe&&t(new we($i(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vf(n,e){return go(n).put(function(r,i){return{targetId:0,path:Fn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.changes=new Ls(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return da(e).put(r)}removeEntry(e,t,r){return da(e).delete(function(o,l){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Th(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.sr(e,r)))}getEntry(e,t){let r=Wt.newInvalidDocument(t);return da(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ic(t))},(i,o)=>{r=this._r(t,o)}).next(()=>r)}ar(e,t){let r={size:0,document:Wt.newInvalidDocument(t)};return da(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ic(t))},(i,o)=>{r={document:this._r(t,o),size:Ih(o)}}).next(()=>r)}getEntries(e,t){let r=Rr();return this.ur(e,t,(i,o)=>{const l=this._r(i,o);r=r.insert(i,l)}).next(()=>r)}cr(e,t){let r=Rr(),i=new Vt(we.comparator);return this.ur(e,t,(o,l)=>{const u=this._r(o,l);r=r.insert(o,u),i=i.insert(o,Ih(l))}).next(()=>({documents:r,lr:i}))}ur(e,t,r){if(t.isEmpty())return Q.resolve();let i=new bt(Ax);t.forEach(d=>i=i.add(d));const o=IDBKeyRange.bound(ic(i.first()),ic(i.last())),l=i.getIterator();let u=l.getNext();return da(e).J({index:"documentKeyIndex",range:o},(d,p,m)=>{const v=we.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;u&&Ax(u,v)<0;)r(u,null),u=l.getNext();u&&u.isEqual(v)&&(r(u,p),u=l.hasNext()?l.getNext():null),u?m.$(ic(u)):m.done()}).next(()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),Th(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return da(e).U(IDBKeyRange.bound(u,d,!0)).next(p=>{o==null||o.incrementDocumentReadCount(p.length);let m=Rr();for(const v of p){const x=this._r(we.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);x.isFoundDocument()&&(ed(t,x)||i.has(x.key))&&(m=m.insert(x.key,x))}return m})}getAllFromCollectionGroup(e,t,r,i){let o=Rr();const l=Cx(t,r),u=Cx(t,Ar.max());return da(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,u,!0)},(d,p,m)=>{const v=this._r(we.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);o=o.insert(v.key,v),o.size===i&&m.done()}).next(()=>o)}newChangeBuffer(e){return new v4(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Rx(e).get("remoteDocumentGlobalKey").next(t=>(je(!!t),t))}sr(e,t){return Rx(e).put("remoteDocumentGlobalKey",t)}_r(e,t){if(t){const r=r4(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Fe.min())))return r}return Wt.newInvalidDocument(e)}}function HI(n){return new y4(n)}class v4 extends $I{constructor(e,t){super(),this.hr=e,this.trackRemovals=t,this.Pr=new Ls(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new bt((o,l)=>Qe(o.canonicalString(),l.canonicalString()));return this.changes.forEach((o,l)=>{const u=this.Pr.get(o);if(t.push(this.hr.removeEntry(e,o,u.readTime)),l.isValidDocument()){const d=hx(this.hr.serializer,l);i=i.add(o.path.popLast());const p=Ih(d);r+=p-u.size,t.push(this.hr.addEntry(e,o,d))}else if(r-=u.size,this.trackRemovals){const d=hx(this.hr.serializer,l.convertToNoDocument(Fe.min()));t.push(this.hr.addEntry(e,o,d))}}),i.forEach(o=>{t.push(this.hr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.hr.updateMetadata(e,r)),Q.waitFor(t)}getFromCache(e,t){return this.hr.ar(e,t).next(r=>(this.Pr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.hr.cr(e,t).next(({documents:r,lr:i})=>(i.forEach((o,l)=>{this.Pr.set(o,{size:l,readTime:r.get(o).readTime})}),r))}}function Rx(n){return un(n,"remoteDocumentGlobal")}function da(n){return un(n,"remoteDocumentsV14")}function ic(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Cx(n,e){const t=e.documentKey.path.toArray();return[n,Th(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ax(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Qe(t[o],r[o]),i)return i;return i=Qe(t.length,r.length),i||(i=Qe(t[t.length-2],r[r.length-2]),i||Qe(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ec(r.mutation,i,Kr.empty(),zt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,t,r=et()){const i=Hi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=dc();return o.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Hi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,et()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let o=Rr();const l=wc(),u=function(){return wc()}();return t.forEach((d,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Bo)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Ec(m.mutation,p,m.mutation.getFieldMask(),zt.now())):l.set(p.key,Kr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>{var v;return u.set(p,new _4(m,(v=l.get(p))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const r=wc();let i=new Vt((l,u)=>l-u),o=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let m=r.get(d)||Kr.empty();m=u.applyToLocalView(p,m),r.set(d,m);const v=(i.get(u.batchId)||et()).add(d);i=i.insert(u.batchId,v)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),p=d.key,m=d.value,v=cI();m.forEach(x=>{if(!o.has(x)){const _=gI(t.get(x),r.get(x));_!==null&&v.set(x,_),o=o.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return Q.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return we.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Q.resolve(Hi());let u=-1,d=o;return l.next(p=>Q.forEach(p,(m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(m)?Q.resolve():this.remoteDocumentCache.getEntry(e,m).next(x=>{d=d.insert(m,x)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,d,p,et())).next(m=>({batchId:u,changes:uI(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(r=>{let i=dc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=dc();return this.indexManager.getCollectionParents(e,o).next(u=>Q.forEach(u,d=>{const p=function(v,x){return new uu(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((v,x)=>{l=l.insert(v,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,Wt.newInvalidDocument(m)))});let u=dc();return l.forEach((d,p)=>{const m=o.get(d);m!==void 0&&Ec(m.mutation,p,Kr.empty(),zt.now()),ed(t,p)&&(u=u.insert(d,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Q.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:MI(i.bundledQuery),readTime:Kn(i.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.overlays=new Vt(we.comparator),this.dr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hi();return Q.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Tt(e,t,o)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.dr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.dr.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){const i=Hi(),o=t.length+1,l=new we(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Vt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=o.get(p.largestBatchId);m===null&&(m=Hi(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=Hi(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>u.set(p,m)),!(u.size()>=i)););return Q.resolve(u)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.dr.get(i.largestBatchId).delete(r.key);this.dr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new gv(t,r));let o=this.dr.get(t);o===void 0&&(o=et(),this.dr.set(t,o)),this.dr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.Er=new bt(pn.Ar),this.Rr=new bt(pn.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new pn(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new pn(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new we(new _t([])),r=new pn(t,e),i=new pn(t,e+1),o=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new we(new _t([])),r=new pn(t,e),i=new pn(t,e+1);let o=et();return this.Rr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new pn(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class pn{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return we.comparator(e.key,t.key)||Qe(e.br,t.br)}static Vr(e,t){return Qe(e.br,t.br)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new bt(pn.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new pv(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.vr=this.vr.add(new pn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(l)}lookupMutationBatch(e,t){return Q.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new pn(t,0),i=new pn(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],l=>{const u=this.Cr(l.br);o.push(u)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bt(Qe);return t.forEach(i=>{const o=new pn(i,0),l=new pn(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],u=>{r=r.add(u.br)})}),Q.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;we.isDocumentKey(o)||(o=o.child(""));const l=new pn(new we(o),0);let u=new bt(Qe);return this.vr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(d.br)),!0)},l),Q.resolve(this.Mr(u))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){je(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Q.forEach(t.mutations,i=>{const o=new pn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new pn(t,0),i=this.vr.firstAfterOrEqual(r);return Q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.Nr=e,this.docs=function(){return new Vt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let r=Rr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wt.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Rr();const l=t.path,u=new we(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||lv(Fb(m),r)<=0||(i.has(m.key)||ed(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Oe()}Br(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new I4(this)}getSize(e){return Q.resolve(this.size)}}class I4 extends $I{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.persistence=e,this.Lr=new Ls(t=>Pa(t),Zc),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ev,this.targetCount=0,this.Qr=Da.qn()}forEachTarget(e,t){return this.Lr.forEach((r,i)=>t(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),Q.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Da(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Un(t),Q.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Lr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Lr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Wr(0),this.Ur=!1,this.Ur=!0,this.Wr=new x4,this.referenceDelegate=e(this),this.Gr=new S4(this),this.indexManager=new d4,this.remoteDocumentCache=function(i){return new b4(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new DI(t),this.jr=new w4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new E4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new T4(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const i=new R4(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,t){return Q.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class R4 extends Bb{constructor(e){super(),this.currentSequenceNumber=e}}class vp{constructor(e){this.persistence=e,this.Zr=new Ev,this.Xr=null}static ei(e){return new vp(e)}get ti(){if(this.Xr)return this.Xr;throw Oe()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,r=>{const i=we.fromPath(r);return this.ni(e,i).next(o=>{o||t.removeEntry(i,Fe.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Q.or([()=>Q.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Sh{constructor(e,t){this.persistence=e,this.ri=new Ls(r=>Fn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=zI(this,t)}static ei(e,t){return new Sh(e,t)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return Q.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?Q.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Br(e,l=>this.ir(e,l,t).next(u=>{u||(r++,o.removeEntry(l,Fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zf(e.data.value)),t}ir(e,t,r){return Q.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.serializer=e}O(e,t,r,i){const o=new op("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore("owner")}(e),function(d){d.createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",H0,{unique:!0}),d.createObjectStore("documentMutations")}(e),Px(e),function(d){d.createObjectStore("remoteDocuments")}(e));let l=Q.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),Px(e)),l=l.next(()=>function(d){const p=d.store("targetGlobal"),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fe.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",m)}(o))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(d,p){return p.store("mutations").U().next(m=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",H0,{unique:!0});const v=p.store("mutations"),x=m.map(_=>v.put(_));return Q.waitFor(x)})}(e,o))),l=l.next(()=>{(function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(l=l.next(()=>this.ii(o))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.si(o)))),r<7&&i>=7&&(l=l.next(()=>this.oi(o))),r<8&&i>=8&&(l=l.next(()=>this._i(e,o))),r<9&&i>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.ai(o))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(d){const p=d.createObjectStore("documentOverlays",{keyPath:ij});p.createIndex("collectionPathOverlayIndex",sj,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",oj,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:KV});p.createIndex("documentKeyIndex",qV),p.createIndex("collectionGroupIndex",QV)}(e)).next(()=>this.ui(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.ci(e,o))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:ej}).createIndex("sequenceNumberIndex",tj,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:nj}).createIndex("documentKeyIndex",rj,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(d){d.createObjectStore("globals",{keyPath:"name"})})(e)})),l}si(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=Ih(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ii(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>Q.forEach(i,o=>{const l=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",l).next(u=>Q.forEach(u,d=>{je(d.userId===o.userId);const p=ga(this.serializer,d);return jI(e,o.userId,p).next(()=>{})}))}))}oi(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((l,u)=>{const d=new _t(l),p=function(v){return[0,Fn(v)]}(d);o.push(t.get(p).next(m=>m?Q.resolve():(v=>t.put({targetId:0,path:Fn(v),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>Q.waitFor(o))})}_i(e,t){e.createObjectStore("collectionParents",{keyPath:ZV});const r=t.store("collectionParents"),i=new wv,o=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:Fn(d)})}};return t.store("remoteDocuments").J({H:!0},(l,u)=>{const d=new _t(l);return o(d.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([l,u,d],p)=>{const m=$i(u);return o(m.popLast())}))}ai(e){const t=e.store("targets");return t.J((r,i)=>{const o=hc(i),l=OI(this.serializer,o);return t.put(l)})}ui(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((o,l)=>{const u=t.store("remoteDocumentsV14"),d=function(v){return v.document?new we(_t.fromString(v.document.name).popFirst(5)):v.noDocument?we.fromSegments(v.noDocument.path):v.unknownDocument?we.fromSegments(v.unknownDocument.path):Oe()}(l).path.toArray(),p={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(p))}).next(()=>Q.waitFor(i))}ci(e,t){const r=t.store("mutations"),i=HI(this.serializer),o=new xv(vp.ei,this.serializer.ht);return r.U().next(l=>{const u=new Map;return l.forEach(d=>{var p;let m=(p=u.get(d.userId))!==null&&p!==void 0?p:et();ga(this.serializer,d).keys().forEach(v=>m=m.add(v)),u.set(d.userId,m)}),Q.forEach(u,(d,p)=>{const m=new Sn(p),v=gp.Pt(this.serializer,m),x=o.getIndexManager(m),_=yp.Pt(m,this.serializer,x,o.referenceDelegate);return new GI(i,_,v,x).recalculateAndSaveOverlaysForDocumentKeys(new iy(t,Wr.oe),d).next()})})}}function Px(n){n.createObjectStore("targetDocuments",{keyPath:JV}).createIndex("documentTargetsIndex",XV,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",YV,{unique:!0}),n.createObjectStore("targetGlobal")}const Pg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Tv{constructor(e,t,r,i,o,l,u,d,p,m,v=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.li=o,this.window=l,this.document=u,this.hi=p,this.Pi=m,this.Ti=v,this.$r=null,this.Ur=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ii=null,this.inForeground=!1,this.di=null,this.Ei=null,this.Ai=Number.NEGATIVE_INFINITY,this.Ri=x=>Promise.resolve(),!Tv.p())throw new ye(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new g4(this,i),this.Vi=t+"main",this.serializer=new DI(d),this.mi=new Io(this.Vi,this.Ti,new C4(this.serializer)),this.Wr=new s4,this.Gr=new h4(this.referenceDelegate,this.serializer),this.remoteDocumentCache=HI(this.serializer),this.jr=new i4,this.window&&this.window.localStorage?this.fi=this.window.localStorage:(this.fi=null,m===!1&&Wn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ye(ae.FAILED_PRECONDITION,Pg);return this.pi(),this.yi(),this.wi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Gr.getHighestSequenceNumber(e))}).then(e=>{this.$r=new Wr(e,this.hi)}).then(()=>{this.Ur=!0}).catch(e=>(this.mi&&this.mi.close(),Promise.reject(e)))}Si(e){return this.Ri=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.mi.B(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.li.enqueueAndForget(async()=>{this.started&&await this.gi()}))}gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.bi(e).next(t=>{t||(this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)))})}).next(()=>this.Di(e)).next(t=>this.isPrimary&&!t?this.vi(e).next(()=>!1):!!t&&this.Ci(e).next(()=>!0))).catch(e=>{if(Uo(e))return he("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.li.enqueueRetryable(()=>this.Ri(e)),this.isPrimary=e})}bi(e){return sc(e).get("owner").next(t=>Q.resolve(this.Fi(t)))}Mi(e){return jf(e).delete(this.clientId)}async xi(){if(this.isPrimary&&!this.Oi(this.Ai,18e5)){this.Ai=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=un(t,"clientMetadata");return r.U().next(i=>{const o=this.Ni(i,18e5),l=i.filter(u=>o.indexOf(u)===-1);return Q.forEach(l,u=>r.delete(u.clientId)).next(()=>l)})}).catch(()=>[]);if(this.fi)for(const t of e)this.fi.removeItem(this.Bi(t.clientId))}}wi(){this.Ei=this.li.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gi().then(()=>this.xi()).then(()=>this.wi()))}Fi(e){return!!e&&e.ownerId===this.clientId}Di(e){return this.Pi?Q.resolve(!0):sc(e).get("owner").next(t=>{if(t!==null&&this.Oi(t.leaseTimestampMs,5e3)&&!this.Li(t.ownerId)){if(this.Fi(t)&&this.networkEnabled)return!0;if(!this.Fi(t)){if(!t.allowTabSynchronization)throw new ye(ae.FAILED_PRECONDITION,Pg);return!1}}return!(!this.networkEnabled||!this.inForeground)||jf(e).U().next(r=>this.Ni(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(o||l&&u)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&he("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.Ur=!1,this.ki(),this.Ei&&(this.Ei.cancel(),this.Ei=null),this.qi(),this.Qi(),await this.mi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new iy(e,Wr.oe);return this.vi(t).next(()=>this.Mi(t))}),this.mi.close(),this.Ki()}Ni(e,t){return e.filter(r=>this.Oi(r.updateTimeMs,t)&&!this.Li(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>jf(e).U().next(t=>this.Ni(t,18e5).map(r=>r.clientId)))}get started(){return this.Ur}getGlobalsCache(){return this.Wr}getMutationQueue(e,t){return yp.Pt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new f4(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return gp.Pt(this.serializer,e)}getBundleCache(){return this.jr}runTransaction(e,t,r){he("IndexedDbPersistence","Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(d){return d===17?uj:d===16?lj:d===15?cv:d===14?Wb:d===13?Gb:d===12?aj:d===11?Hb:void Oe()}(this.Ti);let l;return this.mi.runTransaction(e,i,o,u=>(l=new iy(u,this.$r?this.$r.next():Wr.oe),t==="readwrite-primary"?this.bi(l).next(d=>!!d||this.Di(l)).next(d=>{if(!d)throw Wn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)),new ye(ae.FAILED_PRECONDITION,Ub);return r(l)}).next(d=>this.Ci(l).next(()=>d)):this.Ui(l).next(()=>r(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}Ui(e){return sc(e).get("owner").next(t=>{if(t!==null&&this.Oi(t.leaseTimestampMs,5e3)&&!this.Li(t.ownerId)&&!this.Fi(t)&&!(this.Pi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ye(ae.FAILED_PRECONDITION,Pg)})}Ci(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sc(e).put("owner",t)}static p(){return Io.p()}vi(e){const t=sc(e);return t.get("owner").next(r=>this.Fi(r)?(he("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Q.resolve())}Oi(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Wn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}pi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.di=()=>{this.li.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.gi()))},this.document.addEventListener("visibilitychange",this.di),this.inForeground=this.document.visibilityState==="visible")}qi(){this.di&&(this.document.removeEventListener("visibilitychange",this.di),this.di=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ii=()=>{this.ki();const t=/(?:Version|Mobile)\/1[456]/;Tb()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.li.enterRestrictedMode(!0),this.li.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ii))}Qi(){this.Ii&&(this.window.removeEventListener("pagehide",this.Ii),this.Ii=null)}Li(e){var t;try{const r=((t=this.fi)===null||t===void 0?void 0:t.getItem(this.Bi(e)))!==null;return he("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Wn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}ki(){if(this.fi)try{this.fi.setItem(this.Bi(this.clientId),String(Date.now()))}catch(e){Wn("Failed to set zombie client id.",e)}}Ki(){if(this.fi)try{this.fi.removeItem(this.Bi(this.clientId))}catch{}}Bi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function sc(n){return un(n,"owner")}function jf(n){return un(n,"clientMetadata")}function A4(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=et(),i=et();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new bv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Tb()?8:zb(ln())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Xi(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new P4;return this.ts(e,t,l).next(u=>{if(o.result=u,this.Hi)return this.ns(e,t,l,u.size)})}).next(()=>o.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(Ml()<=it.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ll(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(Ml()<=it.DEBUG&&he("QueryEngine","Query:",Ll(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Ml()<=it.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ll(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(t))):Q.resolve())}Xi(e,t){if(rx(t))return Q.resolve(null);let r=qr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=wh(t,null,"F"),r=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=et(...o);return this.Zi.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.rs(t,u);return this.ss(t,p,l,d.readTime)?this.Xi(e,wh(t,null,"F")):this.os(e,p,t,d)}))})))}es(e,t,r,i){return rx(t)||i.isEqual(Fe.min())?Q.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const l=this.rs(t,o);return this.ss(t,l,r,i)?Q.resolve(null):(Ml()<=it.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ll(t)),this.os(e,l,t,FV(i,-1)).next(u=>u))})}rs(e,t){let r=new bt(aI(e));return t.forEach((i,o)=>{ed(e,o)&&(r=r.add(o))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,t,r){return Ml()<=it.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ll(t)),this.Zi.getDocumentsMatchingQuery(e,t,Ar.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new Vt(Qe),this.cs=new Ls(o=>Pa(o),Zc),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GI(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function KI(n,e,t,r){return new k4(n,e,t,r)}async function qI(n,e){const t=qe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let d=et();for(const p of i){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of o){u.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:u}))})})}function N4(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(u,d,p,m){const v=p.batch,x=v.keys();let _=Q.resolve();return x.forEach(S=>{_=_.next(()=>m.getEntry(d,S)).next(I=>{const R=p.docVersions.get(S);je(R!==null),I.version.compareTo(R)<0&&(v.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),m.addEntry(I)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(d,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=et();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(d=d.add(u.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function QI(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function D4(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const u=[];e.targetChanges.forEach((m,v)=>{const x=i.get(v);if(!x)return;u.push(t.Gr.removeMatchingKeys(o,m.removedDocuments,v).next(()=>t.Gr.addMatchingKeys(o,m.addedDocuments,v)));let _=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?_=_.withResumeToken(nn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),i=i.insert(v,_),function(I,R,P){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(x,_,m)&&u.push(t.Gr.updateTargetData(o,_))});let d=Rr(),p=et();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(O4(o,l,e.documentUpdates).next(m=>{d=m.Is,p=m.ds})),!r.isEqual(Fe.min())){const m=t.Gr.getLastRemoteSnapshotVersion(o).next(v=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return Q.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,p)).next(()=>d)}).then(o=>(t.us=i,o))}function O4(n,e,t){let r=et(),i=et();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Rr();return t.forEach((u,d)=>{const p=o.get(u);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Fe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):he("LocalStore","Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",d.version)}),{Is:l,ds:i}})}function M4(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L4(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):t.Gr.allocateTargetId(r).next(l=>(i=new bs(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function vy(n,e,t){const r=qe(n),i=r.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Uo(l))throw l;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function kx(n,e,t){const r=qe(n);let i=Fe.min(),o=et();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,m){const v=qe(d),x=v.cs.get(m);return x!==void 0?Q.resolve(v.us.get(x)):v.Gr.getTargetData(p,m)}(r,l,qr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{o=d})}).next(()=>r._s.getDocumentsMatchingQuery(l,e,t?i:Fe.min(),t?o:et())).next(u=>(V4(r,bj(e),u),{documents:u,Es:o})))}function V4(n,e,t){let r=n.ls.get(e)||Fe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ls.set(e,r)}class Nx{constructor(){this.activeTargetIds=Pj()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YI{constructor(){this._o=new Nx,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Nx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff=null;function kg(){return Ff===null?Ff=function(){return 268435456+Math.round(2147483648*Math.random())}():Ff++,"0x"+Ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class B4 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(t,r,i,o,l){const u=kg(),d=this.No(t,r.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${u}:`,d,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,o,l),this.Lo(t,d,p,i).then(m=>(he("RestConnection",`Received RPC '${t}' ${u}: `,m),m),m=>{throw Ca("RestConnection",`RPC '${t}' ${u} failed with error: `,m,"url: ",d,"request:",i),m})}ko(t,r,i,o,l,u){return this.Oo(t,r,i,o,l)}Bo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,l)=>t[l]=o),i&&i.headers.forEach((o,l)=>t[l]=o)}No(t,r){const i=F4[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,i){const o=kg();return new Promise((l,u)=>{const d=new kb;d.setWithCredentials(!0),d.listenOnce(Nb.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Qf.NO_ERROR:const m=d.getResponseJson();he(Vn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Qf.TIMEOUT:he(Vn,`RPC '${e}' ${o} timed out`),u(new ye(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Qf.HTTP_ERROR:const v=d.getStatus();if(he(Vn,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const _=x==null?void 0:x.error;if(_&&_.status&&_.message){const S=function(R){const P=R.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(P)>=0?P:ae.UNKNOWN}(_.status);u(new ye(S,_.message))}else u(new ye(ae.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ye(ae.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{he(Vn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);he(Vn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",p,r,15)})}qo(e,t,r){const i=kg(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Mb(),u=Ob(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Bo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=o.join("");he(Vn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const v=l.createWebChannel(m,d);let x=!1,_=!1;const S=new U4({Eo:R=>{_?he(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(x||(he(Vn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),x=!0),he(Vn,`RPC '${e}' stream ${i} sending:`,R),v.send(R))},Ao:()=>v.close()}),I=(R,P,V)=>{R.listen(P,U=>{try{V(U)}catch(G){setTimeout(()=>{throw G},0)}})};return I(v,cc.EventType.OPEN,()=>{_||(he(Vn,`RPC '${e}' stream ${i} transport opened.`),S.So())}),I(v,cc.EventType.CLOSE,()=>{_||(_=!0,he(Vn,`RPC '${e}' stream ${i} transport closed`),S.Do())}),I(v,cc.EventType.ERROR,R=>{_||(_=!0,Ca(Vn,`RPC '${e}' stream ${i} transport errored:`,R),S.Do(new ye(ae.UNAVAILABLE,"The operation could not be completed")))}),I(v,cc.EventType.MESSAGE,R=>{var P;if(!_){const V=R.data[0];je(!!V);const U=V,G=(U==null?void 0:U.error)||((P=U[0])===null||P===void 0?void 0:P.error);if(G){he(Vn,`RPC '${e}' stream ${i} received error:`,G);const O=G.status;let Y=function(k){const M=tn[k];if(M!==void 0)return _I(M)}(O),D=G.message;Y===void 0&&(Y=ae.INTERNAL,D="Unknown error status: "+O+" with message "+G.message),_=!0,S.Do(new ye(Y,D)),v.close()}else he(Vn,`RPC '${e}' stream ${i} received:`,V),S.vo(V)}}),I(u,Db.STAT_EVENT,R=>{R.stat===ny.PROXY?he(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===ny.NOPROXY&&he(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.bo()},0),S}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(){return typeof window<"u"?window:null}function rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n){return new Kj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,t,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,t,r,i,o,l,u,d){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new JI(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Wn(t.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new ye(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.d_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $4 extends XI{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=Yj(this.serializer,e),r=function(o){if(!("targetChange"in o))return Fe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Fe.min():l.readTime?Kn(l.readTime):Fe.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=hy(this.serializer),t.addTarget=function(o,l){let u;const d=l.target;if(u=vh(d)?{documents:RI(o,d)}:{query:CI(o,d).ct},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=xI(o,l.resumeToken);const p=dy(o,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(Fe.min())>0){u.readTime=eu(o,l.snapshotVersion.toTimestamp());const p=dy(o,l.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const r=Xj(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=hy(this.serializer),t.removeTarget=e,this.c_(t)}}class H4 extends XI{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Jj(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=hy(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>xh(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new ye(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,fy(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(ae.UNKNOWN,o.toString())})}ko(e,t,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.ko(e,fy(t,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ae.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class W4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Wn(t),this.C_=!1):he("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{za(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=qe(d);p.k_.add(4),await nd(p),p.K_.set("Unknown"),p.k_.delete(4),await wp(p)}(this))})}),this.K_=new W4(r,i)}}async function wp(n){if(za(n))for(const e of n.q_)await e(!0)}async function nd(n){for(const e of n.q_)await e(!1)}function ZI(n,e){const t=qe(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Cv(t)?Rv(t):du(t).s_()&&Sv(t,e))}function Iv(n,e){const t=qe(n),r=du(t);t.L_.delete(e),r.s_()&&eS(t,e),t.L_.size===0&&(r.s_()?r.a_():za(t)&&t.K_.set("Unknown"))}function Sv(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}du(n).V_(e)}function eS(n,e){n.U_.xe(e),du(n).m_(e)}function Rv(n){n.U_=new $j({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),du(n).start(),n.K_.F_()}function Cv(n){return za(n)&&!du(n).i_()&&n.L_.size>0}function za(n){return qe(n).k_.size===0}function tS(n){n.U_=void 0}async function q4(n){n.K_.set("Online")}async function Q4(n){n.L_.forEach((e,t)=>{Sv(n,e)})}async function Y4(n,e){tS(n),Cv(n)?(n.K_.O_(e),Rv(n)):n.K_.set("Unknown")}async function J4(n,e,t){if(n.K_.set("Online"),e instanceof EI&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.L_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.L_.delete(u),i.U_.removeTarget(u))}(n,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(n,r)}else if(e instanceof nh?n.U_.$e(e):e instanceof wI?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Fe.min()))try{const r=await QI(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.U_.it(l);return u.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.L_.get(p);m&&o.L_.set(p,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,p)=>{const m=o.L_.get(d);if(!m)return;o.L_.set(d,m.withResumeToken(nn.EMPTY_BYTE_STRING,m.snapshotVersion)),eS(o,d);const v=new bs(m.target,d,p,m.sequenceNumber);Sv(o,v)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await Rh(n,r)}}async function Rh(n,e,t){if(!Uo(e))throw e;n.k_.add(1),await nd(n),n.K_.set("Offline"),t||(t=()=>QI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await wp(n)})}function nS(n,e){return e().catch(t=>Rh(n,t,e))}async function rd(n){const e=qe(n),t=Do(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;X4(e);)try{const i=await M4(e.localStore,r);if(i===null){e.B_.length===0&&t.a_();break}r=i.batchId,Z4(e,i)}catch(i){await Rh(e,i)}rS(e)&&iS(e)}function X4(n){return za(n)&&n.B_.length<10}function Z4(n,e){n.B_.push(e);const t=Do(n);t.s_()&&t.f_&&t.g_(e.mutations)}function rS(n){return za(n)&&!Do(n).i_()&&n.B_.length>0}function iS(n){Do(n).start()}async function eF(n){Do(n).w_()}async function tF(n){const e=Do(n);for(const t of n.B_)e.g_(t.mutations)}async function nF(n,e,t){const r=n.B_.shift(),i=mv.from(r,e,t);await nS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await rd(n)}async function rF(n,e){e&&Do(n).f_&&await async function(r,i){if(function(l){return Uj(l)&&l!==ae.ABORTED}(i.code)){const o=r.B_.shift();Do(r).__(),await nS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await rd(r)}}(n,e),rS(n)&&iS(n)}async function Ox(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=za(t);t.k_.add(3),await nd(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await wp(t)}async function iF(n,e){const t=qe(n);e?(t.k_.delete(2),await wp(t)):e||(t.k_.add(2),await nd(t),t.K_.set("Unknown"))}function du(n){return n.W_||(n.W_=function(t,r,i){const o=qe(t);return o.b_(),new $4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:q4.bind(null,n),mo:Q4.bind(null,n),po:Y4.bind(null,n),R_:J4.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Cv(n)?Rv(n):n.K_.set("Unknown")):(await n.W_.stop(),tS(n))})),n.W_}function Do(n){return n.G_||(n.G_=function(t,r,i){const o=qe(t);return o.b_(),new H4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:eF.bind(null,n),po:rF.bind(null,n),p_:tF.bind(null,n),y_:nF.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await rd(n)):(await n.G_.stop(),n.B_.length>0&&(he("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new Av(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pv(n,e){if(Wn("AsyncQueue",`${e}: ${n}`),Uo(n))return new ye(ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=dc(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.z_=new Vt(we.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Oe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class tu{constructor(e,t,r,i,o,l,u,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new tu(e,t,zl.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class oF{constructor(){this.queries=Lx(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=qe(t),o=i.queries;i.queries=Lx(),o.forEach((l,u)=>{for(const d of u.J_)d.onError(r)})})(this,new ye(ae.ABORTED,"Firestore shutting down"))}}function Lx(){return new Ls(n=>oI(n),dp)}async function sS(n,e){const t=qe(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new sF,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await t.onListen(i,!0);break;case 1:o.H_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Pv(l,`Initialization of query '${Ll(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&kv(t)}async function oS(n,e){const t=qe(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function aF(n,e){const t=qe(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.J_)u.ta(i)&&(r=!0);l.H_=i}}r&&kv(t)}function lF(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(t);r.queries.delete(e)}function kv(n){n.X_.forEach(e=>{e.next()})}var _y,Vx;(Vx=_y||(_y={})).na="default",Vx.Cache="cache";class aS{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new tu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==_y.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.key=e}}class uS{constructor(e){this.key=e}}class uF{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=et(),this.mutatedKeys=et(),this.Va=aI(e),this.ma=new zl(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new Mx,i=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{const x=i.get(m),_=ed(this.query,v)?v:null,S=!!x&&this.mutatedKeys.has(x.key),I=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let R=!1;x&&_?x.data.isEqual(_.data)?S!==I&&(r.track({type:3,doc:_}),R=!0):this.ya(x,_)||(r.track({type:2,doc:_}),R=!0,(d&&this.Va(_,d)>0||p&&this.Va(_,p)<0)&&(u=!0)):!x&&_?(r.track({type:0,doc:_}),R=!0):x&&!_&&(r.track({type:1,doc:x}),R=!0,(d||p)&&(u=!0)),R&&(_?(l=l.add(_),o=I?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{ma:l,pa:r,ss:u,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((m,v)=>function(_,S){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return I(_)-I(S)}(m.type,v.type)||this.Va(m.doc,v.doc)),this.wa(r),i=i!=null&&i;const u=t&&!i?this.Sa():[],d=this.Ra.size===0&&this.current&&!i?1:0,p=d!==this.Aa;return this.Aa=d,l.length!==0||p?{snapshot:new tu(this.query,e.ma,o,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:u}:{ba:u}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Mx,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=et(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new uS(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new lS(r))}),t}va(e){this.Ea=e.Es,this.Ra=et();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return tu.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class cF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class dF{constructor(e){this.key=e,this.Fa=!1}}class fF{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new Ls(u=>oI(u),dp),this.Oa=new Map,this.Na=new Set,this.Ba=new Vt(we.comparator),this.La=new Map,this.ka=new Ev,this.qa={},this.Qa=new Map,this.Ka=Da.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function hF(n,e,t=!0){const r=mS(n);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await cS(r,e,t,!0),i}async function pF(n,e){const t=mS(n);await cS(t,e,!0,!1)}async function cS(n,e,t,r){const i=await L4(n.localStore,qr(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await mF(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&ZI(n.remoteStore,i),u}async function mF(n,e,t,r,i){n.Ua=(v,x,_)=>async function(I,R,P,V){let U=R.view.ga(P);U.ss&&(U=await kx(I.localStore,R.query,!1).then(({documents:D})=>R.view.ga(D,U)));const G=V&&V.targetChanges.get(R.targetId),O=V&&V.targetMismatches.get(R.targetId)!=null,Y=R.view.applyChanges(U,I.isPrimaryClient,G,O);return Fx(I,R.targetId,Y.ba),Y.snapshot}(n,v,x,_);const o=await kx(n.localStore,e,!0),l=new uF(e,o.Es),u=l.ga(o.documents),d=td.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(u,n.isPrimaryClient,d);Fx(n,t,p.ba);const m=new cF(e,t,l);return n.xa.set(e,m),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function gF(n,e,t){const r=qe(n),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(l=>!dp(l,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Iv(r.remoteStore,i.targetId),wy(r,i.targetId)}).catch(Ua)):(wy(r,i.targetId),await vy(r.localStore,i.targetId,!0))}async function yF(n,e){const t=qe(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Iv(t.remoteStore,r.targetId))}async function vF(n,e,t){const r=gS(n);try{const i=await function(l,u){const d=qe(l),p=zt.now(),m=u.reduce((_,S)=>_.add(S.key),et());let v,x;return d.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=Rr(),I=et();return d.hs.getEntries(_,m).next(R=>{S=R,S.forEach((P,V)=>{V.isValidDocument()||(I=I.add(P))})}).next(()=>d.localDocuments.getOverlayedDocuments(_,S)).next(R=>{v=R;const P=[];for(const V of u){const U=jj(V,v.get(V.key).overlayedDocument);U!=null&&P.push(new Bo(V.key,U,Jb(U.value.mapValue),dr.exists(!0)))}return d.mutationQueue.addMutationBatch(_,p,P,u)}).next(R=>{x=R;const P=R.applyToLocalDocumentSet(v,I);return d.documentOverlayCache.saveOverlays(_,R.batchId,P)})}).then(()=>({batchId:x.batchId,changes:uI(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let p=l.qa[l.currentUser.toKey()];p||(p=new Vt(Qe)),p=p.insert(u,d),l.qa[l.currentUser.toKey()]=p}(r,i.batchId,t),await id(r,i.changes),await rd(r.remoteStore)}catch(i){const o=Pv(i,"Failed to persist write");t.reject(o)}}async function dS(n,e){const t=qe(n);try{const r=await D4(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.La.get(o);l&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Fa=!0:i.modifiedDocuments.size>0?je(l.Fa):i.removedDocuments.size>0&&(je(l.Fa),l.Fa=!1))}),await id(t,r,e)}catch(r){await Ua(r)}}function jx(n,e,t){const r=qe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((o,l)=>{const u=l.view.ea(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=qe(l);d.onlineState=u;let p=!1;d.queries.forEach((m,v)=>{for(const x of v.J_)x.ea(u)&&(p=!0)}),p&&kv(d)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _F(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.La.get(e),o=i&&i.key;if(o){let l=new Vt(we.comparator);l=l.insert(o,Wt.newNoDocument(o,Fe.min()));const u=et().add(o),d=new mp(Fe.min(),new Map,new Vt(Qe),l,u);await dS(r,d),r.Ba=r.Ba.remove(o),r.La.delete(e),Nv(r)}else await vy(r.localStore,e,!1).then(()=>wy(r,e,t)).catch(Ua)}async function wF(n,e){const t=qe(n),r=e.batch.batchId;try{const i=await N4(t.localStore,e);hS(t,r,null),fS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await id(t,i)}catch(i){await Ua(i)}}async function EF(n,e,t){const r=qe(n);try{const i=await function(l,u){const d=qe(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,u).next(v=>(je(v!==null),m=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(r.localStore,e);hS(r,e,t),fS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await id(r,i)}catch(i){await Ua(i)}}function fS(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function hS(n,e,t){const r=qe(n);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function wy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||pS(n,r)})}function pS(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Iv(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Nv(n))}function Fx(n,e,t){for(const r of t)r instanceof lS?(n.ka.addReference(r.key,e),xF(n,r)):r instanceof uS?(he("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||pS(n,r.key)):Oe()}function xF(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(he("SyncEngine","New document in limbo: "+t),n.Na.add(r),Nv(n))}function Nv(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new we(_t.fromString(e)),r=n.Ka.next();n.La.set(r,new dF(t)),n.Ba=n.Ba.insert(t,r),ZI(n.remoteStore,new bs(qr(cp(t.path)),r,"TargetPurposeLimboResolution",Wr.oe))}}async function id(n,e,t){const r=qe(n),i=[],o=[],l=[];r.xa.isEmpty()||(r.xa.forEach((u,d)=>{l.push(r.Ua(d,e,t).then(p=>{var m;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){i.push(p);const v=bv.zi(d.targetId,p);o.push(v)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(d,p){const m=qe(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Q.forEach(p,x=>Q.forEach(x.Wi,_=>m.persistence.referenceDelegate.addReference(v,x.targetId,_)).next(()=>Q.forEach(x.Gi,_=>m.persistence.referenceDelegate.removeReference(v,x.targetId,_)))))}catch(v){if(!Uo(v))throw v;he("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const x=v.targetId;if(!v.fromCache){const _=m.us.get(x),S=_.snapshotVersion,I=_.withLastLimboFreeSnapshotVersion(S);m.us=m.us.insert(x,I)}}}(r.localStore,o))}async function TF(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await qI(t.localStore,e);t.currentUser=e,function(o,l){o.Qa.forEach(u=>{u.forEach(d=>{d.reject(new ye(ae.CANCELLED,l))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await id(t,r.Ts)}}function bF(n,e){const t=qe(n),r=t.La.get(e);if(r&&r.Fa)return et().add(r.key);{let i=et();const o=t.Oa.get(e);if(!o)return i;for(const l of o){const u=t.xa.get(l);i=i.unionWith(u.view.fa)}return i}}function mS(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_F.bind(null,e),e.Ma.R_=aF.bind(null,e.eventManager),e.Ma.Wa=lF.bind(null,e.eventManager),e}function gS(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EF.bind(null,e),e}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_p(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return KI(this.persistence,new WI,e.initialUser,this.serializer)}ja(e){return new xv(vp.ei,this.serializer)}za(e){return new YI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class IF extends Lc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){je(this.persistence.referenceDelegate instanceof Sh);const r=this.persistence.referenceDelegate.garbageCollector;return new BI(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new xv(r=>Sh.ei(r,t),this.serializer)}}class SF extends Lc{constructor(e,t,r){super(),this.Za=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Za.initialize(this,e),await gS(this.Za.syncEngine),await rd(this.Za.remoteStore),await this.persistence.Si(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ha(e){return KI(this.persistence,new WI,e.initialUser,this.serializer)}Ja(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new BI(r,e.asyncQueue,t)}Ya(e,t){const r=new $V(t,this.persistence);return new zV(e.asyncQueue,r)}ja(e){const t=A4(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new Tv(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,z4(),rh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}za(e){return new YI}}class Ch{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TF.bind(null,this.syncEngine),await iF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oF}()}createDatastore(e){const t=_p(e.databaseInfo.databaseId),r=function(o){return new B4(o)}(e.databaseInfo);return function(o,l,u,d){return new G4(o,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,u){return new K4(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>jx(this.syncEngine,t,0),function(){return Dx.p()?new Dx:new j4}())}createSyncEngine(e,t){return function(i,o,l,u,d,p,m){const v=new fF(i,o,l,u,d,p);return m&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=qe(i);he("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await nd(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ch.provider={build:()=>new Ch};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Sn.UNAUTHENTICATED,this.clientId=Vb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{he("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Pv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ng(n,e){n.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Ux(n,e){n.asyncQueue.verifyOperationInProgress();const t=await CF(n);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Ox(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Ox(e.remoteStore,i)),n._onlineComponents=e}async function CF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ng(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ae.FAILED_PRECONDITION||i.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ca("Error using user provided cache. Falling back to memory cache: "+t),await Ng(n,new Lc)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Ng(n,new IF(void 0));return n._offlineComponents}async function vS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await Ux(n,n._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await Ux(n,new Ch))),n._onlineComponents}function AF(n){return vS(n).then(e=>e.syncEngine)}async function _S(n){const e=await vS(n),t=e.eventManager;return t.onListen=hF.bind(null,e.syncEngine),t.onUnlisten=gF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yF.bind(null,e.syncEngine),t}function PF(n,e,t={}){const r=new Ki;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,p){const m=new yS({next:x=>{m.eu(),l.enqueueAndForget(()=>oS(o,v));const _=x.docs.has(u);!_&&x.fromCache?p.reject(new ye(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&x.fromCache&&d&&d.source==="server"?p.reject(new ye(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new aS(cp(u.path),m,{includeMetadataChanges:!0,ua:!0});return sS(o,v)}(await _S(n),n.asyncQueue,e,t,r)),r.promise}function kF(n,e,t={}){const r=new Ki;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,p){const m=new yS({next:x=>{m.eu(),l.enqueueAndForget(()=>oS(o,v)),x.fromCache&&d.source==="server"?p.reject(new ye(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new aS(u,m,{includeMetadataChanges:!0,ua:!0});return sS(o,v)}(await _S(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(n,e,t){if(!t)throw new ye(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function NF(n,e,t,r){if(e===!0&&r===!0)throw new ye(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zx(n){if(!we.isDocumentKey(n))throw new ye(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $x(n){if(we.isDocumentKey(n))throw new ye(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ep(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe()}function Ns(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ep(n);throw new ye(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ye(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PV;switch(r.type){case"firstParty":return new OV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Bx.get(t);r&&(he("ComponentProvider","Removing Datastore"),Bx.delete(t),r.terminate())}(this),Promise.resolve()}}function DF(n,e,t,r={}){var i;const o=(n=Ns(n,xp))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Sn.MOCK_USER;else{u=xb(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ye(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Sn(p)}n._authCredentials=new kV(new Lb(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class fr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class So extends zo{constructor(e,t,r){super(e,t,cp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new we(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function Dv(n,e,...t){if(n=pr(n),ES("collection","path",e),n instanceof xp){const r=_t.fromString(e,...t);return $x(r),new So(n,null,r)}{if(!(n instanceof fr||n instanceof So))throw new ye(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_t.fromString(e,...t));return $x(r),new So(n.firestore,null,r)}}function ts(n,e,...t){if(n=pr(n),arguments.length===1&&(e=Vb.newId()),ES("doc","path",e),n instanceof xp){const r=_t.fromString(e,...t);return zx(r),new fr(n,null,new we(r))}{if(!(n instanceof fr||n instanceof So))throw new ye(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_t.fromString(e,...t));return zx(r),new fr(n.firestore,n instanceof So?n.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new JI(this,"async_queue_retry"),this.fu=()=>{const r=rh();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=rh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=rh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Ki;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Uo(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw Wn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=Av.createAndSchedule(this,e,t,r,o=>this.Su(o));return this.Eu.push(i),i}pu(){this.Au&&Oe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=-1;class fu extends xp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Gx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gx(e),this._firestoreClient=void 0,await e}}}function Wx(n,e,t){t||(t="(default)");const r=Xc(n,"firestore");if(r.isInitialized(t)){const i=r.getImmediate({identifier:t}),o=r.getOptions(t);if(Ic(o,e))return i;throw new ye(ae.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ye(ae.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:t})}function Xr(n,e){const t=typeof n=="object"?n:ov(),r=typeof n=="string"?n:"(default)",i=Xc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=_b("firestore");o&&DF(i,...o)}return i}function Ov(n){if(n._terminated)throw new ye(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xS(n),n._firestoreClient}function xS(n){var e,t,r;const i=n._freezeSettings(),o=function(u,d,p,m){return new dj(u,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,wS(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new RF(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}function MF(n,e){Ca("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return LF(n,Ch.provider,{build:r=>new SF(r,t.cacheSizeBytes,void 0)}),Promise.resolve()}function LF(n,e,t){if((n=Ns(n,fu))._firestoreClient||n._terminated)throw new ye(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ye(ae.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},xS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nu(nn.fromBase64String(e))}catch(t){throw new ye(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nu(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=/^__.*__$/;class jF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms):new cu(e,this.data,t,this.fieldTransforms)}}function bS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class jv{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new jv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Bu(e),i}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ah(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(bS(this.Mu)&&VF.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class FF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||_p(e)}$u(e,t,r,i=!1){return new jv({Mu:e,methodName:t,Ku:r,path:Bt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IS(n){const e=n._freezeSettings(),t=_p(n._databaseId);return new FF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function UF(n,e,t,r,i,o={}){const l=n.$u(o.merge||o.mergeFields?2:0,e,t,i);CS("Data must be an object, but it was:",l,r);const u=SS(r,l);let d,p;if(o.merge)d=new Kr(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const x=zF(e,v,t);if(!l.contains(x))throw new ye(ae.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);HF(m,x)||m.push(x)}d=new Kr(m),p=l.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=l.fieldTransforms;return new jF(new ur(u),d,p)}function BF(n,e,t,r=!1){return Fv(t,n.$u(r?4:3,e))}function Fv(n,e){if(RS(n=pr(n)))return CS("Unsupported field value:",e,n),SS(n,e);if(n instanceof TS)return function(r,i){if(!bS(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let d=Fv(u,i.ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=pr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=zt.fromDate(r);return{timestampValue:eu(i.serializer,o)}}if(r instanceof zt){const o=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eu(i.serializer,o)}}if(r instanceof Lv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nu)return{bytesValue:xI(i.serializer,r._byteString)};if(r instanceof fr){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vv)return function(l,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw u.qu("VectorValues must only contain numeric values.");return hv(u.serializer,d)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Ep(r)}`)}(n,e)}function SS(n,e){const t={};return Kb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(n,(r,i)=>{const o=Fv(i,e.Ou(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function RS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof zt||n instanceof Lv||n instanceof nu||n instanceof fr||n instanceof TS||n instanceof Vv)}function CS(n,e,t){if(!RS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Ep(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function zF(n,e,t){if((e=pr(e))instanceof Mv)return e._internalPath;if(typeof e=="string")return AS(n,e);throw Ah("Field path arguments must be of type string or ",n,!1,void 0,t)}const $F=new RegExp("[~\\*/\\[\\]]");function AS(n,e,t){if(e.search($F)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mv(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ah(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ye(ae.INVALID_ARGUMENT,u+n+d)}function HF(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Uv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GF extends PS{data(){return super.data()}}function Uv(n,e){return typeof e=="string"?AS(n,e):e instanceof Mv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bv{}class zv extends Bv{}function KF(n,e,...t){let r=[];e instanceof Bv&&r.push(e),r=r.concat(t),function(o){const l=o.filter(d=>d instanceof Hv).length,u=o.filter(d=>d instanceof $v).length;if(l>1||l>0&&u>0)throw new ye(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class $v extends zv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new $v(e,t,r)}_apply(e){const t=this._parse(e);return kS(e._query,t),new zo(e.firestore,e.converter,cy(e._query,t))}_parse(e){const t=IS(e.firestore);return function(o,l,u,d,p,m,v){let x;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ye(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){qx(v,m);const _=[];for(const S of v)_.push(Kx(d,o,S));x={arrayValue:{values:_}}}else x=Kx(d,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||qx(v,m),x=BF(u,l,v,m==="in"||m==="not-in");return ot.create(p,m,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Hv extends Bv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Tt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const d of u)kS(l,d),l=cy(l,d)}(e._query,t),new zo(e.firestore,e.converter,cy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gv extends zv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Gv(e,t)}_apply(e){const t=function(i,o,l){if(i.startAt!==null)throw new ye(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ye(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dc(o,l)}(e._query,this._field,this._direction);return new zo(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new uu(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function qF(n,e="asc"){const t=e,r=Uv("orderBy",n);return Gv._create(r,t)}class Wv extends zv{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Wv(e,t,r)}_apply(e){return new zo(e.firestore,e.converter,wh(e._query,this._limit,this._limitType))}}function QF(n){return Wv._create("limit",n,"F")}function Kx(n,e,t){if(typeof(t=pr(t))=="string"){if(t==="")throw new ye(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sI(e)&&t.indexOf("/")!==-1)throw new ye(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(_t.fromString(t));if(!we.isDocumentKey(r))throw new ye(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kc(n,new we(r))}if(t instanceof fr)return kc(n,t._key);throw new ye(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ep(t)}.`)}function qx(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kS(n,e){const t=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class YF{convertValue(e,t="none"){switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ba(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Lt(l.doubleValue));return new Vv(o)}convertGeoPoint(e){return new Lv(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){const t=Ps(e);return new zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_t.fromString(e);je(NI(r));const i=new Aa(r.get(1),r.get(3)),o=new we(r.popFirst(5));return i.isEqual(t)||Wn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NS extends PS{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Uv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ih extends NS{data(e={}){return super.data(e)}}class XF{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new pc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ih(this._firestore,this._userDataWriter,r.key,r,new pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new ih(i._firestore,i._userDataWriter,u.doc.key,u.doc,new pc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const d=new ih(i._firestore,i._userDataWriter,u.doc.key,u.doc,new pc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:ZF(u.type),doc:d,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ZF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(n){n=Ns(n,fr);const e=Ns(n.firestore,fu);return PF(Ov(e),n._key).then(t=>t5(e,n,t))}class OS extends YF{constructor(e){super(),this.firestore=e}convertBytes(e){return new nu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,t)}}function MS(n){n=Ns(n,zo);const e=Ns(n.firestore,fu),t=Ov(e),r=new OS(e);return WF(n._query),kF(t,n._query).then(i=>new XF(e,r,n,i))}function $a(n,e,t){n=Ns(n,fr);const r=Ns(n.firestore,fu),i=JF(n.converter,e,t);return LS(r,[UF(IS(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,dr.none())])}function e5(n){return LS(Ns(n.firestore,fu),[new pp(n._key,dr.none())])}function LS(n,e){return function(r,i){const o=new Ki;return r.asyncQueue.enqueueAndForget(async()=>vF(await AF(r),i,o)),o.promise}(Ov(n),e)}function t5(n,e,t){const r=t.docs.get(e._key),i=new OS(n);return new NS(n,i,e._key,r,new pc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){lu=i})(Fa),Sa(new Po("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new fu(new NV(r.getProvider("auth-internal")),new LV(r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Aa(p.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Wi(B0,"4.7.6",e),Wi(B0,"4.7.6","esm2017")})();const n5=()=>{const[n,e]=T.useState(!1),[t,r]=T.useState(""),[i,o]=T.useState(!1),{user:l}=T.useContext(qc),u=ou(),d=Xr(),p=async()=>{if(!(l!=null&&l.uid)||!t){console.error("User is not authenticated or title is missing.");return}o(!0);try{const m=Dv(d,"usersByEmail",l.email,"resumes"),v=KF(m,qF("resumeId","desc"),QF(1)),x=await MS(v);let _=1;x.empty||(_=(x.docs[0].data().resumeId||0)+1);const S={resumeId:_,title:t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),userId:l.uid,userEmail:l.email,data:{basics:{},work:[],education:[],skills:[],projects:[]}},I=ts(m,`resume-${_}`);await $a(I,S),console.log("Resume created successfully!"),o(!1),e(!1),u(`/dashboard/${l.email}/${_}/edit`)}catch(m){console.error("Error creating resume:",m)}finally{o(!1)}};return y.jsxs("div",{children:[y.jsx("div",{className:"flex rounded-xl border-2 border-dashed bg-card border-foreground/20 dark:border-foreground/20 p-8 shadow-xl transition hover:shadow-lg hover:scale-105 cursor-pointer h-[280px] items-center justify-center",onClick:()=>e(!0),children:y.jsx(pO,{className:"h-10 w-10 text-foreground"})}),y.jsx(ZM,{open:n,onOpenChange:e,children:y.jsx(db,{className:"bg-background",children:y.jsxs(fb,{children:[y.jsx(hb,{className:"text-foreground",children:"Create New Resume"}),y.jsxs(pb,{children:[y.jsx("p",{className:"text-muted-foreground",children:"Add a title for your new resume"}),y.jsx(xt,{className:"my-2 bg-background border-border",placeholder:"Ex. Full Stack Developer",onChange:m=>r(m.target.value)})]}),y.jsxs("div",{className:"flex justify-end gap-5",children:[y.jsx(vt,{onClick:()=>e(!1),variant:"ghost",className:"text-foreground hover:bg-muted",children:"Cancel"}),y.jsx(vt,{disabled:!t||i,onClick:p,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:i?y.jsx(Ti,{className:"animate-spin"}):"Create"})]})]})})})]})};var VS="AlertDialog",[r5,L$]=Fo(VS,[WT]),Vs=WT(),jS=n=>{const{__scopeAlertDialog:e,...t}=n,r=Vs(e);return y.jsx(lb,{...r,...t,modal:!0})};jS.displayName=VS;var i5="AlertDialogTrigger",s5=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Vs(t);return y.jsx(XM,{...i,...r,ref:e})});s5.displayName=i5;var o5="AlertDialogPortal",FS=n=>{const{__scopeAlertDialog:e,...t}=n,r=Vs(e);return y.jsx(ub,{...r,...t})};FS.displayName=o5;var a5="AlertDialogOverlay",US=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Vs(t);return y.jsx(Zy,{...i,...r,ref:e})});US.displayName=a5;var $l="AlertDialogContent",[l5,u5]=r5($l),BS=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,o=Vs(t),l=T.useRef(null),u=Yt(e,l),d=T.useRef(null);return y.jsx(qM,{contentName:$l,titleName:zS,docsSlug:"alert-dialog",children:y.jsx(l5,{scope:t,cancelRef:d,children:y.jsxs(ev,{role:"alertdialog",...o,...i,ref:u,onOpenAutoFocus:Ke(i.onOpenAutoFocus,p=>{var m;p.preventDefault(),(m=d.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[y.jsx(bT,{children:r}),y.jsx(d5,{contentRef:l})]})})})});BS.displayName=$l;var zS="AlertDialogTitle",$S=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Vs(t);return y.jsx(tv,{...i,...r,ref:e})});$S.displayName=zS;var HS="AlertDialogDescription",GS=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Vs(t);return y.jsx(nv,{...i,...r,ref:e})});GS.displayName=HS;var c5="AlertDialogAction",WS=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Vs(t);return y.jsx(rv,{...i,...r,ref:e})});WS.displayName=c5;var KS="AlertDialogCancel",qS=T.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=u5(KS,t),o=Vs(t),l=Yt(e,i);return y.jsx(rv,{...o,...r,ref:l})});qS.displayName=KS;var d5=({contentRef:n})=>{const e=`\`${$l}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$l}\` by passing a \`${HS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$l}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return T.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},f5=jS,h5=FS,QS=US,YS=BS,JS=WS,XS=qS,ZS=$S,eR=GS;const p5=f5,m5=h5,tR=T.forwardRef(({className:n,...e},t)=>y.jsx(QS,{className:Dt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));tR.displayName=QS.displayName;const nR=T.forwardRef(({className:n,...e},t)=>y.jsxs(m5,{children:[y.jsx(tR,{}),y.jsx(YS,{ref:t,className:Dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));nR.displayName=YS.displayName;const rR=({className:n,...e})=>y.jsx("div",{className:Dt("flex flex-col space-y-2 text-center sm:text-left",n),...e});rR.displayName="AlertDialogHeader";const iR=({className:n,...e})=>y.jsx("div",{className:Dt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});iR.displayName="AlertDialogFooter";const sR=T.forwardRef(({className:n,...e},t)=>y.jsx(ZS,{ref:t,className:Dt("text-lg font-semibold",n),...e}));sR.displayName=ZS.displayName;const oR=T.forwardRef(({className:n,...e},t)=>y.jsx(eR,{ref:t,className:Dt("text-sm text-muted-foreground",n),...e}));oR.displayName=eR.displayName;const aR=T.forwardRef(({className:n,...e},t)=>y.jsx(JS,{ref:t,className:Dt(By(),n),...e}));aR.displayName=JS.displayName;const lR=T.forwardRef(({className:n,...e},t)=>y.jsx(XS,{ref:t,className:Dt(By({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));lR.displayName=XS.displayName;function uR(n){const e=n+"CollectionProvider",[t,r]=Fo(e),[i,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=_=>{const{scope:S,children:I}=_,R=ee.useRef(null),P=ee.useRef(new Map).current;return y.jsx(i,{scope:S,itemMap:P,collectionRef:R,children:I})};l.displayName=e;const u=n+"CollectionSlot",d=ee.forwardRef((_,S)=>{const{scope:I,children:R}=_,P=o(u,I),V=Yt(S,P.collectionRef);return y.jsx(Ao,{ref:V,children:R})});d.displayName=u;const p=n+"CollectionItemSlot",m="data-radix-collection-item",v=ee.forwardRef((_,S)=>{const{scope:I,children:R,...P}=_,V=ee.useRef(null),U=Yt(S,V),G=o(p,I);return ee.useEffect(()=>(G.itemMap.set(V,{ref:V,...P}),()=>void G.itemMap.delete(V))),y.jsx(Ao,{[m]:"",ref:U,children:R})});v.displayName=p;function x(_){const S=o(n+"CollectionConsumer",_);return ee.useCallback(()=>{const R=S.collectionRef.current;if(!R)return[];const P=Array.from(R.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((G,O)=>P.indexOf(G.ref.current)-P.indexOf(O.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:l,Slot:d,ItemSlot:v},x,r]}var g5=T.createContext(void 0);function cR(n){const e=T.useContext(g5);return n||e||"ltr"}const y5=["top","right","bottom","left"],Oo=Math.min,Sr=Math.max,Ph=Math.round,Uf=Math.floor,qi=n=>({x:n,y:n}),v5={left:"right",right:"left",bottom:"top",top:"bottom"},_5={start:"end",end:"start"};function Ey(n,e,t){return Sr(n,Oo(e,t))}function Ds(n,e){return typeof n=="function"?n(e):n}function Os(n){return n.split("-")[0]}function hu(n){return n.split("-")[1]}function Kv(n){return n==="x"?"y":"x"}function qv(n){return n==="y"?"height":"width"}function Mo(n){return["top","bottom"].includes(Os(n))?"y":"x"}function Qv(n){return Kv(Mo(n))}function w5(n,e,t){t===void 0&&(t=!1);const r=hu(n),i=Qv(n),o=qv(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=kh(l)),[l,kh(l)]}function E5(n){const e=kh(n);return[xy(n),e,xy(e)]}function xy(n){return n.replace(/start|end/g,e=>_5[e])}function x5(n,e,t){const r=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?o:l;default:return[]}}function T5(n,e,t,r){const i=hu(n);let o=x5(Os(n),t==="start",r);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(xy)))),o}function kh(n){return n.replace(/left|right|bottom|top/g,e=>v5[e])}function b5(n){return{top:0,right:0,bottom:0,left:0,...n}}function dR(n){return typeof n!="number"?b5(n):{top:n,right:n,bottom:n,left:n}}function Nh(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Qx(n,e,t){let{reference:r,floating:i}=n;const o=Mo(e),l=Qv(e),u=qv(l),d=Os(e),p=o==="y",m=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,x=r[u]/2-i[u]/2;let _;switch(d){case"top":_={x:m,y:r.y-i.height};break;case"bottom":_={x:m,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:v};break;case"left":_={x:r.x-i.width,y:v};break;default:_={x:r.x,y:r.y}}switch(hu(e)){case"start":_[l]-=x*(t&&p?-1:1);break;case"end":_[l]+=x*(t&&p?-1:1);break}return _}const I5=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=t,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:m,y:v}=Qx(p,r,d),x=r,_={},S=0;for(let I=0;I<u.length;I++){const{name:R,fn:P}=u[I],{x:V,y:U,data:G,reset:O}=await P({x:m,y:v,initialPlacement:r,placement:x,strategy:i,middlewareData:_,rects:p,platform:l,elements:{reference:n,floating:e}});m=V??m,v=U??v,_={..._,[R]:{..._[R],...G}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(x=O.placement),O.rects&&(p=O.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):O.rects),{x:m,y:v}=Qx(p,x,d)),I=-1)}return{x:m,y:v,placement:x,strategy:i,middlewareData:_}};async function Vc(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:l,elements:u,strategy:d}=n,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:x=!1,padding:_=0}=Ds(e,n),S=dR(_),R=u[x?v==="floating"?"reference":"floating":v],P=Nh(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(R)))==null||t?R:R.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:p,rootBoundary:m,strategy:d})),V=v==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,U=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),G=await(o.isElement==null?void 0:o.isElement(U))?await(o.getScale==null?void 0:o.getScale(U))||{x:1,y:1}:{x:1,y:1},O=Nh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:V,offsetParent:U,strategy:d}):V);return{top:(P.top-O.top+S.top)/G.y,bottom:(O.bottom-P.bottom+S.bottom)/G.y,left:(P.left-O.left+S.left)/G.x,right:(O.right-P.right+S.right)/G.x}}const S5=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:o,platform:l,elements:u,middlewareData:d}=e,{element:p,padding:m=0}=Ds(n,e)||{};if(p==null)return{};const v=dR(m),x={x:t,y:r},_=Qv(i),S=qv(_),I=await l.getDimensions(p),R=_==="y",P=R?"top":"left",V=R?"bottom":"right",U=R?"clientHeight":"clientWidth",G=o.reference[S]+o.reference[_]-x[_]-o.floating[S],O=x[_]-o.reference[_],Y=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let D=Y?Y[U]:0;(!D||!await(l.isElement==null?void 0:l.isElement(Y)))&&(D=u.floating[U]||o.floating[S]);const C=G/2-O/2,k=D/2-I[S]/2-1,M=Oo(v[P],k),B=Oo(v[V],k),F=M,L=D-I[S]-B,Ce=D/2-I[S]/2+C,Ve=Ey(F,Ce,L),Pe=!d.arrow&&hu(i)!=null&&Ce!==Ve&&o.reference[S]/2-(Ce<F?M:B)-I[S]/2<0,be=Pe?Ce<F?Ce-F:Ce-L:0;return{[_]:x[_]+be,data:{[_]:Ve,centerOffset:Ce-Ve-be,...Pe&&{alignmentOffset:be}},reset:Pe}}}),R5=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:p}=e,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:I=!0,...R}=Ds(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const P=Os(i),V=Mo(u),U=Os(u)===u,G=await(d.isRTL==null?void 0:d.isRTL(p.floating)),O=x||(U||!I?[kh(u)]:E5(u)),Y=S!=="none";!x&&Y&&O.push(...T5(u,I,S,G));const D=[u,...O],C=await Vc(e,R),k=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&k.push(C[P]),v){const Ce=w5(i,l,G);k.push(C[Ce[0]],C[Ce[1]])}if(M=[...M,{placement:i,overflows:k}],!k.every(Ce=>Ce<=0)){var B,F;const Ce=(((B=o.flip)==null?void 0:B.index)||0)+1,Ve=D[Ce];if(Ve)return{data:{index:Ce,overflows:M},reset:{placement:Ve}};let Pe=(F=M.filter(be=>be.overflows[0]<=0).sort((be,se)=>be.overflows[1]-se.overflows[1])[0])==null?void 0:F.placement;if(!Pe)switch(_){case"bestFit":{var L;const be=(L=M.filter(se=>{if(Y){const X=Mo(se.placement);return X===V||X==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(X=>X>0).reduce((X,le)=>X+le,0)]).sort((se,X)=>se[1]-X[1])[0])==null?void 0:L[0];be&&(Pe=be);break}case"initialPlacement":Pe=u;break}if(i!==Pe)return{reset:{placement:Pe}}}return{}}}};function Yx(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Jx(n){return y5.some(e=>n[e]>=0)}const C5=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Ds(n,e);switch(r){case"referenceHidden":{const o=await Vc(e,{...i,elementContext:"reference"}),l=Yx(o,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Jx(l)}}}case"escaped":{const o=await Vc(e,{...i,altBoundary:!0}),l=Yx(o,t.floating);return{data:{escapedOffsets:l,escaped:Jx(l)}}}default:return{}}}}};async function A5(n,e){const{placement:t,platform:r,elements:i}=n,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Os(t),u=hu(t),d=Mo(t)==="y",p=["left","top"].includes(l)?-1:1,m=o&&d?-1:1,v=Ds(e,n);let{mainAxis:x,crossAxis:_,alignmentAxis:S}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof S=="number"&&(_=u==="end"?S*-1:S),d?{x:_*m,y:x*p}:{x:x*p,y:_*m}}const P5=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:o,placement:l,middlewareData:u}=e,d=await A5(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}},k5=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:R=>{let{x:P,y:V}=R;return{x:P,y:V}}},...d}=Ds(n,e),p={x:t,y:r},m=await Vc(e,d),v=Mo(Os(i)),x=Kv(v);let _=p[x],S=p[v];if(o){const R=x==="y"?"top":"left",P=x==="y"?"bottom":"right",V=_+m[R],U=_-m[P];_=Ey(V,_,U)}if(l){const R=v==="y"?"top":"left",P=v==="y"?"bottom":"right",V=S+m[R],U=S-m[P];S=Ey(V,S,U)}const I=u.fn({...e,[x]:_,[v]:S});return{...I,data:{x:I.x-t,y:I.y-r,enabled:{[x]:o,[v]:l}}}}}},N5=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:o,middlewareData:l}=e,{offset:u=0,mainAxis:d=!0,crossAxis:p=!0}=Ds(n,e),m={x:t,y:r},v=Mo(i),x=Kv(v);let _=m[x],S=m[v];const I=Ds(u,e),R=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(d){const U=x==="y"?"height":"width",G=o.reference[x]-o.floating[U]+R.mainAxis,O=o.reference[x]+o.reference[U]-R.mainAxis;_<G?_=G:_>O&&(_=O)}if(p){var P,V;const U=x==="y"?"width":"height",G=["top","left"].includes(Os(i)),O=o.reference[v]-o.floating[U]+(G&&((P=l.offset)==null?void 0:P[v])||0)+(G?0:R.crossAxis),Y=o.reference[v]+o.reference[U]+(G?0:((V=l.offset)==null?void 0:V[v])||0)-(G?R.crossAxis:0);S<O?S=O:S>Y&&(S=Y)}return{[x]:_,[v]:S}}}},D5=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:o,platform:l,elements:u}=e,{apply:d=()=>{},...p}=Ds(n,e),m=await Vc(e,p),v=Os(i),x=hu(i),_=Mo(i)==="y",{width:S,height:I}=o.floating;let R,P;v==="top"||v==="bottom"?(R=v,P=x===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(P=v,R=x==="end"?"top":"bottom");const V=I-m.top-m.bottom,U=S-m.left-m.right,G=Oo(I-m[R],V),O=Oo(S-m[P],U),Y=!e.middlewareData.shift;let D=G,C=O;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=U),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=V),Y&&!x){const M=Sr(m.left,0),B=Sr(m.right,0),F=Sr(m.top,0),L=Sr(m.bottom,0);_?C=S-2*(M!==0||B!==0?M+B:Sr(m.left,m.right)):D=I-2*(F!==0||L!==0?F+L:Sr(m.top,m.bottom))}await d({...e,availableWidth:C,availableHeight:D});const k=await l.getDimensions(u.floating);return S!==k.width||I!==k.height?{reset:{rects:!0}}:{}}}};function Tp(){return typeof window<"u"}function pu(n){return fR(n)?(n.nodeName||"").toLowerCase():"#document"}function Cr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ns(n){var e;return(e=(fR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function fR(n){return Tp()?n instanceof Node||n instanceof Cr(n).Node:!1}function Ii(n){return Tp()?n instanceof Element||n instanceof Cr(n).Element:!1}function Ji(n){return Tp()?n instanceof HTMLElement||n instanceof Cr(n).HTMLElement:!1}function Xx(n){return!Tp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Cr(n).ShadowRoot}function sd(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Si(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function O5(n){return["table","td","th"].includes(pu(n))}function bp(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Yv(n){const e=Jv(),t=Ii(n)?Si(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function M5(n){let e=Lo(n);for(;Ji(e)&&!ru(e);){if(Yv(e))return e;if(bp(e))return null;e=Lo(e)}return null}function Jv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ru(n){return["html","body","#document"].includes(pu(n))}function Si(n){return Cr(n).getComputedStyle(n)}function Ip(n){return Ii(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Lo(n){if(pu(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Xx(n)&&n.host||ns(n);return Xx(e)?e.host:e}function hR(n){const e=Lo(n);return ru(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ji(e)&&sd(e)?e:hR(e)}function jc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=hR(n),o=i===((r=n.ownerDocument)==null?void 0:r.body),l=Cr(i);if(o){const u=Ty(l);return e.concat(l,l.visualViewport||[],sd(i)?i:[],u&&t?jc(u):[])}return e.concat(i,jc(i,[],t))}function Ty(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function pR(n){const e=Si(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ji(n),o=i?n.offsetWidth:t,l=i?n.offsetHeight:r,u=Ph(t)!==o||Ph(r)!==l;return u&&(t=o,r=l),{width:t,height:r,$:u}}function Xv(n){return Ii(n)?n:n.contextElement}function Hl(n){const e=Xv(n);if(!Ji(e))return qi(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:o}=pR(e);let l=(o?Ph(t.width):t.width)/r,u=(o?Ph(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const L5=qi(0);function mR(n){const e=Cr(n);return!Jv()||!e.visualViewport?L5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function V5(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Cr(n)?!1:e}function Oa(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=Xv(n);let l=qi(1);e&&(r?Ii(r)&&(l=Hl(r)):l=Hl(n));const u=V5(o,t,r)?mR(o):qi(0);let d=(i.left+u.x)/l.x,p=(i.top+u.y)/l.y,m=i.width/l.x,v=i.height/l.y;if(o){const x=Cr(o),_=r&&Ii(r)?Cr(r):r;let S=x,I=Ty(S);for(;I&&r&&_!==S;){const R=Hl(I),P=I.getBoundingClientRect(),V=Si(I),U=P.left+(I.clientLeft+parseFloat(V.paddingLeft))*R.x,G=P.top+(I.clientTop+parseFloat(V.paddingTop))*R.y;d*=R.x,p*=R.y,m*=R.x,v*=R.y,d+=U,p+=G,S=Cr(I),I=Ty(S)}}return Nh({width:m,height:v,x:d,y:p})}function Zv(n,e){const t=Ip(n).scrollLeft;return e?e.left+t:Oa(ns(n)).left+t}function gR(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:Zv(n,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function j5(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const o=i==="fixed",l=ns(r),u=e?bp(e.floating):!1;if(r===l||u&&o)return t;let d={scrollLeft:0,scrollTop:0},p=qi(1);const m=qi(0),v=Ji(r);if((v||!v&&!o)&&((pu(r)!=="body"||sd(l))&&(d=Ip(r)),Ji(r))){const _=Oa(r);p=Hl(r),m.x=_.x+r.clientLeft,m.y=_.y+r.clientTop}const x=l&&!v&&!o?gR(l,d,!0):qi(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-d.scrollLeft*p.x+m.x+x.x,y:t.y*p.y-d.scrollTop*p.y+m.y+x.y}}function F5(n){return Array.from(n.getClientRects())}function U5(n){const e=ns(n),t=Ip(n),r=n.ownerDocument.body,i=Sr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Sr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Zv(n);const u=-t.scrollTop;return Si(r).direction==="rtl"&&(l+=Sr(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:u}}function B5(n,e){const t=Cr(n),r=ns(n),i=t.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,d=0;if(i){o=i.width,l=i.height;const p=Jv();(!p||p&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:u,y:d}}function z5(n,e){const t=Oa(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,o=Ji(n)?Hl(n):qi(1),l=n.clientWidth*o.x,u=n.clientHeight*o.y,d=i*o.x,p=r*o.y;return{width:l,height:u,x:d,y:p}}function Zx(n,e,t){let r;if(e==="viewport")r=B5(n,t);else if(e==="document")r=U5(ns(n));else if(Ii(e))r=z5(e,t);else{const i=mR(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Nh(r)}function yR(n,e){const t=Lo(n);return t===e||!Ii(t)||ru(t)?!1:Si(t).position==="fixed"||yR(t,e)}function $5(n,e){const t=e.get(n);if(t)return t;let r=jc(n,[],!1).filter(u=>Ii(u)&&pu(u)!=="body"),i=null;const o=Si(n).position==="fixed";let l=o?Lo(n):n;for(;Ii(l)&&!ru(l);){const u=Si(l),d=Yv(l);!d&&u.position==="fixed"&&(i=null),(o?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||sd(l)&&!d&&yR(n,l))?r=r.filter(m=>m!==l):i=u,l=Lo(l)}return e.set(n,r),r}function H5(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?bp(e)?[]:$5(e,this._c):[].concat(t),r],u=l[0],d=l.reduce((p,m)=>{const v=Zx(e,m,i);return p.top=Sr(v.top,p.top),p.right=Oo(v.right,p.right),p.bottom=Oo(v.bottom,p.bottom),p.left=Sr(v.left,p.left),p},Zx(e,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function G5(n){const{width:e,height:t}=pR(n);return{width:e,height:t}}function W5(n,e,t){const r=Ji(e),i=ns(e),o=t==="fixed",l=Oa(n,!0,o,e);let u={scrollLeft:0,scrollTop:0};const d=qi(0);if(r||!r&&!o)if((pu(e)!=="body"||sd(i))&&(u=Ip(e)),r){const x=Oa(e,!0,o,e);d.x=x.x+e.clientLeft,d.y=x.y+e.clientTop}else i&&(d.x=Zv(i));const p=i&&!r&&!o?gR(i,u):qi(0),m=l.left+u.scrollLeft-d.x-p.x,v=l.top+u.scrollTop-d.y-p.y;return{x:m,y:v,width:l.width,height:l.height}}function Dg(n){return Si(n).position==="static"}function e1(n,e){if(!Ji(n)||Si(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ns(n)===t&&(t=t.ownerDocument.body),t}function vR(n,e){const t=Cr(n);if(bp(n))return t;if(!Ji(n)){let i=Lo(n);for(;i&&!ru(i);){if(Ii(i)&&!Dg(i))return i;i=Lo(i)}return t}let r=e1(n,e);for(;r&&O5(r)&&Dg(r);)r=e1(r,e);return r&&ru(r)&&Dg(r)&&!Yv(r)?t:r||M5(n)||t}const K5=async function(n){const e=this.getOffsetParent||vR,t=this.getDimensions,r=await t(n.floating);return{reference:W5(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function q5(n){return Si(n).direction==="rtl"}const Q5={convertOffsetParentRelativeRectToViewportRelativeRect:j5,getDocumentElement:ns,getClippingRect:H5,getOffsetParent:vR,getElementRects:K5,getClientRects:F5,getDimensions:G5,getScale:Hl,isElement:Ii,isRTL:q5};function _R(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Y5(n,e){let t=null,r;const i=ns(n);function o(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const p=n.getBoundingClientRect(),{left:m,top:v,width:x,height:_}=p;if(u||e(),!x||!_)return;const S=Uf(v),I=Uf(i.clientWidth-(m+x)),R=Uf(i.clientHeight-(v+_)),P=Uf(m),U={rootMargin:-S+"px "+-I+"px "+-R+"px "+-P+"px",threshold:Sr(0,Oo(1,d))||1};let G=!0;function O(Y){const D=Y[0].intersectionRatio;if(D!==d){if(!G)return l();D?l(!1,D):r=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!_R(p,n.getBoundingClientRect())&&l(),G=!1}try{t=new IntersectionObserver(O,{...U,root:i.ownerDocument})}catch{t=new IntersectionObserver(O,U)}t.observe(n)}return l(!0),o}function J5(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,p=Xv(n),m=i||o?[...p?jc(p):[],...jc(e)]:[];m.forEach(P=>{i&&P.addEventListener("scroll",t,{passive:!0}),o&&P.addEventListener("resize",t)});const v=p&&u?Y5(p,t):null;let x=-1,_=null;l&&(_=new ResizeObserver(P=>{let[V]=P;V&&V.target===p&&_&&(_.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var U;(U=_)==null||U.observe(e)})),t()}),p&&!d&&_.observe(p),_.observe(e));let S,I=d?Oa(n):null;d&&R();function R(){const P=Oa(n);I&&!_R(I,P)&&t(),I=P,S=requestAnimationFrame(R)}return t(),()=>{var P;m.forEach(V=>{i&&V.removeEventListener("scroll",t),o&&V.removeEventListener("resize",t)}),v==null||v(),(P=_)==null||P.disconnect(),_=null,d&&cancelAnimationFrame(S)}}const X5=P5,Z5=k5,e3=R5,t3=D5,n3=C5,t1=S5,r3=N5,i3=(n,e,t)=>{const r=new Map,i={platform:Q5,...t},o={...i.platform,_c:r};return I5(n,e,{...i,platform:o})};var sh=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Dh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Dh(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const o=i[r];if(!(o==="_owner"&&n.$$typeof)&&!Dh(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function wR(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function n1(n,e){const t=wR(n);return Math.round(e*t)/t}function Og(n){const e=T.useRef(n);return sh(()=>{e.current=n}),e}function s3(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:p}=n,[m,v]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,_]=T.useState(r);Dh(x,r)||_(r);const[S,I]=T.useState(null),[R,P]=T.useState(null),V=T.useCallback(se=>{se!==Y.current&&(Y.current=se,I(se))},[]),U=T.useCallback(se=>{se!==D.current&&(D.current=se,P(se))},[]),G=o||S,O=l||R,Y=T.useRef(null),D=T.useRef(null),C=T.useRef(m),k=d!=null,M=Og(d),B=Og(i),F=Og(p),L=T.useCallback(()=>{if(!Y.current||!D.current)return;const se={placement:e,strategy:t,middleware:x};B.current&&(se.platform=B.current),i3(Y.current,D.current,se).then(X=>{const le={...X,isPositioned:F.current!==!1};Ce.current&&!Dh(C.current,le)&&(C.current=le,Kc.flushSync(()=>{v(le)}))})},[x,e,t,B,F]);sh(()=>{p===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,v(se=>({...se,isPositioned:!1})))},[p]);const Ce=T.useRef(!1);sh(()=>(Ce.current=!0,()=>{Ce.current=!1}),[]),sh(()=>{if(G&&(Y.current=G),O&&(D.current=O),G&&O){if(M.current)return M.current(G,O,L);L()}},[G,O,L,M,k]);const Ve=T.useMemo(()=>({reference:Y,floating:D,setReference:V,setFloating:U}),[V,U]),Pe=T.useMemo(()=>({reference:G,floating:O}),[G,O]),be=T.useMemo(()=>{const se={position:t,left:0,top:0};if(!Pe.floating)return se;const X=n1(Pe.floating,m.x),le=n1(Pe.floating,m.y);return u?{...se,transform:"translate("+X+"px, "+le+"px)",...wR(Pe.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:X,top:le}},[t,u,Pe.floating,m.x,m.y]);return T.useMemo(()=>({...m,update:L,refs:Ve,elements:Pe,floatingStyles:be}),[m,L,Ve,Pe,be])}const o3=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?t1({element:r.current,padding:i}).fn(t):{}:r?t1({element:r,padding:i}).fn(t):{}}}},a3=(n,e)=>({...X5(n),options:[n,e]}),l3=(n,e)=>({...Z5(n),options:[n,e]}),u3=(n,e)=>({...r3(n),options:[n,e]}),c3=(n,e)=>({...e3(n),options:[n,e]}),d3=(n,e)=>({...t3(n),options:[n,e]}),f3=(n,e)=>({...n3(n),options:[n,e]}),h3=(n,e)=>({...o3(n),options:[n,e]});var p3="Arrow",ER=T.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...o}=n;return y.jsx(Kt.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});ER.displayName=p3;var m3=ER;function g3(n){const[e,t]=T.useState(void 0);return ba(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,u;if("borderBoxSize"in o){const d=o.borderBoxSize,p=Array.isArray(d)?d[0]:d;l=p.inlineSize,u=p.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var e_="Popper",[xR,Sp]=Fo(e_),[y3,TR]=xR(e_),bR=n=>{const{__scopePopper:e,children:t}=n,[r,i]=T.useState(null);return y.jsx(y3,{scope:e,anchor:r,onAnchorChange:i,children:t})};bR.displayName=e_;var IR="PopperAnchor",SR=T.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,o=TR(IR,t),l=T.useRef(null),u=Yt(e,l);return T.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:y.jsx(Kt.div,{...i,ref:u})});SR.displayName=IR;var t_="PopperContent",[v3,_3]=xR(t_),RR=T.forwardRef((n,e)=>{var Se,Ye,Me,rt,qt,Qn;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:x=!1,updatePositionStrategy:_="optimized",onPlaced:S,...I}=n,R=TR(t_,t),[P,V]=T.useState(null),U=Yt(e,Rt=>V(Rt)),[G,O]=T.useState(null),Y=g3(G),D=(Y==null?void 0:Y.width)??0,C=(Y==null?void 0:Y.height)??0,k=r+(o!=="center"?"-"+o:""),M=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},B=Array.isArray(p)?p:[p],F=B.length>0,L={padding:M,boundary:B.filter(E3),altBoundary:F},{refs:Ce,floatingStyles:Ve,placement:Pe,isPositioned:be,middlewareData:se}=s3({strategy:"fixed",placement:k,whileElementsMounted:(...Rt)=>J5(...Rt,{animationFrame:_==="always"}),elements:{reference:R.anchor},middleware:[a3({mainAxis:i+C,alignmentAxis:l}),d&&l3({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?u3():void 0,...L}),d&&c3({...L}),d3({...L,apply:({elements:Rt,rects:Yn,availableWidth:Pr,availableHeight:mr})=>{const{width:Zr,height:kr}=Yn.reference,Un=Rt.floating.style;Un.setProperty("--radix-popper-available-width",`${Pr}px`),Un.setProperty("--radix-popper-available-height",`${mr}px`),Un.setProperty("--radix-popper-anchor-width",`${Zr}px`),Un.setProperty("--radix-popper-anchor-height",`${kr}px`)}}),G&&h3({element:G,padding:u}),x3({arrowWidth:D,arrowHeight:C}),x&&f3({strategy:"referenceHidden",...L})]}),[X,le]=PR(Pe),H=bi(S);ba(()=>{be&&(H==null||H())},[be,H]);const Z=(Se=se.arrow)==null?void 0:Se.x,de=(Ye=se.arrow)==null?void 0:Ye.y,Ee=((Me=se.arrow)==null?void 0:Me.centerOffset)!==0,[Ie,ze]=T.useState();return ba(()=>{P&&ze(window.getComputedStyle(P).zIndex)},[P]),y.jsx("div",{ref:Ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ve,transform:be?Ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ie,"--radix-popper-transform-origin":[(rt=se.transformOrigin)==null?void 0:rt.x,(qt=se.transformOrigin)==null?void 0:qt.y].join(" "),...((Qn=se.hide)==null?void 0:Qn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:y.jsx(v3,{scope:t,placedSide:X,onArrowChange:O,arrowX:Z,arrowY:de,shouldHideArrow:Ee,children:y.jsx(Kt.div,{"data-side":X,"data-align":le,...I,ref:U,style:{...I.style,animation:be?void 0:"none"}})})})});RR.displayName=t_;var CR="PopperArrow",w3={top:"bottom",right:"left",bottom:"top",left:"right"},AR=T.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,o=_3(CR,r),l=w3[o.placedSide];return y.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:y.jsx(m3,{...i,ref:t,style:{...i.style,display:"block"}})})});AR.displayName=CR;function E3(n){return n!==null}var x3=n=>({name:"transformOrigin",options:n,fn(e){var R,P,V;const{placement:t,rects:r,middlewareData:i}=e,l=((R=i.arrow)==null?void 0:R.centerOffset)!==0,u=l?0:n.arrowWidth,d=l?0:n.arrowHeight,[p,m]=PR(t),v={start:"0%",center:"50%",end:"100%"}[m],x=(((P=i.arrow)==null?void 0:P.x)??0)+u/2,_=(((V=i.arrow)==null?void 0:V.y)??0)+d/2;let S="",I="";return p==="bottom"?(S=l?v:`${x}px`,I=`${-d}px`):p==="top"?(S=l?v:`${x}px`,I=`${r.floating.height+d}px`):p==="right"?(S=`${-d}px`,I=l?v:`${_}px`):p==="left"&&(S=`${r.floating.width+d}px`,I=l?v:`${_}px`),{data:{x:S,y:I}}}});function PR(n){const[e,t="center"]=n.split("-");return[e,t]}var kR=bR,n_=SR,NR=RR,DR=AR,Mg="rovingFocusGroup.onEntryFocus",T3={bubbles:!1,cancelable:!0},Rp="RovingFocusGroup",[by,OR,b3]=uR(Rp),[I3,MR]=Fo(Rp,[b3]),[S3,R3]=I3(Rp),LR=T.forwardRef((n,e)=>y.jsx(by.Provider,{scope:n.__scopeRovingFocusGroup,children:y.jsx(by.Slot,{scope:n.__scopeRovingFocusGroup,children:y.jsx(C3,{...n,ref:e})})}));LR.displayName=Rp;var C3=T.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...v}=n,x=T.useRef(null),_=Yt(e,x),S=cR(o),[I=null,R]=Zh({prop:l,defaultProp:u,onChange:d}),[P,V]=T.useState(!1),U=bi(p),G=OR(t),O=T.useRef(!1),[Y,D]=T.useState(0);return T.useEffect(()=>{const C=x.current;if(C)return C.addEventListener(Mg,U),()=>C.removeEventListener(Mg,U)},[U]),y.jsx(S3,{scope:t,orientation:r,dir:S,loop:i,currentTabStopId:I,onItemFocus:T.useCallback(C=>R(C),[R]),onItemShiftTab:T.useCallback(()=>V(!0),[]),onFocusableItemAdd:T.useCallback(()=>D(C=>C+1),[]),onFocusableItemRemove:T.useCallback(()=>D(C=>C-1),[]),children:y.jsx(Kt.div,{tabIndex:P||Y===0?-1:0,"data-orientation":r,...v,ref:_,style:{outline:"none",...n.style},onMouseDown:Ke(n.onMouseDown,()=>{O.current=!0}),onFocus:Ke(n.onFocus,C=>{const k=!O.current;if(C.target===C.currentTarget&&k&&!P){const M=new CustomEvent(Mg,T3);if(C.currentTarget.dispatchEvent(M),!M.defaultPrevented){const B=G().filter(Pe=>Pe.focusable),F=B.find(Pe=>Pe.active),L=B.find(Pe=>Pe.id===I),Ve=[F,L,...B].filter(Boolean).map(Pe=>Pe.ref.current);FR(Ve,m)}}O.current=!1}),onBlur:Ke(n.onBlur,()=>V(!1))})})}),VR="RovingFocusGroupItem",jR=T.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:o,...l}=n,u=xa(),d=o||u,p=R3(VR,t),m=p.currentTabStopId===d,v=OR(t),{onFocusableItemAdd:x,onFocusableItemRemove:_}=p;return T.useEffect(()=>{if(r)return x(),()=>_()},[r,x,_]),y.jsx(by.ItemSlot,{scope:t,id:d,focusable:r,active:i,children:y.jsx(Kt.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...l,ref:e,onMouseDown:Ke(n.onMouseDown,S=>{r?p.onItemFocus(d):S.preventDefault()}),onFocus:Ke(n.onFocus,()=>p.onItemFocus(d)),onKeyDown:Ke(n.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const I=k3(S,p.orientation,p.dir);if(I!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let P=v().filter(V=>V.focusable).map(V=>V.ref.current);if(I==="last")P.reverse();else if(I==="prev"||I==="next"){I==="prev"&&P.reverse();const V=P.indexOf(S.currentTarget);P=p.loop?N3(P,V+1):P.slice(V+1)}setTimeout(()=>FR(P))}})})})});jR.displayName=VR;var A3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function P3(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function k3(n,e,t){const r=P3(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return A3[r]}function FR(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function N3(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var D3=LR,O3=jR,Iy=["Enter"," "],M3=["ArrowDown","PageUp","Home"],UR=["ArrowUp","PageDown","End"],L3=[...M3,...UR],V3={ltr:[...Iy,"ArrowRight"],rtl:[...Iy,"ArrowLeft"]},j3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},od="Menu",[Fc,F3,U3]=uR(od),[Ha,BR]=Fo(od,[U3,Sp,MR]),Cp=Sp(),zR=MR(),[B3,Ga]=Ha(od),[z3,ad]=Ha(od),$R=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:o,modal:l=!0}=n,u=Cp(e),[d,p]=T.useState(null),m=T.useRef(!1),v=bi(o),x=cR(i);return T.useEffect(()=>{const _=()=>{m.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>m.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),y.jsx(kR,{...u,children:y.jsx(B3,{scope:e,open:t,onOpenChange:v,content:d,onContentChange:p,children:y.jsx(z3,{scope:e,onClose:T.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:m,dir:x,modal:l,children:r})})})};$R.displayName=od;var $3="MenuAnchor",r_=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=Cp(t);return y.jsx(n_,{...i,...r,ref:e})});r_.displayName=$3;var i_="MenuPortal",[H3,HR]=Ha(i_,{forceMount:void 0}),GR=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,o=Ga(i_,e);return y.jsx(H3,{scope:e,forceMount:t,children:y.jsx(Zi,{present:t||o.open,children:y.jsx(np,{asChild:!0,container:i,children:r})})})};GR.displayName=i_;var Qr="MenuContent",[G3,s_]=Ha(Qr),WR=T.forwardRef((n,e)=>{const t=HR(Qr,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,o=Ga(Qr,n.__scopeMenu),l=ad(Qr,n.__scopeMenu);return y.jsx(Fc.Provider,{scope:n.__scopeMenu,children:y.jsx(Zi,{present:r||o.open,children:y.jsx(Fc.Slot,{scope:n.__scopeMenu,children:l.modal?y.jsx(W3,{...i,ref:e}):y.jsx(K3,{...i,ref:e})})})})}),W3=T.forwardRef((n,e)=>{const t=Ga(Qr,n.__scopeMenu),r=T.useRef(null),i=Yt(e,r);return T.useEffect(()=>{const o=r.current;if(o)return qy(o)},[]),y.jsx(o_,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ke(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),K3=T.forwardRef((n,e)=>{const t=Ga(Qr,n.__scopeMenu);return y.jsx(o_,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),o_=T.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:p,onPointerDownOutside:m,onFocusOutside:v,onInteractOutside:x,onDismiss:_,disableOutsideScroll:S,...I}=n,R=Ga(Qr,t),P=ad(Qr,t),V=Cp(t),U=zR(t),G=F3(t),[O,Y]=T.useState(null),D=T.useRef(null),C=Yt(e,D,R.onContentChange),k=T.useRef(0),M=T.useRef(""),B=T.useRef(0),F=T.useRef(null),L=T.useRef("right"),Ce=T.useRef(0),Ve=S?ip:T.Fragment,Pe=S?{as:Ao,allowPinchZoom:!0}:void 0,be=X=>{var Se,Ye;const le=M.current+X,H=G().filter(Me=>!Me.disabled),Z=document.activeElement,de=(Se=H.find(Me=>Me.ref.current===Z))==null?void 0:Se.textValue,Ee=H.map(Me=>Me.textValue),Ie=s6(Ee,le,de),ze=(Ye=H.find(Me=>Me.textValue===Ie))==null?void 0:Ye.ref.current;(function Me(rt){M.current=rt,window.clearTimeout(k.current),rt!==""&&(k.current=window.setTimeout(()=>Me(""),1e3))})(le),ze&&setTimeout(()=>ze.focus())};T.useEffect(()=>()=>window.clearTimeout(k.current),[]),Ky();const se=T.useCallback(X=>{var H,Z;return L.current===((H=F.current)==null?void 0:H.side)&&a6(X,(Z=F.current)==null?void 0:Z.area)},[]);return y.jsx(G3,{scope:t,searchRef:M,onItemEnter:T.useCallback(X=>{se(X)&&X.preventDefault()},[se]),onItemLeave:T.useCallback(X=>{var le;se(X)||((le=D.current)==null||le.focus(),Y(null))},[se]),onTriggerLeave:T.useCallback(X=>{se(X)&&X.preventDefault()},[se]),pointerGraceTimerRef:B,onPointerGraceIntentChange:T.useCallback(X=>{F.current=X},[]),children:y.jsx(Ve,{...Pe,children:y.jsx(tp,{asChild:!0,trapped:i,onMountAutoFocus:Ke(o,X=>{var le;X.preventDefault(),(le=D.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:y.jsx(ep,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:m,onFocusOutside:v,onInteractOutside:x,onDismiss:_,children:y.jsx(D3,{asChild:!0,...U,dir:P.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:Y,onEntryFocus:Ke(d,X=>{P.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(NR,{role:"menu","aria-orientation":"vertical","data-state":lC(R.open),"data-radix-menu-content":"",dir:P.dir,...V,...I,ref:C,style:{outline:"none",...I.style},onKeyDown:Ke(I.onKeyDown,X=>{const H=X.target.closest("[data-radix-menu-content]")===X.currentTarget,Z=X.ctrlKey||X.altKey||X.metaKey,de=X.key.length===1;H&&(X.key==="Tab"&&X.preventDefault(),!Z&&de&&be(X.key));const Ee=D.current;if(X.target!==Ee||!L3.includes(X.key))return;X.preventDefault();const ze=G().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);UR.includes(X.key)&&ze.reverse(),r6(ze)}),onBlur:Ke(n.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(k.current),M.current="")}),onPointerMove:Ke(n.onPointerMove,Uc(X=>{const le=X.target,H=Ce.current!==X.clientX;if(X.currentTarget.contains(le)&&H){const Z=X.clientX>Ce.current?"right":"left";L.current=Z,Ce.current=X.clientX}}))})})})})})})});WR.displayName=Qr;var q3="MenuGroup",a_=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return y.jsx(Kt.div,{role:"group",...r,ref:e})});a_.displayName=q3;var Q3="MenuLabel",KR=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return y.jsx(Kt.div,{...r,ref:e})});KR.displayName=Q3;var Oh="MenuItem",r1="menu.itemSelect",Ap=T.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,o=T.useRef(null),l=ad(Oh,n.__scopeMenu),u=s_(Oh,n.__scopeMenu),d=Yt(e,o),p=T.useRef(!1),m=()=>{const v=o.current;if(!t&&v){const x=new CustomEvent(r1,{bubbles:!0,cancelable:!0});v.addEventListener(r1,_=>r==null?void 0:r(_),{once:!0}),OT(v,x),x.defaultPrevented?p.current=!1:l.onClose()}};return y.jsx(qR,{...i,ref:d,disabled:t,onClick:Ke(n.onClick,m),onPointerDown:v=>{var x;(x=n.onPointerDown)==null||x.call(n,v),p.current=!0},onPointerUp:Ke(n.onPointerUp,v=>{var x;p.current||(x=v.currentTarget)==null||x.click()}),onKeyDown:Ke(n.onKeyDown,v=>{const x=u.searchRef.current!=="";t||x&&v.key===" "||Iy.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Ap.displayName=Oh;var qR=T.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...o}=n,l=s_(Oh,t),u=zR(t),d=T.useRef(null),p=Yt(e,d),[m,v]=T.useState(!1),[x,_]=T.useState("");return T.useEffect(()=>{const S=d.current;S&&_((S.textContent??"").trim())},[o.children]),y.jsx(Fc.ItemSlot,{scope:t,disabled:r,textValue:i??x,children:y.jsx(O3,{asChild:!0,...u,focusable:!r,children:y.jsx(Kt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:p,onPointerMove:Ke(n.onPointerMove,Uc(S=>{r?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(n.onPointerLeave,Uc(S=>l.onItemLeave(S))),onFocus:Ke(n.onFocus,()=>v(!0)),onBlur:Ke(n.onBlur,()=>v(!1))})})})}),Y3="MenuCheckboxItem",QR=T.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return y.jsx(eC,{scope:n.__scopeMenu,checked:t,children:y.jsx(Ap,{role:"menuitemcheckbox","aria-checked":Mh(t)?"mixed":t,...i,ref:e,"data-state":u_(t),onSelect:Ke(i.onSelect,()=>r==null?void 0:r(Mh(t)?!0:!t),{checkForDefaultPrevented:!1})})})});QR.displayName=Y3;var YR="MenuRadioGroup",[J3,X3]=Ha(YR,{value:void 0,onValueChange:()=>{}}),JR=T.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,o=bi(r);return y.jsx(J3,{scope:n.__scopeMenu,value:t,onValueChange:o,children:y.jsx(a_,{...i,ref:e})})});JR.displayName=YR;var XR="MenuRadioItem",ZR=T.forwardRef((n,e)=>{const{value:t,...r}=n,i=X3(XR,n.__scopeMenu),o=t===i.value;return y.jsx(eC,{scope:n.__scopeMenu,checked:o,children:y.jsx(Ap,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":u_(o),onSelect:Ke(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,t)},{checkForDefaultPrevented:!1})})})});ZR.displayName=XR;var l_="MenuItemIndicator",[eC,Z3]=Ha(l_,{checked:!1}),tC=T.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,o=Z3(l_,t);return y.jsx(Zi,{present:r||Mh(o.checked)||o.checked===!0,children:y.jsx(Kt.span,{...i,ref:e,"data-state":u_(o.checked)})})});tC.displayName=l_;var e6="MenuSeparator",nC=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return y.jsx(Kt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});nC.displayName=e6;var t6="MenuArrow",rC=T.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=Cp(t);return y.jsx(DR,{...i,...r,ref:e})});rC.displayName=t6;var n6="MenuSub",[V$,iC]=Ha(n6),mc="MenuSubTrigger",sC=T.forwardRef((n,e)=>{const t=Ga(mc,n.__scopeMenu),r=ad(mc,n.__scopeMenu),i=iC(mc,n.__scopeMenu),o=s_(mc,n.__scopeMenu),l=T.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=o,p={__scopeMenu:n.__scopeMenu},m=T.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return T.useEffect(()=>m,[m]),T.useEffect(()=>{const v=u.current;return()=>{window.clearTimeout(v),d(null)}},[u,d]),y.jsx(r_,{asChild:!0,...p,children:y.jsx(qR,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":lC(t.open),...n,ref:Xh(e,i.onTriggerChange),onClick:v=>{var x;(x=n.onClick)==null||x.call(n,v),!(n.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ke(n.onPointerMove,Uc(v=>{o.onItemEnter(v),!v.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),m()},100))})),onPointerLeave:Ke(n.onPointerLeave,Uc(v=>{var _,S;m();const x=(_=t.content)==null?void 0:_.getBoundingClientRect();if(x){const I=(S=t.content)==null?void 0:S.dataset.side,R=I==="right",P=R?-5:5,V=x[R?"left":"right"],U=x[R?"right":"left"];o.onPointerGraceIntentChange({area:[{x:v.clientX+P,y:v.clientY},{x:V,y:x.top},{x:U,y:x.top},{x:U,y:x.bottom},{x:V,y:x.bottom}],side:I}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(v),v.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(n.onKeyDown,v=>{var _;const x=o.searchRef.current!=="";n.disabled||x&&v.key===" "||V3[r.dir].includes(v.key)&&(t.onOpenChange(!0),(_=t.content)==null||_.focus(),v.preventDefault())})})})});sC.displayName=mc;var oC="MenuSubContent",aC=T.forwardRef((n,e)=>{const t=HR(Qr,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,o=Ga(Qr,n.__scopeMenu),l=ad(Qr,n.__scopeMenu),u=iC(oC,n.__scopeMenu),d=T.useRef(null),p=Yt(e,d);return y.jsx(Fc.Provider,{scope:n.__scopeMenu,children:y.jsx(Zi,{present:r||o.open,children:y.jsx(Fc.Slot,{scope:n.__scopeMenu,children:y.jsx(o_,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var v;l.isUsingKeyboardRef.current&&((v=d.current)==null||v.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Ke(n.onFocusOutside,m=>{m.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ke(n.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:Ke(n.onKeyDown,m=>{var _;const v=m.currentTarget.contains(m.target),x=j3[l.dir].includes(m.key);v&&x&&(o.onOpenChange(!1),(_=u.trigger)==null||_.focus(),m.preventDefault())})})})})})});aC.displayName=oC;function lC(n){return n?"open":"closed"}function Mh(n){return n==="indeterminate"}function u_(n){return Mh(n)?"indeterminate":n?"checked":"unchecked"}function r6(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function i6(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function s6(n,e,t){const i=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let l=i6(n,Math.max(o,0));i.length===1&&(l=l.filter(p=>p!==t));const d=l.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return d!==t?d:void 0}function o6(n,e){const{x:t,y:r}=n;let i=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const u=e[o].x,d=e[o].y,p=e[l].x,m=e[l].y;d>r!=m>r&&t<(p-u)*(r-d)/(m-d)+u&&(i=!i)}return i}function a6(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return o6(t,e)}function Uc(n){return e=>e.pointerType==="mouse"?n(e):void 0}var l6=$R,u6=r_,c6=GR,d6=WR,f6=a_,h6=KR,p6=Ap,m6=QR,g6=JR,y6=ZR,v6=tC,_6=nC,w6=rC,E6=sC,x6=aC,c_="DropdownMenu",[T6,j$]=Fo(c_,[BR]),qn=BR(),[b6,uC]=T6(c_),cC=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:o,onOpenChange:l,modal:u=!0}=n,d=qn(e),p=T.useRef(null),[m=!1,v]=Zh({prop:i,defaultProp:o,onChange:l});return y.jsx(b6,{scope:e,triggerId:xa(),triggerRef:p,contentId:xa(),open:m,onOpenChange:v,onOpenToggle:T.useCallback(()=>v(x=>!x),[v]),modal:u,children:y.jsx(l6,{...d,open:m,onOpenChange:v,dir:r,modal:u,children:t})})};cC.displayName=c_;var dC="DropdownMenuTrigger",fC=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,o=uC(dC,t),l=qn(t);return y.jsx(u6,{asChild:!0,...l,children:y.jsx(Kt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Xh(e,o.triggerRef),onPointerDown:Ke(n.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:Ke(n.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});fC.displayName=dC;var I6="DropdownMenuPortal",hC=n=>{const{__scopeDropdownMenu:e,...t}=n,r=qn(e);return y.jsx(c6,{...r,...t})};hC.displayName=I6;var pC="DropdownMenuContent",mC=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=uC(pC,t),o=qn(t),l=T.useRef(!1);return y.jsx(d6,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:e,onCloseAutoFocus:Ke(n.onCloseAutoFocus,u=>{var d;l.current||(d=i.triggerRef.current)==null||d.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Ke(n.onInteractOutside,u=>{const d=u.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0,m=d.button===2||p;(!i.modal||m)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mC.displayName=pC;var S6="DropdownMenuGroup",R6=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=qn(t);return y.jsx(f6,{...i,...r,ref:e})});R6.displayName=S6;var C6="DropdownMenuLabel",gC=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=qn(t);return y.jsx(h6,{...i,...r,ref:e})});gC.displayName=C6;var A6="DropdownMenuItem",yC=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=qn(t);return y.jsx(p6,{...i,...r,ref:e})});yC.displayName=A6;var P6="DropdownMenuCheckboxItem",vC=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=qn(t);return y.jsx(m6,{...i,...r,ref:e})});vC.displayName=P6;var k6="DropdownMenuRadioGroup",N6=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=qn(t);return y.jsx(g6,{...i,...r,ref:e})});N6.displayName=k6;var D6="DropdownMenuRadioItem",_C=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=qn(t);return y.jsx(y6,{...i,...r,ref:e})});_C.displayName=D6;var O6="DropdownMenuItemIndicator",wC=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=qn(t);return y.jsx(v6,{...i,...r,ref:e})});wC.displayName=O6;var M6="DropdownMenuSeparator",EC=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=qn(t);return y.jsx(_6,{...i,...r,ref:e})});EC.displayName=M6;var L6="DropdownMenuArrow",V6=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=qn(t);return y.jsx(w6,{...i,...r,ref:e})});V6.displayName=L6;var j6="DropdownMenuSubTrigger",xC=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=qn(t);return y.jsx(E6,{...i,...r,ref:e})});xC.displayName=j6;var F6="DropdownMenuSubContent",TC=T.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=qn(t);return y.jsx(x6,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TC.displayName=F6;var U6=cC,B6=fC,z6=hC,bC=mC,IC=gC,SC=yC,RC=vC,CC=_C,AC=wC,PC=EC,kC=xC,NC=TC;const $6=U6,H6=B6,G6=T.forwardRef(({className:n,inset:e,children:t,...r},i)=>y.jsxs(kC,{ref:i,className:Dt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",n),...r,children:[t,y.jsx(GD,{className:"ml-auto h-4 w-4"})]}));G6.displayName=kC.displayName;const W6=T.forwardRef(({className:n,...e},t)=>y.jsx(NC,{ref:t,className:Dt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));W6.displayName=NC.displayName;const DC=T.forwardRef(({className:n,sideOffset:e=4,...t},r)=>y.jsx(z6,{children:y.jsx(bC,{ref:r,sideOffset:e,className:Dt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));DC.displayName=bC.displayName;const gc=T.forwardRef(({className:n,inset:e,...t},r)=>y.jsx(SC,{ref:r,className:Dt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",n),...t}));gc.displayName=SC.displayName;const K6=T.forwardRef(({className:n,children:e,checked:t,...r},i)=>y.jsxs(RC,{ref:i,className:Dt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(AC,{children:y.jsx($D,{className:"h-4 w-4"})})}),e]}));K6.displayName=RC.displayName;const q6=T.forwardRef(({className:n,children:e,...t},r)=>y.jsxs(CC,{ref:r,className:Dt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(AC,{children:y.jsx(KD,{className:"h-2 w-2 fill-current"})})}),e]}));q6.displayName=CC.displayName;const Q6=T.forwardRef(({className:n,inset:e,...t},r)=>y.jsx(IC,{ref:r,className:Dt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));Q6.displayName=IC.displayName;const Y6=T.forwardRef(({className:n,...e},t)=>y.jsx(PC,{ref:t,className:Dt("-mx-1 my-1 h-px bg-muted",n),...e}));Y6.displayName=PC.displayName;const J6=({resume:n,refreshData:e})=>{const t=ou(),{user:r}=T.useContext(qc),[i,o]=T.useState(!1),[l,u]=T.useState(!1),d=async()=>{if(!(r!=null&&r.email)){console.error("User is not authenticated.");return}u(!0);try{const p=Xr(),m=Dv(p,"usersByEmail",r.email,"resumes"),v=ts(m,`resume-${n.resumeId}`);await e5(v),an.success("Resume Deleted!"),e()}catch(p){console.error("Error deleting resume:",p),an.error("Failed to delete resume.")}finally{u(!1),o(!1)}};return y.jsxs("div",{children:[y.jsx(Ea,{to:`/dashboard/${r.email}/${n.resumeId}/view`,children:y.jsx("div",{className:"p-14 bg-gradient-to-bl from-slate-200 to-slate-50  h-[280px] rounded-t-lg border-t-4",style:{borderColor:"rgb(62,39,35)"},children:y.jsx("div",{className:"flex items-center justify-center h-[180px]",children:y.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/5988/5988999.png",className:"hover:rotate-6 hover:scale-125 transition-all"})})})}),y.jsxs("div",{className:"border p-3 flex justify-between text-white rounded-b-lg shadow-lg",style:{background:"rgb(62,39,35)"},children:[y.jsxs("h2",{className:"text-sm",children:["Resume Id: ",n.resumeId]}),y.jsxs($6,{children:[y.jsx(H6,{children:y.jsx(QD,{className:"h-4 w-4 cursor-pointer"})}),y.jsxs(DC,{children:[y.jsx(gc,{onClick:()=>t(`/dashboard/${r.email}/${n.resumeId}/edit`),children:"Edit"}),y.jsx(gc,{onClick:()=>t(`/dashboard/${r.email}/${n.resumeId}/view`),children:"View"}),y.jsx(gc,{onClick:()=>t(`/dashboard/${r.email}/${n.resumeId}/view`),children:"Download"}),y.jsx(gc,{onClick:()=>o(!0),children:"Delete"})]})]}),y.jsx(p5,{open:i,children:y.jsxs(nR,{children:[y.jsxs(rR,{children:[y.jsx(sR,{children:"Are you absolutely sure?"}),y.jsx(oR,{children:"This action cannot be undone. This will permanently delete your resume and remove your data from our servers."})]}),y.jsxs(iR,{children:[y.jsx(lR,{onClick:()=>o(!1),children:"Cancel"}),y.jsx(aR,{onClick:d,disabled:l,children:l?y.jsx(Ti,{className:"animate-spin"}):"Delete"})]})]})})]})]})};var X6="firebase",Z6="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(X6,Z6,"app");function OC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eU=OC,MC=new Yc("auth","Firebase",OC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new iv("@firebase/auth");function tU(n,...e){Lh.logLevel<=it.WARN&&Lh.warn(`Auth (${Fa}): ${n}`,...e)}function oh(n,...e){Lh.logLevel<=it.ERROR&&Lh.error(`Auth (${Fa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(n,...e){throw f_(n,...e)}function Ei(n,...e){return f_(n,...e)}function d_(n,e,t){const r=Object.assign(Object.assign({},eU()),{[e]:t});return new Yc("auth","Firebase",r).create(e,{appName:n.name})}function Cs(n){return d_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nU(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yr(n,"argument-error"),d_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function f_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return MC.create(n,...e)}function Ge(n,e,...t){if(!n)throw f_(e,...t)}function Is(n){const e="INTERNAL ASSERTION FAILED: "+n;throw oh(e),new Error(e)}function Ms(n,e){n||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function rU(){return i1()==="http:"||i1()==="https:"}function i1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rU()||fL()||"connection"in navigator)?navigator.onLine:!0}function sU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ms(t>e,"Short delay should be less than long delay!"),this.isMobile=uL()||hL()}get(){return iU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(n,e){Ms(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=new ld(3e4,6e4);function $o(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ho(n,e,t,r,i={}){return VC(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Jc(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},o);return dL()||(p.referrerPolicy="no-referrer"),LC.fetch()(jC(n,n.config.apiHost,t,u),p)})}async function VC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},oU),e);try{const i=new uU(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Bf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,p]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bf(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Bf(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Bf(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw d_(n,m,p);Yr(n,m)}}catch(i){if(i instanceof es)throw i;Yr(n,"network-request-failed",{message:String(i)})}}async function ud(n,e,t,r,i={}){const o=await Ho(n,e,t,r,i);return"mfaPendingCredential"in o&&Yr(n,"multi-factor-auth-required",{_serverResponse:o}),o}function jC(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?h_(n.config,i):`${n.config.apiScheme}://${i}`}function lU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),aU.get())})}}function Bf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ei(n,e,r);return i.customData._tokenResponse=t,i}function s1(n){return n!==void 0&&n.enterprise!==void 0}class cU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dU(n,e){return Ho(n,"GET","/v2/recaptchaConfig",$o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(n,e){return Ho(n,"POST","/v1/accounts:delete",e)}async function FC(n,e){return Ho(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hU(n,e=!1){const t=pr(n),r=await t.getIdToken(e),i=p_(r);Ge(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:xc(Lg(i.auth_time)),issuedAtTime:xc(Lg(i.iat)),expirationTime:xc(Lg(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Lg(n){return Number(n)*1e3}function p_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const i=yb(t);return i?JSON.parse(i):(oh("Failed to decode base64 JWT payload"),null)}catch(i){return oh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function o1(n){const e=p_(n);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof es&&pU(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function pU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Bc(n,FC(t,{idToken:r}));Ge(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?UC(o.providerUserInfo):[],u=yU(n.providerData,l),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ry(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function gU(n){const e=pr(n);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UC(n){return n.map(e=>{var{providerId:t}=e,r=Qc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(n,e){const t=await VC(n,{},async()=>{const r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=jC(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",LC.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function _U(n,e){return Ho(n,"POST","/v2/accounts:revokeToken",$o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const t=o1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await vU(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new Gl;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ge(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(n,e){Ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ss{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Qc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ry(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Bc(this,this.stsTokenManager.getToken(this.auth,e));return Ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hU(this,e)}reload(){return gU(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await Bc(this,fU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,u,d,p,m;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,x=(i=t.email)!==null&&i!==void 0?i:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=t.photoURL)!==null&&l!==void 0?l:void 0,I=(u=t.tenantId)!==null&&u!==void 0?u:void 0,R=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,P=(p=t.createdAt)!==null&&p!==void 0?p:void 0,V=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:U,emailVerified:G,isAnonymous:O,providerData:Y,stsTokenManager:D}=t;Ge(U&&D,e,"internal-error");const C=Gl.fromJSON(this.name,D);Ge(typeof U=="string",e,"internal-error"),co(v,e.name),co(x,e.name),Ge(typeof G=="boolean",e,"internal-error"),Ge(typeof O=="boolean",e,"internal-error"),co(_,e.name),co(S,e.name),co(I,e.name),co(R,e.name),co(P,e.name),co(V,e.name);const k=new Ss({uid:U,auth:e,email:x,emailVerified:G,displayName:v,isAnonymous:O,photoURL:S,phoneNumber:_,tenantId:I,stsTokenManager:C,createdAt:P,lastLoginAt:V});return Y&&Array.isArray(Y)&&(k.providerData=Y.map(M=>Object.assign({},M))),R&&(k._redirectEventId=R),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new Gl;i.updateFromServerResponse(t);const o=new Ss({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?UC(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Gl;u.updateFromIdToken(r);const d=new Ss({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ry(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=new Map;function Rs(n){Ms(n instanceof Function,"Expected a class definition");let e=a1.get(n);return e?(Ms(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,a1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}BC.type="NONE";const l1=BC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n,e,t){return`firebase:${n}:${e}:${t}`}class Wl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ah(this.userKey,i.apiKey,o),this.fullPersistenceKey=ah("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Wl(Rs(l1),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Rs(l1);const l=ah(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const m=await p._get(l);if(m){const v=Ss._fromJSON(e,m);p!==o&&(u=v),o=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Wl(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Wl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KC(e))return"Blackberry";if(qC(e))return"Webos";if($C(e))return"Safari";if((e.includes("chrome/")||HC(e))&&!e.includes("edge/"))return"Chrome";if(WC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zC(n=ln()){return/firefox\//i.test(n)}function $C(n=ln()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HC(n=ln()){return/crios\//i.test(n)}function GC(n=ln()){return/iemobile/i.test(n)}function WC(n=ln()){return/android/i.test(n)}function KC(n=ln()){return/blackberry/i.test(n)}function qC(n=ln()){return/webos/i.test(n)}function m_(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wU(n=ln()){var e;return m_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EU(){return pL()&&document.documentMode===10}function QC(n=ln()){return m_(n)||WC(n)||qC(n)||KC(n)||/windows phone/i.test(n)||GC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(n,e=[]){let t;switch(n){case"Browser":t=u1(ln());break;case"Worker":t=`${u1(ln())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(n,e={}){return Ho(n,"GET","/v2/passwordPolicy",$o(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=6;class IU{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:bU,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c1(this),this.idTokenSubscription=new c1(this),this.beforeStateQueue=new xU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rs(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Wl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await FC(this,{idToken:e}),r=await Ss._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_i(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_i(this.app))return Promise.reject(Cs(this));const t=e?pr(e):null;return t&&Ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _i(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TU(this),t=new IU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await _U(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rs(e)||this._popupRedirectResolver;Ge(t,this,"argument-error"),this.redirectPersistenceManager=await Wl.create(this,[Rs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&tU(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Go(n){return pr(n)}class c1{constructor(e){this.auth=e,this.observer=null,this.addObserver=wL(t=>this.observer=t)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RU(n){Pp=n}function JC(n){return Pp.loadJS(n)}function CU(){return Pp.recaptchaEnterpriseScript}function AU(){return Pp.gapiScript}function PU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class kU{constructor(){this.enterprise=new NU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class NU{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const DU="recaptcha-enterprise",XC="NO_RECAPTCHA";class OU{constructor(e){this.type=DU,this.auth=Go(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{dU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new cU(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(d=>{u(d)})})}function i(o,l,u){const d=window.grecaptcha;s1(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(XC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kU().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!t&&s1(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=CU();d.length!==0&&(d+=u),JC(d).then(()=>{i(u,o,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function d1(n,e,t,r=!1,i=!1){const o=new OU(n);let l;if(i)l=XC;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Cy(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await d1(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await d1(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(n,e){const t=Xc(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Ic(o,e??{}))return i;Yr(i,"already-initialized")}return t.initialize({options:e})}function LU(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Rs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VU(n,e,t){const r=Go(n);Ge(r._canInitEmulator,r,"emulator-config-failed"),Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=ZC(e),{host:l,port:u}=jU(e),d=u===null?"":`:${u}`;r.config.emulator={url:`${o}//${l}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),FU()}function ZC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jU(n){const e=ZC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:f1(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:f1(l)}}}function f1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function FU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,t){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function UU(n,e){return Ho(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU(n,e){return ud(n,"POST","/v1/accounts:signInWithPassword",$o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zU(n,e){return ud(n,"POST","/v1/accounts:signInWithEmailLink",$o(n,e))}async function $U(n,e){return ud(n,"POST","/v1/accounts:signInWithEmailLink",$o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends g_{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new zc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new zc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cy(e,t,"signInWithPassword",BU);case"emailLink":return zU(e,{email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cy(e,r,"signUpPassword",UU);case"emailLink":return $U(e,{idToken:t,email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(n,e){return ud(n,"POST","/v1/accounts:signInWithIdp",$o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="http://localhost";class Ma extends g_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Qc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ma(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Kl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Kl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kl(e,t)}buildRequest(){const e={requestUri:HU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WU(n){const e=lc(uc(n)).link,t=e?lc(uc(e)).deep_link_id:null,r=lc(uc(n)).deep_link_id;return(r?lc(uc(r)).link:null)||r||t||e||n}class y_{constructor(e){var t,r,i,o,l,u;const d=lc(uc(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,v=GU((i=d.mode)!==null&&i!==void 0?i:null);Ge(p&&m&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=WU(e);try{return new y_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.providerId=mu.PROVIDER_ID}static credential(e,t){return zc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=y_.parseLink(t);return Ge(r,"argument-error"),zc._fromEmailAndCode(e,r.code,r.tenantId)}}mu.PROVIDER_ID="password";mu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends v_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends cd{constructor(){super("facebook.com")}static credential(e){return Ma._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.FACEBOOK_SIGN_IN_METHOD="facebook.com";yo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends cd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ma._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ts.credential(t,r)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends cd{constructor(){super("github.com")}static credential(e){return Ma._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.GITHUB_SIGN_IN_METHOD="github.com";vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends cd{constructor(){super("twitter.com")}static credential(e,t){return Ma._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return _o.credential(t,r)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(n,e){return ud(n,"POST","/v1/accounts:signUp",$o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Ss._fromIdTokenResponse(e,r,i),l=h1(r);return new La({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=h1(r);return new La({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function h1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends es{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new jh(e,t,r,i)}}function eA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(n,o,e,r):o})}async function qU(n,e,t=!1){const r=await Bc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return La._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(n,e,t=!1){const{auth:r}=n;if(_i(r.app))return Promise.reject(Cs(r));const i="reauthenticate";try{const o=await Bc(n,eA(r,i,e,n),t);Ge(o.idToken,r,"internal-error");const l=p_(o.idToken);Ge(l,r,"internal-error");const{sub:u}=l;return Ge(n.uid===u,r,"user-mismatch"),La._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Yr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(n,e,t=!1){if(_i(n.app))return Promise.reject(Cs(n));const r="signIn",i=await eA(n,r,e),o=await La._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function YU(n,e){return tA(Go(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(n){const e=Go(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JU(n,e,t){if(_i(n.app))return Promise.reject(Cs(n));const r=Go(n),l=await Cy(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KU).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&nA(n),d}),u=await La._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function XU(n,e,t){return _i(n.app)?Promise.reject(Cs(n)):YU(pr(n),mu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nA(n),r})}function ZU(n,e,t,r){return pr(n).onIdTokenChanged(e,t,r)}function e9(n,e,t){return pr(n).beforeAuthStateChanged(e,t)}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=1e3,n9=10;class iA extends rA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);EU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,n9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},t9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iA.type="LOCAL";const r9=iA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA extends rA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}sA.type="SESSION";const oA=sA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new kp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async p=>p(t.origin,o)),d=await i9(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const p=__("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const x=v;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(x.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function o9(n){Qi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function a9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l9(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function u9(){return aA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="firebaseLocalStorageDb",c9=1,Uh="firebaseLocalStorage",uA="fbase_key";class dd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Np(n,e){return n.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function d9(){const n=indexedDB.deleteDatabase(lA);return new dd(n).toPromise()}function Ay(){const n=indexedDB.open(lA,c9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Uh,{keyPath:uA})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Uh)?e(r):(r.close(),await d9(),e(await Ay()))})})}async function p1(n,e,t){const r=Np(n,!0).put({[uA]:e,value:t});return new dd(r).toPromise()}async function f9(n,e){const t=Np(n,!1).get(e),r=await new dd(t).toPromise();return r===void 0?null:r.value}function m1(n,e){const t=Np(n,!0).delete(e);return new dd(t).toPromise()}const h9=800,p9=3;class cA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ay(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>p9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kp._getInstance(u9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await a9(),!this.activeServiceWorker)return;this.sender=new s9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||l9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ay();return await p1(e,Fh,"1"),await m1(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>p1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>f9(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>m1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Np(i,!1).getAll();return new dd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cA.type="LOCAL";const m9=cA;new ld(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(n,e){return e?Rs(e):(Ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_ extends g_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Kl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function g9(n){return tA(n.auth,new w_(n),n.bypassAuthState)}function y9(n){const{auth:e,user:t}=n;return Ge(t,e,"internal-error"),QU(t,new w_(n),n.bypassAuthState)}async function v9(n){const{auth:e,user:t}=n;return Ge(t,e,"internal-error"),qU(t,new w_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g9;case"linkViaPopup":case"linkViaRedirect":return v9;case"reauthViaPopup":case"reauthViaRedirect":return y9;default:Yr(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=new ld(2e3,1e4);async function w9(n,e,t){if(_i(n.app))return Promise.reject(Ei(n,"operation-not-supported-in-this-environment"));const r=Go(n);nU(n,e,v_);const i=dA(r,t);return new wa(r,"signInViaPopup",e,i).executeNotNull()}class wa extends fA{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=__();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_9.get())};e()}}wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9="pendingRedirect",lh=new Map;class x9 extends fA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const r=await T9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function T9(n,e){const t=S9(e),r=I9(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function b9(n,e){lh.set(n._key(),e)}function I9(n){return Rs(n._redirectPersistence)}function S9(n){return ah(E9,n.config.apiKey,n.name)}async function R9(n,e,t=!1){if(_i(n.app))return Promise.reject(Cs(n));const r=Go(n),i=dA(r,e),l=await new x9(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=10*60*1e3;class A9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P9(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!hA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ei(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C9&&this.cachedEventUids.clear(),this.cachedEventUids.has(g1(e))}saveEventToCache(e){this.cachedEventUids.add(g1(e)),this.lastProcessedEventTime=Date.now()}}function g1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function P9(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(n,e={}){return Ho(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D9=/^https?/;async function O9(n){if(n.config.emulator)return;const{authorizedDomains:e}=await k9(n);for(const t of e)try{if(M9(t))return}catch{}Yr(n,"unauthorized-domain")}function M9(n){const e=Sy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!D9.test(t))return!1;if(N9.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=new ld(3e4,6e4);function y1(){const n=Qi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function V9(n){return new Promise((e,t)=>{var r,i,o;function l(){y1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y1(),t(Ei(n,"network-request-failed"))},timeout:L9.get()})}if(!((i=(r=Qi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Qi().gapi)===null||o===void 0)&&o.load)l();else{const u=PU("iframefcb");return Qi()[u]=()=>{gapi.load?l():t(Ei(n,"network-request-failed"))},JC(`${AU()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw uh=null,e})}let uh=null;function j9(n){return uh=uh||V9(n),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=new ld(5e3,15e3),U9="__/auth/iframe",B9="emulator/auth/iframe",z9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H9(n){const e=n.config;Ge(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?h_(e,B9):`https://${n.config.authDomain}/${U9}`,r={apiKey:e.apiKey,appName:n.name,v:Fa},i=$9.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Jc(r).slice(1)}`}async function G9(n){const e=await j9(n),t=Qi().gapi;return Ge(t,n,"internal-error"),e.open({where:document.body,url:H9(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Ei(n,"network-request-failed"),u=Qi().setTimeout(()=>{o(l)},F9.get());function d(){Qi().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K9=500,q9=600,Q9="_blank",Y9="http://localhost";class v1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function J9(n,e,t,r=K9,i=q9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},W9),{width:r.toString(),height:i.toString(),top:o,left:l}),p=ln().toLowerCase();t&&(u=HC(p)?Q9:t),zC(p)&&(e=e||Y9,d.scrollbars="yes");const m=Object.entries(d).reduce((x,[_,S])=>`${x}${_}=${S},`,"");if(wU(p)&&u!=="_self")return X9(e||"",u),new v1(null);const v=window.open(e||"",u,m);Ge(v,n,"popup-blocked");try{v.focus()}catch{}return new v1(v)}function X9(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9="__/auth/handler",eB="emulator/auth/handler",tB=encodeURIComponent("fac");async function _1(n,e,t,r,i,o){Ge(n.config.authDomain,n,"auth-domain-config-required"),Ge(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Fa,eventId:i};if(e instanceof v_){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",_L(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof cd){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),p=d?`#${tB}=${encodeURIComponent(d)}`:"";return`${nB(n)}?${Jc(u).slice(1)}${p}`}function nB({config:n}){return n.emulator?h_(n,eB):`https://${n.authDomain}/${Z9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="webStorageSupport";class rB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oA,this._completeRedirectFn=R9,this._overrideRedirectResult=b9}async _openPopup(e,t,r,i){var o;Ms((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await _1(e,t,r,Sy(),i);return J9(e,l,__())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await _1(e,t,r,Sy(),i);return o9(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ms(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await G9(e),r=new A9(e);return t.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vg,{type:Vg},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Vg];l!==void 0&&t(!!l),Yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=O9(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return QC()||$C()||m_()}}const iB=rB;var w1="@firebase/auth",E1="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aB(n){Sa(new Po("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ge(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YC(n)},p=new SU(r,i,o,d);return LU(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Sa(new Po("auth-internal",e=>{const t=Go(e.getProvider("auth").getImmediate());return(r=>new sB(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(w1,E1,oB(n)),Wi(w1,E1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=5*60,uB=Eb("authIdTokenMaxAge")||lB;let x1=null;const cB=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>uB)return;const i=t==null?void 0:t.token;x1!==i&&(x1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dB(n=ov()){const e=Xc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=MU(n,{popupRedirectResolver:iB,persistence:[m9,r9,oA]}),r=Eb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=cB(o.toString());e9(t,l,()=>l(t.currentUser)),ZU(t,u=>l(u))}}const i=vb("auth");return i&&VU(t,`http://${i}`),t}function fB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}RU({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Ei("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",fB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aB("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="firebasestorage.googleapis.com",hB="storageBucket",pB=2*60*1e3,mB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends es{constructor(e,t,r=0){super(jg(e),`Firebase Storage: ${t} (${jg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xi||(Xi={}));function jg(n){return"storage/"+n}function gB(){const n="An unknown error occurred, please check the error payload for server response.";return new rs(Xi.UNKNOWN,n)}function yB(){return new rs(Xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vB(){return new rs(Xi.CANCELED,"User canceled the upload/download.")}function _B(n){return new rs(Xi.INVALID_URL,"Invalid URL '"+n+"'.")}function wB(n){return new rs(Xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function T1(n){return new rs(Xi.INVALID_ARGUMENT,n)}function mA(){return new rs(Xi.APP_DELETED,"The Firebase app was deleted.")}function EB(n){return new rs(Xi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=wi.makeFromUrl(e,t)}catch{return new wi(e,"")}if(r.path==="")return r;throw wB(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function p(G){G.path_=decodeURIComponent(G.path)}const m="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",_=new RegExp(`^https?://${v}/${m}/b/${i}/o${x}`,"i"),S={bucket:1,path:3},I=t===pA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,R="([^?#]*)",P=new RegExp(`^https?://${I}/${i}/${R}`,"i"),U=[{regex:u,indices:d,postModify:o},{regex:_,indices:S,postModify:p},{regex:P,indices:{bucket:1,path:2},postModify:p}];for(let G=0;G<U.length;G++){const O=U[G],Y=O.regex.exec(e);if(Y){const D=Y[O.indices.bucket];let C=Y[O.indices.path];C||(C=""),r=new wi(D,C),O.postModify(r);break}}if(r==null)throw _B(e);return r}}class xB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(n,e,t){let r=1,i=null,o=null,l=!1,u=0;function d(){return u===2}let p=!1;function m(...R){p||(p=!0,e.apply(null,R))}function v(R){i=setTimeout(()=>{i=null,n(_,d())},R)}function x(){o&&clearTimeout(o)}function _(R,...P){if(p){x();return}if(R){x(),m.call(null,R,...P);return}if(d()||l){x(),m.call(null,R,...P);return}r<64&&(r*=2);let U;u===1?(u=2,U=0):U=(r+Math.random())*1e3,v(U)}let S=!1;function I(R){S||(S=!0,x(),!p&&(i!==null?(R||(u=2),clearTimeout(i),v(0)):R||(u=1)))}return v(0),o=setTimeout(()=>{l=!0,I(!0)},t),I}function bB(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(n){return n!==void 0}function b1(n,e,t,r){if(r<e)throw T1(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw T1(`Invalid value for '${n}'. Expected ${t} or less.`)}function SB(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Bh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Bh||(Bh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,t,r,i,o,l,u,d,p,m,v,x=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=v,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,S)=>{this.resolve_=_,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new zf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const d=u.loaded,p=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===Bh.NO_ERROR,d=o.getStatus();if(!u||RB(d,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===Bh.ABORT;r(!1,new zf(!1,null,m));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new zf(p,o))})},t=(r,i)=>{const o=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());IB(d)?o(d):o()}catch(d){l(d)}else if(u!==null){const d=gB();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(i.canceled){const d=this.appDelete_?mA():vB();l(d)}else{const d=yB();l(d)}};this.canceled_?t(!1,new zf(!1,null,!0)):this.backoffId_=TB(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zf{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function AB(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function PB(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kB(n,e){e&&(n["X-Firebase-GMPID"]=e)}function NB(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function DB(n,e,t,r,i,o,l=!0){const u=SB(n.urlParams),d=n.url+u,p=Object.assign({},n.headers);return kB(p,e),AB(p,t),PB(p,o),NB(p,r),new CB(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function MB(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this._service=e,t instanceof wi?this._location=t:this._location=wi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zh(e,t)}get root(){const e=new wi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MB(this._location.path)}get storage(){return this._service}get parent(){const e=OB(this._location.path);if(e===null)return null;const t=new wi(this._location.bucket,e);return new zh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw EB(e)}}function I1(n,e){const t=e==null?void 0:e[hB];return t==null?null:wi.makeFromBucketSpec(t,n)}function LB(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:xb(i,n.app.options.projectId))}class VB{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=pA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pB,this._maxUploadRetryTime=mB,this._requests=new Set,i!=null?this._bucket=wi.makeFromBucketSpec(i,this._host):this._bucket=I1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wi.makeFromBucketSpec(this._url,e):this._bucket=I1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){b1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){b1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zh(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new xB(mA());{const l=DB(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const S1="@firebase/storage",R1="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="storage";function jB(n=ov(),e){n=pr(n);const r=Xc(n,gA).getImmediate({identifier:e}),i=_b("storage");return i&&FB(r,...i),r}function FB(n,e,t,r={}){LB(n,e,t,r)}function UB(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new VB(t,r,i,e,Fa)}function BB(){Sa(new Po(gA,UB,"PUBLIC").setMultipleInstances(!0)),Wi(S1,R1,""),Wi(S1,R1,"esm2017")}BB();const zB={apiKey:"AIzaSyARvwYhTqRXMEUbfUzQWdPasuSvy2A4mkY",authDomain:"ai-cv-builder-581c4.firebaseapp.com",projectId:"ai-cv-builder-581c4",storageBucket:"ai-cv-builder-581c4.firebasestorage.app",messagingSenderId:"991488890950",appId:"1:991488890950:web:30746f9d81de0e5724d247"},hr=Rb(zB),C1={cacheSizeBytes:OF,experimentalForceLongPolling:!0,useFetchStreams:!1,ignoreUndefinedProperties:!0};let $f;try{$f=Wx(hr,C1),MF($f).catch(n=>{n.code==="failed-precondition"?console.warn("Multiple tabs open, persistence enabled in another tab"):n.code==="unimplemented"?console.warn("Browser doesn't support persistence"):n.name==="BloomFilterError"&&(console.warn("BloomFilter error detected, falling back to memory-only mode"),$f=Wx(hr,{...C1,memoryOnly:!0}))})}catch(n){console.error("Firestore initialization error:",n),$f=Xr(hr)}const Fg=dB(hr);jB(hr);const $B=()=>{const{user:n}=T.useContext(qc),[e,t]=T.useState([]),[r,i]=T.useState(!0);T.useEffect(()=>{n!=null&&n.email&&o()},[n]);const o=async()=>{try{i(!0);const l=Xr(hr),u=Dv(l,"usersByEmail",n.email,"resumes"),p=(await MS(u)).docs.map(m=>({id:m.id,...m.data()}));console.log("Resumes fetched from Firestore:",p),t(p)}catch(l){console.error("Error fetching resumes: ",l)}finally{i(!1)}};return y.jsxs("div",{children:[y.jsx($y,{}),y.jsxs("div",{className:"p-10 md:px-20 lg:px-32",children:[y.jsx("h1",{className:"font-bold text-3xl",children:"My Resume"}),y.jsx("p",{children:"Start Creating AI Resume for your next job role"}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 mt-10 gap-5",children:[y.jsx(n5,{}),r?y.jsx("div",{children:"Loading..."}):e.length>0?e.map(l=>y.jsx("div",{children:y.jsx(J6,{resume:l,refreshData:o})},l.id)):y.jsx("div",{className:"flex m-0 h-full items-center justify-center border border-black rounded-xl  border-dashed",children:y.jsx("p",{children:"No resume found"})})]})]})]})},HB=()=>{const[n,e]=T.useState(!0),t=T.useRef(null),r=T.useRef(null),i=T.useRef(null),o=ou(),{login:l}=Fy(),u=async m=>{m.preventDefault();const v=t.current.value,x=r.current.value;try{const S=(await JU(Fg,v,x)).user;l(S),o("/dashboard")}catch(_){console.error("Signup Error: ",_.message),alert(_.message)}},d=async m=>{m.preventDefault();const v=t.current.value,x=r.current.value;try{const S=(await XU(Fg,v,x)).user;l(S),o("/dashboard")}catch(_){console.error("Login Error: ",_.message),alert(_.message)}},p=async()=>{try{const m=new Ts,x=(await w9(Fg,m)).user;l(x),o("/dashboard")}catch(m){console.error("Google Sign-In Error:",m),alert(m.message)}};return y.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-gray-900",children:n?"Welcome Back!":"Create Account"}),y.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:n?"Please sign in to continue":"Sign up to get started"})]}),y.jsxs("form",{className:"mt-8 space-y-6",onSubmit:n?d:u,children:[y.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[!n&&y.jsxs("div",{className:"relative",children:[y.jsx(vO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"text",ref:i,className:"appearance-none relative block w-full pl-12 pr-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Full Name",required:!0})]}),y.jsxs("div",{className:"relative",children:[y.jsx(oO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"email",ref:t,className:"appearance-none relative block w-full pl-12 pr-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Email address",required:!0})]}),y.jsxs("div",{className:"relative",children:[y.jsx(iO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"password",ref:r,className:"appearance-none relative block w-full pl-12 pr-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Password",required:!0})]})]}),y.jsx("div",{children:y.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[n?"Sign In":"Sign Up",y.jsx(DT,{className:"ml-2 h-5 w-5"})]})})]}),y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-gray-300"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),y.jsx("div",{className:"mt-6",children:y.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[y.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})})]}),y.jsx("div",{className:"text-center mt-4",children:y.jsx("button",{onClick:()=>e(!n),className:"text-sm text-blue-600 hover:text-blue-500",children:n?"Need an account? Sign up":"Already have an account? Sign in"})})]})})},GB=()=>{const{user:n}=Fy();return n?y.jsx(gT,{}):y.jsx(mT,{to:"/register",replace:!0})},Ai=T.createContext(null);var yA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},A1=ee.createContext&&ee.createContext(yA),WB=["attr","size","title"];function KB(n,e){if(n==null)return{};var t=qB(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function qB(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function $h(){return $h=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$h.apply(this,arguments)}function P1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Hh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P1(Object(t),!0).forEach(function(r){QB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function QB(n,e,t){return e=YB(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YB(n){var e=JB(n,"string");return typeof e=="symbol"?e:e+""}function JB(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vA(n){return n&&n.map((e,t)=>ee.createElement(e.tag,Hh({key:t},e.attr),vA(e.child)))}function gu(n){return e=>ee.createElement(XB,$h({attr:Hh({},n.attr)},e),vA(n.child))}function XB(n){var e=t=>{var{attr:r,size:i,title:o}=n,l=KB(n,WB),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),ee.createElement("svg",$h({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Hh(Hh({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&ee.createElement("title",null,o),n.children)};return A1!==void 0?ee.createElement(A1.Consumer,null,t=>e(t)):e(yA)}function _A(n){return gu({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function wA(n){return gu({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function EA(n){return gu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function xA(n){return gu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(n)}function TA(n){return gu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C167.67 32 96 96.51 96 176c0 128 160 304 160 304s160-176 160-304c0-79.49-71.67-144-160-144zm0 224a64 64 0 1 1 64-64 64.07 64.07 0 0 1-64 64z"},child:[]}]})(n)}function bA(n){return gu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zM4 12c0-.899.156-1.762.431-2.569L6 11l2 2v2l2 2 1 1v1.931C7.061 19.436 4 16.072 4 12zm14.33 4.873C17.677 16.347 16.687 16 16 16v-1a2 2 0 0 0-2-2h-4v-3a2 2 0 0 0 2-2V7h1a2 2 0 0 0 2-2v-.411C17.928 5.778 20 8.65 20 12a7.947 7.947 0 0 1-1.67 4.873z"},child:[]}]})(n)}const ZB=({resumeInfo:n})=>{const e=n==null?void 0:n.personalDetail;return e?y.jsxs("div",{children:[y.jsxs("h2",{className:"font-bold text-xl text-center",children:[e.firstName||"First Name"," ",e.lastName||"Last Name"]}),y.jsx("h2",{className:"text-center text-sm font-medium mt-1",children:e.jobTitle||"Job Title"}),y.jsxs("div",{className:"flex flex-col items-center gap-1 mt-1",children:[e.address&&y.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[y.jsx(TA,{className:"text-black"}),e.address]}),y.jsxs("div",{className:"flex justify-center items-center gap-2 text-xs",children:[e.phone&&y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(xA,{className:"text-black"}),"+91-",e.phone]}),e.email&&y.jsxs(y.Fragment,{children:[y.jsx("span",{children:"|"}),y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(EA,{className:"text-black"}),e.email]})]})]}),y.jsxs("div",{className:"flex justify-center items-center gap-2 text-xs mt-1",children:[(e==null?void 0:e.linkedin)&&y.jsxs("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-black hover:text-[#0077b5]",children:[y.jsx(wA,{className:"text-black"}),"LinkedIn"]}),(e==null?void 0:e.github)&&y.jsxs(y.Fragment,{children:[y.jsx("span",{children:"|"}),y.jsxs("a",{href:e.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-black hover:text-gray-700",children:[y.jsx(_A,{className:"text-black"}),"GitHub"]})]}),(e==null?void 0:e.portfolio)&&y.jsxs(y.Fragment,{children:[y.jsx("span",{children:"|"}),y.jsxs("a",{href:e.portfolio,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-black hover:text-blue-600",children:[y.jsx(bA,{className:"text-black"}),"Portfolio"]})]})]})]}),y.jsx("hr",{className:"border-[1.5px] mt-2 mb-3 border-black"})]}):y.jsx("div",{className:"text-center text-gray-500 text-sm font-medium py-4",children:"No personal data added."})},ez=({resumeInfo:n})=>!n||!n.personalDetail?y.jsx("div",{className:"text-center text-gray-500 text-sm font-medium py-4",children:"No summary data added."}):y.jsx("p",{className:"text-xs text-justify ",children:n==null?void 0:n.summary}),tz=({resumeInfo:n})=>{const e=(n==null?void 0:n.experience)||[],t=r=>{if(!r)return null;try{return new Date(r).toLocaleDateString("en-US",{month:"short",year:"numeric"})}catch{return null}};return e.length===0?y.jsx("div",{className:"text-center text-gray-500 text-sm font-medium py-4",children:"No job experience data added."}):y.jsxs("div",{className:"my-2",children:[y.jsx("h2",{className:"text-center font-bold text-sm mb-2",children:"Professional Experience"}),y.jsx("hr",{className:"border-[1.5px] my-2",style:{borderColor:(n==null?void 0:n.themeColor)||"rgb(107 114 128)"}}),e.map((r,i)=>y.jsxs("div",{className:"my-5",children:[y.jsx("h2",{className:"text-sm font-bold",children:(r==null?void 0:r.title)||"Position title not provided"}),y.jsxs("h2",{className:"text-xs flex justify-between",children:[y.jsxs("span",{children:[(r==null?void 0:r.companyName)||"",r!=null&&r.city&&(r!=null&&r.state)?`, ${r==null?void 0:r.city}, ${r==null?void 0:r.state}`:r!=null&&r.city?`, ${r==null?void 0:r.city}`:r!=null&&r.state?`, ${r==null?void 0:r.state}`:""]}),y.jsxs("span",{children:[t(r==null?void 0:r.startDate)," - ",t(r==null?void 0:r.endDate)||"Present"]})]}),y.jsx("div",{className:"text-xs my-2 text-justify leading-relaxed",dangerouslySetInnerHTML:{__html:(r==null?void 0:r.workSummery)||"No work summary provided."}})]},i))]})},nz=({resumeInfo:n})=>{const e=(n==null?void 0:n.education)||[];return e.length===0?y.jsx("div",{className:"text-center text-gray-500 text-sm font-medium py-1",children:"No educational data added."}):y.jsxs("div",{className:"mt-0",children:[y.jsx("h2",{className:"text-center font-bold text-sm mb-0.5",children:"Education"}),y.jsx("hr",{className:"border-[1px] my-0.5",style:{borderColor:(n==null?void 0:n.themeColor)||"rgb(107 114 128)"}}),e.map((t,r)=>y.jsxs("div",{className:"mb-1",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-sm font-bold",children:(t==null?void 0:t.school)||"University Not Specified"}),y.jsx("span",{className:"text-xs",children:[t==null?void 0:t.city,t==null?void 0:t.state].filter(Boolean).join(", ")})]}),y.jsxs("div",{className:"text-xs flex justify-between",children:[y.jsxs("span",{children:[(t==null?void 0:t.degree)||"Degree not specified"," in ",(t==null?void 0:t.fieldOfStudy)||"Field not specified"]}),y.jsx("span",{children:(t==null?void 0:t.graduationDate)||"Date not specified"})]}),(t==null?void 0:t.description)&&y.jsx("div",{className:"text-xs mt-2 text-justify",dangerouslySetInnerHTML:{__html:t.description}})]},r))]})},rz=({resumeInfo:n})=>{const e=n==null?void 0:n.skills;return!e||!Array.isArray(e)||e.length===0?y.jsx("div",{className:"text-center text-gray-500 text-sm font-medium py-4",children:"No skills data added."}):y.jsxs("div",{className:"my-1",children:[y.jsx("h2",{className:"text-center font-bold text-sm mb-2",children:"Technical Skills"}),y.jsx("hr",{className:"border-[1.5px] my-2",style:{borderColor:(n==null?void 0:n.themeColor)||"rgb(107 114 128)"}}),y.jsx("div",{className:"grid grid-cols-1 gap-1",children:e.map((t,r)=>y.jsxs("div",{className:"mb-2",children:[y.jsxs("span",{className:"font-semibold",children:[t.category,": "]}),y.jsx("span",{children:t.skills})]},r))})]})},iz=({resumeInfo:n})=>{const e=n==null?void 0:n.projects;return!e||!Array.isArray(e)||e.length===0?y.jsx("div",{className:"text-center text-gray-500 text-sm font-medium py-4",children:"No projects data added."}):y.jsxs("div",{className:"my-1",children:[y.jsx("h2",{className:"text-center font-bold text-sm mb-2",children:"Projects"}),y.jsx("hr",{className:"border-[1.5px] my-2",style:{borderColor:(n==null?void 0:n.themeColor)||"rgb(107 114 128)"}}),y.jsx("div",{className:"space-y-4",children:e.map((t,r)=>y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("h3",{className:"font-semibold text-sm",children:[t.name,t.liveDemo&&y.jsxs("a",{href:t.liveDemo,target:"_blank",rel:"noopener noreferrer",className:"ml-2 italic text-slate-700",children:[y.jsx(tO,{size:12,className:"inline"})," Live Demo"]})]}),y.jsx("span",{className:"text-xs font-semibold",children:t.technologies})]}),y.jsx("p",{className:"mt-1 text-xs italic mb-2",children:t.description}),y.jsx("ul",{className:"list-disc pl-5 space-y-1",children:t.bullets.map((i,o)=>y.jsx("li",{className:"text-xs",children:i},o))})]},r))})]})},IA=()=>{const{resumeInfo:n,setResumeInfo:e}=T.useContext(Ai);return n?y.jsx("div",{className:"shadow-lg h-full p-14 border-t-[20px]",style:{borderColor:n==null?void 0:n.themeColor},children:n&&y.jsxs("div",{className:"flex flex-col gap-0",children:[y.jsx(ZB,{resumeInfo:n}),y.jsx(ez,{resumeInfo:n}),y.jsx(tz,{resumeInfo:n}),y.jsx(rz,{resumeInfo:n}),y.jsx(iz,{resumeInfo:n}),y.jsx(nz,{resumeInfo:n})]})}):y.jsx("div",{className:"text-center text-gray-500 text-lg font-medium py-20",children:"Data needs to be added in the resume."})};function sz(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}sz(`.web-share-fade{animation:rwsFade .5s;animation-fill-mode:both}@keyframes rwsFade{0%{opacity:0}to{opacity:1}}.web-share-fade-in-up{animation:rwsfadeInUp .5s;animation-fill-mode:both}@keyframes rwsfadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.rws-icons{padding:1.25rem;display:grid;grid-template-columns:repeat(4,1fr);grid-gap:1.25rem}.rws-icon{width:100%;height:auto;cursor:pointer;border:0;background:#1a78f6;padding:.75rem;border-radius:.5rem;font-size:0}.rws-container{max-width:24rem;width:90%;background-color:#fff;border-radius:.5rem;border-bottom-left-radius:0;border-bottom-right-radius:0}.rws-backdrop{position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.4);display:flex;flex-direction:column;align-items:center;justify-content:flex-end;z-index:1400}.rws-header{padding:1rem 1.25rem;font-size:1.25rem;font-weight:600;padding-bottom:0}.rws-close{background:#edf2f7;cursor:pointer;padding:.75rem;display:block;width:100%;border:0;font-size:1rem}
`);function oz({children:n,onClose:e}){return y.jsx("div",{onClick:t=>{t.target===t.currentTarget&&e(t)},className:"rws-backdrop web-share-fade",children:n})}var xs=n=>window.open(n,"_blank","noopener"),SA={facebook:{path:y.jsx("path",{d:"M24 12a12 12 0 10-13.9 11.9v-8.4h-3V12h3V9.4c0-3 1.8-4.7 4.6-4.7l2.6.2v3h-1.5c-1.5 0-2 .9-2 1.8V12h3.4l-.5 3.5h-2.8v8.4A12 12 0 0024 12z"}),color:"#0076FB",e:n=>xs(`https://www.facebook.com/sharer/sharer.php?u=${n}`)},twitter:{path:y.jsx("path",{d:"M24 4.6a10 10 0 01-2.9.7 5 5 0 002.2-2.7c-1 .6-2 1-3.1 1.2a5 5 0 00-8.4 4.5A14 14 0 011.6 3.2 4.8 4.8 0 001 5.6a5 5 0 002.2 4.1 4.9 4.9 0 01-2.3-.6A5 5 0 005 14a5 5 0 01-2.2 0 5 5 0 004.6 3.5 9.9 9.9 0 01-6.1 2.1H0a14 14 0 007.6 2.2c9 0 14-7.5 14-14V7A10 10 0 0024 4.6z"}),color:"#1DA1F2",e:(n,e)=>xs(`https://twitter.com/intent/tweet?text=${e}&url=${n}`)},whatsapp:{path:y.jsx("path",{d:"M17.5 14.4l-2-1c-.3 0-.5-.1-.7.2l-1 1.1c-.1.2-.3.3-.6.1s-1.3-.5-2.4-1.5a9 9 0 01-1.7-2c-.1-.3 0-.5.2-.6l.4-.6c.2-.1.2-.3.3-.5v-.5L9 7c-.2-.6-.4-.5-.6-.5h-.6c-.2 0-.5 0-.8.4-.2.3-1 1-1 2.5s1 2.8 1.2 3c.2.2 2.1 3.2 5.1 4.5l1.7.6a4 4 0 001.9.2c.5-.1 1.7-.8 2-1.5.2-.6.2-1.2.1-1.4l-.5-.3M12 21.8a9.9 9.9 0 01-5-1.4l-.4-.2-3.7 1 1-3.7-.2-.3a9.9 9.9 0 01-1.5-5.3 9.9 9.9 0 0116.8-7 9.8 9.8 0 013 7 9.9 9.9 0 01-10 9.9m8.4-18.3A11.8 11.8 0 0012.1 0 12 12 0 001.8 17.8L0 24l6.4-1.6a11.9 11.9 0 005.6 1.4 12 12 0 0012-11.9 11.8 11.8 0 00-3.5-8.4z"}),color:"#25D366",e:(n,e)=>xs(`https://api.whatsapp.com/send?text=${e} ${n}`)},reddit:{path:y.jsx("path",{d:"M12 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0zm5.01 4.74c.69 0 1.25.56 1.25 1.25a1.25 1.25 0 01-2.5.06l-2.6-.55-.8 3.75c1.83.07 3.48.63 4.68 1.49.3-.31.73-.5 1.2-.5.97 0 1.76.8 1.76 1.76 0 .72-.43 1.33-1.01 1.61a3.11 3.11 0 01.04.52c0 2.7-3.13 4.87-7 4.87-3.88 0-7-2.17-7-4.87 0-.18 0-.36.04-.53A1.75 1.75 0 014.03 12a1.75 1.75 0 012.96-1.26 8.52 8.52 0 014.74-1.5l.89-4.17a.34.34 0 01.14-.2.35.35 0 01.24-.04l2.9.62a1.21 1.21 0 011.11-.7zM9.25 12a1.25 1.25 0 101.25 1.25c0-.69-.56-1.25-1.25-1.25zm5.5 0a1.25 1.25 0 000 2.5 1.25 1.25 0 000-2.5zm-5.47 3.99a.33.33 0 00-.23.1.33.33 0 000 .46c.84.84 2.49.91 2.96.91.48 0 2.1-.06 2.96-.91a.36.36 0 00.03-.47.33.33 0 00-.46 0c-.55.54-1.68.73-2.51.73-.83 0-1.98-.2-2.51-.73a.33.33 0 00-.24-.1z"}),color:"#FF4500",e:(n,e)=>xs(`https://www.reddit.com/submit?url=${n}&title=${e}`)},telegram:{path:y.jsx("path",{d:"M23.91 3.79L20.3 20.84c-.25 1.21-.98 1.5-2 .94l-5.5-4.07-2.66 2.57c-.3.3-.55.56-1.1.56-.72 0-.6-.27-.84-.95L6.3 13.7.85 12c-1.18-.35-1.19-1.16.26-1.75l21.26-8.2c.97-.43 1.9.24 1.53 1.73z"}),color:"#0088CC",e:(n,e)=>xs(`https://telegram.me/share/msg?url=${n}&text=${e}`)},linkedin:{path:y.jsx("path",{d:"M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"}),color:"#0073b1",e:(n,e,t)=>xs(`https://www.linkedin.com/shareArticle?mini=true&url=${n}&title=${t}&summary=${e}`)},mail:{path:y.jsx("path",{d:"M20 4H4a2 2 0 00-2 2v12c0 1.1.9 2 2 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}),color:"#E53E3E",e:(n,e)=>xs(`mailto:?body=${n}&subject=${e}`)},copy:{path:y.jsx("path",{d:"M16 1H4a2 2 0 00-2 2v14h2V3h12V1zm3 4H8a2 2 0 00-2 2v14c0 1.1.9 2 2 2h11a2 2 0 002-2V7a2 2 0 00-2-2zm0 16H8V7h11v14z"}),color:"#718096",e:n=>navigator.clipboard.writeText(decodeURIComponent(n))},vk:{path:y.jsx("path",{d:"M22.7 6.24c.16-.52 0-.9-.73-.9H19.5c-.62 0-.91.32-1.06.69 0 0-1.25 3.04-3.02 5.02-.57.57-.83.75-1.15.75-.15 0-.39-.18-.39-.7V6.24c0-.63-.17-.9-.69-.9H9.34c-.39 0-.62.29-.62.56 0 .59.88.72.97 2.4v3.6c0 .8-.14.95-.45.95-.84 0-2.86-3.06-4.06-6.56-.24-.68-.48-.96-1.1-.96H1.61c-.7 0-.85.33-.85.7 0 .65.84 3.88 3.88 8.14 2.03 2.92 4.9 4.5 7.5 4.5 1.55 0 1.75-.35 1.75-.96 0-2.78-.15-3.04.64-3.04.36 0 .99.18 2.44 1.58 1.67 1.67 1.95 2.42 2.88 2.42h2.45c.7 0 1.06-.35.85-1.05-.46-1.45-3.62-4.44-3.76-4.64-.36-.47-.26-.68 0-1.1 0 0 3-4.21 3.3-5.64Z"}),color:"#07f",e:(n,e,t)=>xs(`http://vk.com/share.php?url=${n}&title=${t}&comment=${e}`)},okru:{path:y.jsx("path",{d:"M13.6 16.4c1-.3 2-.7 2.8-1.2a1.5 1.5 0 0 0-1.5-2.5 6.3 6.3 0 0 1-6.7 0 1.5 1.5 0 1 0-1.5 2.5c.9.5 1.8 1 2.9 1.2L6.8 19a1.4 1.4 0 1 0 2 2l2.8-2.6 2.7 2.7a1.5 1.5 0 1 0 2-2l-2.7-2.8Zm-2-11.1a2 2 0 1 1 0 4.1 2 2 0 0 1 0-4.1Zm0 7a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z"}),color:"#e27e35",e:n=>xs(`https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl=${n}`)}},az=({children:n})=>{let e=document.createElement("div");return ee.useEffect(()=>(document.body.appendChild(e),()=>{document.body.removeChild(e)}),[e]),Kc.createPortal(n,e)};function lz({onClose:n,closeText:e}){return y.jsx("button",{className:"rws-close","aria-label":"Close",type:"button",onClick:n,children:e||"Close"})}function uz({title:n}){return y.jsx("header",{className:"rws-header",children:n})}function cz({name:n,data:e,onClose:t,onClick:r}){let{path:i,viewBox:o="0 0 24 24",color:l,e:u}=SA[n];return y.jsx("button",{onClick:()=>{r&&r(n),u(encodeURIComponent(e.url),e.text,e.title),t()},"aria-label":n,className:"rws-icon",style:{background:l},children:y.jsx("svg",{fill:"white",viewBox:o,children:i})})}var dz=({onClose:n,sites:e,data:t,closeText:r,onClick:i})=>y.jsxs("section",{role:"dialog","aria-modal":"true",className:"rws-container web-share-fade-in-up",children:[y.jsx(uz,{title:t.title}),y.jsx("div",{className:"rws-icons",children:e.map(o=>y.jsx(cz,{name:o,data:t,onClose:n,onClick:i},o))}),y.jsx(lz,{onClose:n,closeText:r})]});function fz(){let[n,e]=T.useState(!1),t=T.useCallback(()=>e(!0),[]),r=T.useCallback(()=>e(!1),[]),i=T.useCallback(()=>e(o=>!o),[]);return{isOpen:n,onOpen:t,onClose:r,onToggle:i}}var hz=Object.keys(SA).slice(0,8);T.memo(n=>{var e;let{onOpen:t,onClose:r,isOpen:i}=fz(),o=T.useMemo(()=>({...n.data,title:n.data.title||"share",text:n.data.text||"",url:n.data.url||typeof window<"u"&&window.location.href||""}),[n.data]),l=T.useCallback(async()=>{if(window.navigator.share&&!n.disableNative)try{await window.navigator.share(o),n.onClick()}catch(u){console.warn(u)}else t()},[o]);return y.jsxs(y.Fragment,{children:[T.cloneElement(n.children,{...(e=n.children)==null?void 0:e.props,onClick:l}),i&&y.jsx(az,{children:y.jsx(oz,{onClose:r,children:y.jsx(dz,{onClose:r,sites:n.sites||hz,data:o,closeText:n.closeText,onClick:n.onClick})})})]})});const pz=()=>{var u,d;const[n,e]=T.useState(null),[t,r]=T.useState(!0),{email:i,resumeId:o}=Yh();T.useEffect(()=>{i&&o&&(async()=>{try{const m=Xr(hr),v=ts(m,`usersByEmail/${i}/resumes`,`resume-${o}`),x=await DS(v);if(x.exists()){const _=x.data();e(_)}else console.error("No resume found!")}catch(m){console.error("Error fetching resume:",m)}finally{r(!1)}})()},[i,o]);const l=()=>{window.print()};return t?y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsx(Ti,{className:"animate-spin h-8 w-8"})}):n?(`${((u=n==null?void 0:n.personalInfo)==null?void 0:u.firstName)||""}${((d=n==null?void 0:n.personalInfo)==null?void 0:d.lastName)||""}`,y.jsxs(Ai.Provider,{value:{resumeInfo:n,setResumeInfo:e},children:[y.jsxs("div",{id:"no-print",children:[y.jsx($y,{}),y.jsxs("div",{className:"my-5 mx-10 md:mx-20 lg:mx-36",children:[y.jsx("h2",{className:"text-center text-2xl font-medium",children:"Congrats! Your Ultimate AI generated Resume is ready!"}),y.jsx("p",{className:"text-center text-gray-400",children:"Now you are ready to download your resume and you can share your unique resume to recruiters"}),y.jsx("div",{className:"w-auto m-auto flex justify-center mt-3 items-center ",children:y.jsx(vt,{onClick:l,className:"bg-primary hover:bg-primary/90",children:"Download"})})]})]}),y.jsx("div",{id:"print-area",className:"my-5 mx-10 md:mx-20 lg:mx-36",children:y.jsx(IA,{})})]})):y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsx("p",{className:"text-lg text-gray-600",children:"Resume not found"})})},mz=({resumeId:n,email:e,enableNext:t})=>{var x,_,S,I,R,P,V,U,G;const{resumeInfo:r,setResumeInfo:i}=T.useContext(Ai),[o,l]=T.useState(!1),u=Xr(hr),[d,p]=T.useState({personalDetail:{firstName:((x=r==null?void 0:r.personalDetail)==null?void 0:x.firstName)||"",lastName:((_=r==null?void 0:r.personalDetail)==null?void 0:_.lastName)||"",jobTitle:((S=r==null?void 0:r.personalDetail)==null?void 0:S.jobTitle)||"",address:((I=r==null?void 0:r.personalDetail)==null?void 0:I.address)||"",phone:((R=r==null?void 0:r.personalDetail)==null?void 0:R.phone)||"",email:((P=r==null?void 0:r.personalDetail)==null?void 0:P.email)||"",linkedin:((V=r==null?void 0:r.personalDetail)==null?void 0:V.linkedin)||"",github:((U=r==null?void 0:r.personalDetail)==null?void 0:U.github)||"",portfolio:((G=r==null?void 0:r.personalDetail)==null?void 0:G.portfolio)||""}});T.useEffect(()=>{r!=null&&r.personalDetail&&p({personalDetail:{...r.personalDetail}})},[r]);const m=O=>{t(!1);const{name:Y,value:D}=O.target,C={...d.personalDetail,[Y]:D};p({...d,personalDetail:C}),i(k=>({...k,personalDetail:C}))},v=async O=>{O.preventDefault(),l(!0);try{const Y=ts(u,`usersByEmail/${e}/resumes`,`resume-${n}`);await $a(Y,d,{merge:!0}),an.success("Details Updated"),t(!0)}catch(Y){console.error("Error updating document: ",Y),an.error("Failed to update details")}finally{l(!1)}};return y.jsxs("div",{className:"p-5 shadow-lg rounded-lg border-t-primary border-t-4 mt-10",children:[y.jsx("h2",{className:"font-bold text-lg",children:"Personal Detail"}),y.jsx("p",{children:"Get Started with the basic information"}),y.jsxs("form",{onSubmit:v,children:[y.jsxs("div",{className:"grid grid-cols-2 mt-5 gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm",children:"First Name"}),y.jsx(xt,{name:"firstName",value:d.personalDetail.firstName,required:!0,onChange:m,placeholder:"Enter firstName"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm",children:"Last Name"}),y.jsx(xt,{name:"lastName",value:d.personalDetail.lastName,required:!0,onChange:m,placeholder:"Enter lastName"})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"text-sm",children:"Job Title"}),y.jsx(xt,{name:"jobTitle",value:d.personalDetail.jobTitle,required:!0,onChange:m,placeholder:"Enter your Jobtitle"})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsxs("label",{className:"text-sm flex items-center gap-2",children:[y.jsx(TA,{className:"text-black"})," Address"]}),y.jsx(xt,{name:"address",value:d.personalDetail.address,required:!0,onChange:m,placeholder:"Enter your Address"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-sm flex items-center gap-2",children:[y.jsx(xA,{className:"text-black"})," Phone"]}),y.jsx(xt,{name:"phone",value:d.personalDetail.phone,required:!0,onChange:m,placeholder:"Enter your Phone no"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-sm flex items-center gap-2",children:[y.jsx(EA,{className:"text-black"})," Email"]}),y.jsx(xt,{name:"email",value:d.personalDetail.email,required:!0,onChange:m,placeholder:"Enter your Email"})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsxs("label",{className:"text-sm flex items-center gap-2",children:[y.jsx(wA,{className:"text-black"})," LinkedIn URL"]}),y.jsx(xt,{name:"linkedin",value:d.personalDetail.linkedin,onChange:m,placeholder:"Enter your Linkedin link"})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsxs("label",{className:"text-sm flex items-center gap-2",children:[y.jsx(_A,{className:"text-black"})," GitHub URL"]}),y.jsx(xt,{name:"github",value:d.personalDetail.github,onChange:m,placeholder:"Enter your Github link"})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsxs("label",{className:"text-sm flex items-center gap-2",children:[y.jsx(bA,{className:"text-black"})," Portfolio URL"]}),y.jsx(xt,{name:"portfolio",value:d.personalDetail.portfolio,onChange:m,placeholder:"Enter your portfolio link"})]})]}),y.jsx("div",{className:"mt-3 flex justify-end",children:y.jsx(vt,{type:"submit",disabled:o,children:o?y.jsx(Ti,{className:"animate-spin"}):"Save"})})]})]})},E_=T.forwardRef(({className:n,...e},t)=>y.jsx("textarea",{className:Dt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));E_.displayName="Textarea";var k1;(function(n){n.STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object"})(k1||(k1={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N1;(function(n){n.LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python"})(N1||(N1={}));var D1;(function(n){n.OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(D1||(D1={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=["user","model","function","system"];var M1;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(M1||(M1={}));var L1;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(L1||(L1={}));var V1;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(V1||(V1={}));var j1;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(j1||(j1={}));var Tc;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER"})(Tc||(Tc={}));var F1;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})(F1||(F1={}));var U1;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(U1||(U1={}));var B1;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(B1||(B1={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ol extends cr{constructor(e,t){super(e),this.response=t}}class RA extends cr{constructor(e,t,r,i){super(e),this.status=t,this.statusText=r,this.errorDetails=i}}class Ro extends cr{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz="https://generativelanguage.googleapis.com",yz="v1beta",vz="0.21.0",_z="genai-js";var Va;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Va||(Va={}));class wz{constructor(e,t,r,i,o){this.model=e,this.task=t,this.apiKey=r,this.stream=i,this.requestOptions=o}toString(){var e,t;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||yz;let o=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||gz}/${r}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function Ez(n){const e=[];return n!=null&&n.apiClient&&e.push(n.apiClient),e.push(`${_z}/${vz}`),e.join(" ")}async function xz(n){var e;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",Ez(n.requestOptions)),t.append("x-goog-api-key",n.apiKey);let r=(e=n.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Ro(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,o]of r.entries()){if(i==="x-goog-api-key")throw new Ro(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Ro(`Header name ${i} can only be set using the apiClient field`);t.append(i,o)}}return t}async function Tz(n,e,t,r,i,o){const l=new wz(n,e,t,r,o);return{url:l.toString(),fetchOptions:Object.assign(Object.assign({},Rz(o)),{method:"POST",headers:await xz(l),body:i})}}async function fd(n,e,t,r,i,o={},l=fetch){const{url:u,fetchOptions:d}=await Tz(n,e,t,r,i,o);return bz(u,d,l)}async function bz(n,e,t=fetch){let r;try{r=await t(n,e)}catch(i){Iz(i,n)}return r.ok||await Sz(r,n),r}function Iz(n,e){let t=n;throw n instanceof RA||n instanceof Ro||(t=new cr(`Error fetching from ${e.toString()}: ${n.message}`),t.stack=n.stack),t}async function Sz(n,e){let t="",r;try{const i=await n.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new RA(`Error fetching from ${e.toString()}: [${n.status} ${n.statusText}] ${t}`,n.status,n.statusText,r)}function Rz(n){const e={};if((n==null?void 0:n.signal)!==void 0||(n==null?void 0:n.timeout)>=0){const t=new AbortController;(n==null?void 0:n.timeout)>=0&&setTimeout(()=>t.abort(),n.timeout),n!=null&&n.signal&&n.signal.addEventListener("abort",()=>{t.abort()}),e.signal=t.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),ch(n.candidates[0]))throw new Ol(`${po(n)}`,n);return Cz(n)}else if(n.promptFeedback)throw new Ol(`Text not available. ${po(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ch(n.candidates[0]))throw new Ol(`${po(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),z1(n)[0]}else if(n.promptFeedback)throw new Ol(`Function call not available. ${po(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),ch(n.candidates[0]))throw new Ol(`${po(n)}`,n);return z1(n)}else if(n.promptFeedback)throw new Ol(`Function call not available. ${po(n)}`,n)},n}function Cz(n){var e,t,r,i;const o=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const l of(i=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)l.text&&o.push(l.text),l.executableCode&&o.push("\n```"+l.executableCode.language+`
`+l.executableCode.code+"\n```\n"),l.codeExecutionResult&&o.push("\n```\n"+l.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function z1(n){var e,t,r,i;const o=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const l of(i=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)l.functionCall&&o.push(l.functionCall);if(o.length>0)return o}const Az=[Tc.RECITATION,Tc.SAFETY,Tc.LANGUAGE];function ch(n){return!!n.finishReason&&Az.includes(n.finishReason)}function po(n){var e,t,r;let i="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)i+="Response was blocked",!((e=n.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${n.promptFeedback.blockReason}`),!((t=n.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((r=n.candidates)===null||r===void 0)&&r[0]){const o=n.candidates[0];ch(o)&&(i+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(i+=`: ${o.finishMessage}`))}return i}function $c(n){return this instanceof $c?(this.v=n,this):new $c(n)}function Pz(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(x){r[x]&&(i[x]=function(_){return new Promise(function(S,I){o.push([x,_,S,I])>1||u(x,_)})})}function u(x,_){try{d(r[x](_))}catch(S){v(o[0][3],S)}}function d(x){x.value instanceof $c?Promise.resolve(x.value.v).then(p,m):v(o[0][2],x)}function p(x){u("next",x)}function m(x){u("throw",x)}function v(x,_){x(_),o.shift(),o.length&&u(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function kz(n){const e=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=Oz(e),[r,i]=t.tee();return{stream:Dz(r),response:Nz(i)}}async function Nz(n){const e=[],t=n.getReader();for(;;){const{done:r,value:i}=await t.read();if(r)return x_(Mz(e));e.push(i)}}function Dz(n){return Pz(this,arguments,function*(){const t=n.getReader();for(;;){const{value:r,done:i}=yield $c(t.read());if(i)break;yield yield $c(x_(r))}})}function Oz(n){const e=n.getReader();return new ReadableStream({start(r){let i="";return o();function o(){return e.read().then(({value:l,done:u})=>{if(u){if(i.trim()){r.error(new cr("Failed to parse stream"));return}r.close();return}i+=l;let d=i.match($1),p;for(;d;){try{p=JSON.parse(d[1])}catch{r.error(new cr(`Error parsing JSON response: "${d[1]}"`));return}r.enqueue(p),i=i.substring(d[0].length),d=i.match($1)}return o()})}}})}function Mz(n){const e=n[n.length-1],t={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of n){if(r.candidates)for(const i of r.candidates){const o=i.index;if(t.candidates||(t.candidates=[]),t.candidates[o]||(t.candidates[o]={index:i.index}),t.candidates[o].citationMetadata=i.citationMetadata,t.candidates[o].groundingMetadata=i.groundingMetadata,t.candidates[o].finishReason=i.finishReason,t.candidates[o].finishMessage=i.finishMessage,t.candidates[o].safetyRatings=i.safetyRatings,i.content&&i.content.parts){t.candidates[o].content||(t.candidates[o].content={role:i.content.role||"user",parts:[]});const l={};for(const u of i.content.parts)u.text&&(l.text=u.text),u.functionCall&&(l.functionCall=u.functionCall),u.executableCode&&(l.executableCode=u.executableCode),u.codeExecutionResult&&(l.codeExecutionResult=u.codeExecutionResult),Object.keys(l).length===0&&(l.text=""),t.candidates[o].content.parts.push(l)}}r.usageMetadata&&(t.usageMetadata=r.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(n,e,t,r){const i=await fd(e,Va.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(t),r);return kz(i)}async function AA(n,e,t,r){const o=await(await fd(e,Va.GENERATE_CONTENT,n,!1,JSON.stringify(t),r)).json();return{response:x_(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function Hc(n){let e=[];if(typeof n=="string")e=[{text:n}];else for(const t of n)typeof t=="string"?e.push({text:t}):e.push(t);return Lz(e)}function Lz(n){const e={role:"user",parts:[]},t={role:"function",parts:[]};let r=!1,i=!1;for(const o of n)"functionResponse"in o?(t.parts.push(o),i=!0):(e.parts.push(o),r=!0);if(r&&i)throw new cr("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new cr("No content is provided for sending chat message.");return r?e:t}function Vz(n,e){var t;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(t=e==null?void 0:e.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=n.generateContentRequest!=null;if(n.contents){if(i)throw new Ro("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=n.contents}else if(i)r=Object.assign(Object.assign({},r),n.generateContentRequest);else{const o=Hc(n);r.contents=[o]}return{generateContentRequest:r}}function H1(n){let e;return n.contents?e=n:e={contents:[Hc(n)]},n.systemInstruction&&(e.systemInstruction=PA(n.systemInstruction)),e}function jz(n){return typeof n=="string"||Array.isArray(n)?{content:Hc(n)}:n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Fz={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Uz(n){let e=!1;for(const t of n){const{role:r,parts:i}=t;if(!e&&r!=="user")throw new cr(`First content should be with role 'user', got ${r}`);if(!O1.includes(r))throw new cr(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(O1)}`);if(!Array.isArray(i))throw new cr("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new cr("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const u of i)for(const d of G1)d in u&&(o[d]+=1);const l=Fz[r];for(const u of G1)if(!l.includes(u)&&o[u]>0)throw new cr(`Content with role '${r}' can't contain '${u}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="SILENT_ERROR";class Bz{constructor(e,t,r,i={}){this.model=t,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(Uz(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var r,i,o,l,u,d;await this._sendPromise;const p=Hc(e),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),t);let x;return this._sendPromise=this._sendPromise.then(()=>AA(this._apiKey,this.model,m,v)).then(_=>{var S;if(_.response.candidates&&_.response.candidates.length>0){this._history.push(p);const I=Object.assign({parts:[],role:"model"},(S=_.response.candidates)===null||S===void 0?void 0:S[0].content);this._history.push(I)}else{const I=po(_.response);I&&console.warn(`sendMessage() was unsuccessful. ${I}. Inspect response object for details.`)}x=_}),await this._sendPromise,x}async sendMessageStream(e,t={}){var r,i,o,l,u,d;await this._sendPromise;const p=Hc(e),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),t),x=CA(this._apiKey,this.model,m,v);return this._sendPromise=this._sendPromise.then(()=>x).catch(_=>{throw new Error(W1)}).then(_=>_.response).then(_=>{if(_.candidates&&_.candidates.length>0){this._history.push(p);const S=Object.assign({},_.candidates[0].content);S.role||(S.role="model"),this._history.push(S)}else{const S=po(_);S&&console.warn(`sendMessageStream() was unsuccessful. ${S}. Inspect response object for details.`)}}).catch(_=>{_.message!==W1&&console.error(_)}),x}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zz(n,e,t,r){return(await fd(e,Va.COUNT_TOKENS,n,!1,JSON.stringify(t),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(n,e,t,r){return(await fd(e,Va.EMBED_CONTENT,n,!1,JSON.stringify(t),r)).json()}async function Hz(n,e,t,r){const i=t.requests.map(l=>Object.assign(Object.assign({},l),{model:e}));return(await fd(e,Va.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t,r={}){this.apiKey=e,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=PA(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var r;const i=H1(e),o=Object.assign(Object.assign({},this._requestOptions),t);return AA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),o)}async generateContentStream(e,t={}){var r;const i=H1(e),o=Object.assign(Object.assign({},this._requestOptions),t);return CA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),o)}startChat(e){var t;return new Bz(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){const r=Vz(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return zz(this.apiKey,this.model,r,i)}async embedContent(e,t={}){const r=jz(e),i=Object.assign(Object.assign({},this._requestOptions),t);return $z(this.apiKey,this.model,r,i)}async batchEmbedContents(e,t={}){const r=Object.assign(Object.assign({},this._requestOptions),t);return Hz(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new cr("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new K1(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,r){if(!e.name)throw new Ro("Cached content must contain a `name` field.");if(!e.model)throw new Ro("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const l of i)if(t!=null&&t[l]&&e[l]&&(t==null?void 0:t[l])!==e[l]){if(l==="model"){const u=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,d=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(u===d)continue}throw new Ro(`Different value for "${l}" specified in modelParams (${t[l]}) and cachedContent (${e[l]})`)}const o=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new K1(this.apiKey,o,r)}}const Wz="AIzaSyAlgnwMYMzTGGqIZ7sm5IZCvD2FwebRC2I",Kz=new Gz(Wz),qz=Kz.getGenerativeModel({model:"gemini-1.5-flash"}),Qz={temperature:1,topP:.95,topK:64,maxOutputTokens:8192,responseMimeType:"application/json"},T_=qz.startChat({generationConfig:Qz,history:[]}),Yz='Given the job title "{jobTitle}", provide three job summary suggestions for a resume. Each suggestion should be in JSON format with fields "experience_level" (values can be "Fresher", "Mid-level", "Experienced") and "summary" (a brief summary). Output an array of JSON objects.',Jz=({resumeId:n,email:e,enableNext:t})=>{const{resumeInfo:r,setResumeInfo:i}=T.useContext(Ai),[o,l]=T.useState((r==null?void 0:r.summary)||""),[u,d]=T.useState(!1),[p,m]=T.useState();T.useEffect(()=>{o&&i(S=>({...S,summary:o}))},[o]);const v=async()=>{var S;d(!0);try{const I=Yz.replace("{jobTitle}",((S=r==null?void 0:r.personalDetail)==null?void 0:S.jobTitle)||"your job title"),P=await(await T_.sendMessage(I)).response.text(),V=P.startsWith("[")?P:`[${P}]`,U=JSON.parse(V);m(U)}catch(I){console.error("Error generating summaries:",I),an.error("Failed to generate summaries")}finally{d(!1)}},x=async S=>{S.preventDefault(),d(!0);try{const I=Xr(hr),R=ts(I,`usersByEmail/${e}/resumes`,`resume-${n}`);await $a(R,{summary:o},{merge:!0}),t(!0),an.success("Details Updated")}catch(I){console.error("Error updating document:",I),an.error("Failed to update details")}finally{d(!1)}},_=S=>{l(S)};return y.jsxs("div",{children:[y.jsxs("div",{className:"p-5 shadow-lg rounded-lg border-t-primary border-t-4 mt-10",children:[y.jsx("h2",{className:"font-bold text-lg",children:"Summary Detail"}),y.jsx("p",{children:"Add Summary for your job title"}),y.jsxs("form",{className:"mt-7",onSubmit:x,children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsx("label",{children:"Add Summary"}),y.jsxs(vt,{size:"sm",variant:"outline",className:"border-primary text-primary flex gap-2",type:"button",onClick:v,children:[y.jsx(zy,{className:"h-4 w-4"}),"Generate from AI"]})]}),y.jsx(E_,{className:"mt-5",required:!0,onChange:S=>l(S.target.value),value:o,placeholder:"Write your job summary here..."}),y.jsx("div",{className:"mt-2 flex justify-end",children:y.jsx(vt,{disabled:u,type:"submit",children:u?y.jsx(Ti,{className:"animate-spin"}):"Save"})})]})]}),p&&y.jsxs("div",{className:"my-5",children:[y.jsx("h2",{className:"font-bold text-lg",children:"Suggestions"}),p.map((S,I)=>y.jsxs("div",{className:"p-5 shadow-lg my-4 rounded-lg cursor-pointer",onClick:()=>_(S.summary),children:[y.jsxs("h2",{className:"font-bold my-1 text-primary",children:["Level: ",y.jsx("span",{className:"text-red-500",children:S.experience_level})]}),y.jsx("p",{children:S.summary})]},I))]})]})};var mn=function(){return mn=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},mn.apply(this,arguments)};function Dp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function q1(n){if(n){var e=n.textContent,t=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/;n.style.direction=e&&t.test(e[0])?"rtl":"ltr"}}function kA(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.filter(Boolean).join(" ")}function Xz(){if(document.selection)return document.selection.createRange().parentElement();var n=window.getSelection();if(n&&n.rangeCount>0)return n.getRangeAt(0).startContainer.parentNode||void 0}function Q1(n){return n?n.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>"):""}function Zz(n){var e=document.createTextNode("");n.appendChild(e);var t=document.activeElement===n;if(e!==null&&e.nodeValue!==null&&t){var r=window.getSelection();if(r!==null){var i=document.createRange();i.setStart(e,e.nodeValue.length),i.collapse(!0),r.removeAllRanges(),r.addRange(i)}n instanceof HTMLElement&&n.focus()}}function NA(n,e){typeof e=="function"?e(n):typeof e=="object"&&e&&(e.current=n)}var e$=ee.memo(ee.forwardRef(function(e,t){var r=e.className,i=e.disabled,o=e.tagName,l=e.value,u=l===void 0?"":l,d=e.placeholder,p=Dp(e,["className","disabled","tagName","value","placeholder"]),m=ee.useRef(),v=ee.useRef(u),x=ee.useRef(p);return ee.useEffect(function(){x.current=p;var _=m.current;_&&Q1(v.current)!==Q1(u)&&(v.current=u,_.innerHTML=u,Zz(_))}),ee.useMemo(function(){function _(R){m.current=R,q1(R),NA(R,t)}function S(R){var P,V,U=m.current;if(U){var G=U.innerHTML;G!==v.current&&((V=(P=x.current).onChange)===null||V===void 0||V.call(P,mn(mn({},R),{target:{value:G,name:p.name}}))),q1(U),v.current=G}}var I=kA("rsw-ce",r);return ee.createElement(o||"div",mn(mn({},p),{className:I,contentEditable:!i,dangerouslySetInnerHTML:{__html:u},onBlur:function(R){return(x.current.onBlur||S)(R)},onInput:S,onKeyDown:function(R){return(x.current.onKeyDown||S)(R)},onKeyUp:function(R){return(x.current.onKeyUp||S)(R)},placeholder:d,ref:_}))},[r,i,d,o])})),DA=ee.createContext(void 0);function OA(n){var e=n.children,t=ee.useState({htmlMode:!1,update:o}),r=t[0],i=t[1];function o(l){i(function(u){return mn(mn({},u),l)})}return ee.createElement(DA.Provider,{value:r},e)}function hd(){var n=ee.useContext(DA);if(!n)throw new Error("You should wrap your component by EditorProvider");return n}var Y1=[],oc=[];function t$(n,e){if(n&&typeof document<"u"){var t,r=e.prepend===!0?"prepend":"append",i=e.singleTag===!0,o=typeof e.container=="string"?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(i){var l=Y1.indexOf(o);l===-1&&(l=Y1.push(o)-1,oc[l]={}),t=oc[l]&&oc[l][r]?oc[l][r]:oc[l][r]=u()}else t=u();n.charCodeAt(0)===65279&&(n=n.substring(1)),t.styleSheet?t.styleSheet.cssText+=n:t.appendChild(document.createTextNode(n))}function u(){var d=document.createElement("style");if(d.setAttribute("type","text/css"),e.attributes)for(var p=Object.keys(e.attributes),m=0;m<p.length;m++)d.setAttribute(p[m],e.attributes[p[m]]);var v=r==="prepend"?"afterbegin":"beforeend";return o.insertAdjacentElement(v,d),d}}var n$=".rsw-editor{border:1px solid #ddd;border-radius:.375rem;display:flex;flex-direction:column;min-height:100px;overflow:hidden}.rsw-ce{flex:1 0 auto;padding:.5rem}.rsw-ce:focus{outline:1px solid #668}.rsw-ce[contentEditable=true]:empty:not(:focus):before{color:grey;content:attr(placeholder);pointer-events:none}.rsw-html{background:transparent;border:none;font-family:monospace,Courier New}.rsw-separator{align-self:stretch;border-right:1px solid #ddd;display:flex;margin:0 3px}.rsw-dd{box-sizing:border-box;outline:none}.rsw-btn{background:transparent;border:0;color:#222;cursor:pointer;font-size:1em;height:2em;outline:none;padding:0;width:2em}.rsw-btn:hover{background:#eaeaea}.rsw-btn[data-active=true]{background:#e0e0e0}.rsw-toolbar{align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;display:flex}";t$(n$,{});var MA=ee.forwardRef(function(e,t){var r=e.autoFocus,i=e.children,o=e.containerProps,l=e.onSelect,u=Dp(e,["autoFocus","children","containerProps","onSelect"]),d=hd();ee.useEffect(function(){return document.addEventListener("click",p),function(){return document.removeEventListener("click",p)}});function p(_){var S;_.target!==d.$el&&(!((S=d.$el)===null||S===void 0)&&S.contains(_.target)||d.update({$selection:void 0}))}function m(_){l==null||l(_),d.update({$selection:Xz()})}function v(_){d.update({$el:_}),NA(_,t),r&&_&&d.$el===void 0&&_.focus()}var x=kA("rsw-editor",o==null?void 0:o.className);return d.htmlMode?ee.createElement("div",mn({},o,{className:x}),i,ee.createElement("textarea",mn({},u,{className:"rsw-ce rsw-html"}))):ee.createElement("div",mn({},o,{className:x}),i,ee.createElement(e$,mn({},u,{ref:v,onSelect:m})))});function r$(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},ee.createElement("path",{fill:"currentColor",d:"M6.99938 12.998v-2H20.9994v2H6.99938zm0 6.0001v-2H20.9994v2H6.99938zm0-12.00001v-2H20.9994v2H6.99938zm-4 1v-3h-1v-1h2v4h-1zm-1 9.00001v-1h3v4h-3v-1h2v-.5h-1v-1h1v-.5h-2zM4.25 10c.41421 0 .75.3358.75.75 0 .2024-.08017.3861-.2105.521L3.11983 13H5v1H2v-.9218L4 11H2v-1h2.25z"}))}function i$(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},ee.createElement("path",{fill:"currentColor",d:"M7 5h14v2H7V5zm0 8v-2h14v2H7zM4 4.50001c.83 0 1.5.66992 1.5 1.5 0 .83007-.67 1.5-1.5 1.5s-1.5-.66993-1.5-1.5c0-.83008.67-1.5 1.5-1.5zM4 10.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM7 19v-2h14v2H7zm-3-2.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"}))}var LA=is("Bold","𝐁","bold"),VA=is("Bullet list",ee.createElement(i$,null),"insertUnorderedList"),jA=is("Clear formatting","T̲ₓ","removeFormat"),FA=is("Italic","𝑰","italic"),s$=is("Strike through",ee.createElement("s",null,"ab"),"strikeThrough"),UA=is("Link","🔗",function(n){var e=n.$selection;(e==null?void 0:e.nodeName)==="A"?document.execCommand("unlink"):document.execCommand("createLink",!1,prompt("URL","")||void 0)}),BA=is("Numbered list",ee.createElement(r$,null),"insertOrderedList"),zA=is("Redo","↷","redo"),$A=is("Underline",ee.createElement("span",{style:{textDecoration:"underline"}},"𝐔"),"underline"),HA=is("Undo","↶","undo");function is(n,e,t){return r.displayName=n.replace(/\s/g,""),r;function r(i){var o=hd(),l=o.$el,u=o.$selection,d=!1;typeof t=="string"&&(d=!!u&&document.queryCommandState(t));function p(m){m.preventDefault(),document.activeElement!==l&&(l==null||l.focus()),typeof t=="function"?t(o):document.execCommand(t)}return o.htmlMode?null:ee.createElement("button",mn({className:"rsw-btn","data-active":d,onMouseDown:p,tabIndex:-1,title:n,type:"button"},i),e)}}var GA=o$("Styles",[["Normal","formatBlock","DIV"],["𝗛𝗲𝗮𝗱𝗲𝗿 𝟭","formatBlock","H1"],["Header 2","formatBlock","H2"],["𝙲𝚘𝚍𝚎","formatBlock","PRE"]]);function o$(n,e){return t.displayName=n,t;function t(r){var i=hd(),o=i.$el,l=i.$selection,u=i.htmlMode;if(u)return null;var d=e.findIndex(function(m){return m[1]==="formatBlock"&&(l==null?void 0:l.nodeName)===m[2]});return ee.createElement(a$,mn({},r,{items:e,onChange:p,selected:d,tabIndex:-1,title:n}));function p(m){var v=m.target,x=v.value,_=parseInt(x,10),S=e[_]||[],I=S[1],R=S[2];m.preventDefault(),document.activeElement!==o&&(o==null||o.focus()),typeof I=="function"?I(i):I&&document.execCommand(I,!1,R),setTimeout(function(){return v.value=x},10)}}}function a$(n){var e=n.items,t=n.selected,r=Dp(n,["items","selected"]);return ee.createElement("select",mn({},r,{value:t,className:"rsw-dd"}),ee.createElement("option",{hidden:!0},r.title),e.map(function(i,o){return ee.createElement("option",{key:i[2],value:o},i[0])}))}function WA(n){var e=Dp(n,[]),t=hd();function r(){t.update({htmlMode:!t.htmlMode})}return ee.createElement("button",mn({className:"rsw-btn","data-active":t.htmlMode,onClick:r,tabIndex:-1,title:"HTML mode",type:"button"},e),"</>")}function Eo(){var n=hd();return n.htmlMode?null:ee.createElement("div",{className:"rsw-separator"})}function KA(n){return ee.createElement("div",mn({},n,{className:"rsw-toolbar"}))}ee.forwardRef(function(e,t){return ee.createElement(OA,null,ee.createElement(MA,mn({},e,{ref:t}),ee.createElement(KA,null,ee.createElement(HA,null),ee.createElement(zA,null),ee.createElement(Eo,null),ee.createElement(LA,null),ee.createElement(FA,null),ee.createElement($A,null),ee.createElement(s$,null),ee.createElement(Eo,null),ee.createElement(BA,null),ee.createElement(VA,null),ee.createElement(Eo,null),ee.createElement(UA,null),ee.createElement(jA,null),ee.createElement(WA,null),ee.createElement(Eo,null),ee.createElement(GA,null))))});const l$="Forget everything from previous Promtp request provide me output for this,{positionTitle},Depending on the position title and give me  4-5 ats friendly points that are one liners for my experience in resume,give me result in HTML Format and give me the points directly eg: Developed and deployed machine learning models. Like this just string nothing else without any kind of object heirarchy.",qA=({onRichTextEditorChange:n,index:e,defaultValue:t})=>{const[r,i]=T.useState(t),{resumeInfo:o,setResumeInfo:l}=T.useContext(Ai),[u,d]=T.useState(!1),p=async()=>{var _;if(d(!0),!o.experience[e].title){an.error("Please add position title");return}console.log(o.experience[e].title);const m=l$.replace("{positionTitle}",(_=o==null?void 0:o.experience[e])==null?void 0:_.title);console.log(m);const v=await T_.sendMessage(m);console.log(v.response.text());const x=v.response.text();d(!1),i(x.replace("[","").replace("]","").replace(/"/g,""))};return y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between my-2",children:[y.jsx("label",{className:"text-xs",children:"Summary"}),y.jsxs(vt,{onClick:p,variant:"outline",size:"sm",className:"flex gap-2 border-primary text-primary",children:[y.jsx(zy,{className:"h-4 w-4"}),u?y.jsx(Ti,{className:"animate-spin"}):"Generate from AI"]})]}),y.jsx(OA,{children:y.jsx(MA,{value:r,onChange:m=>{i(m.target.value),n(m)},children:y.jsxs(KA,{children:[y.jsx(HA,{}),y.jsx(zA,{}),y.jsx(Eo,{}),y.jsx(LA,{}),y.jsx(FA,{}),y.jsx($A,{}),y.jsx(Eo,{}),y.jsx(VA,{}),y.jsx(BA,{}),y.jsx(Eo,{}),y.jsx(UA,{}),y.jsx(jA,{}),y.jsx(WA,{}),y.jsx(Eo,{}),y.jsx(GA,{})]})})})]})},J1={title:"",companyName:"",city:"",state:"",startDate:"",endDate:"",workSummery:""},u$=({resumeId:n,email:e,enableNext:t})=>{const[r,i]=T.useState([J1]),{resumeInfo:o,setResumeInfo:l}=T.useContext(Ai),[u,d]=T.useState(!1);T.useEffect(()=>{var S;((S=o==null?void 0:o.experience)==null?void 0:S.length)>0&&i(o.experience)},[o==null?void 0:o.experienc]),T.useEffect(()=>{l(S=>({...S,experience:r}))},[r,l]);const p=(S,I)=>{const{name:R,value:P}=I.target;i(V=>{const U=[...V];return U[S]={...U[S],[R]:P},U})},m=(S,I,R)=>{i(P=>{const V=[...P];return V[R]={...V[R],[I]:S.target.value},V})},v=()=>{i(S=>[...S,{...J1}])},x=()=>{r.length>1&&i(S=>S.slice(0,-1))},_=async()=>{d(!0);try{const S=Xr(hr),I=ts(S,`usersByEmail/${e}/resumes`,`resume-${n}`);await $a(I,{experience:r},{merge:!0}),l(R=>({...R,experience:r})),an.success("Details updated!"),t(!0)}catch(S){console.error("Error saving to Firestore:",S),an.error("Error updating details!")}finally{d(!1)}};return y.jsx("div",{children:y.jsxs("div",{className:"p-5 shadow-lg rounded-lg border-t-primary border-t-4 mt-10",children:[y.jsx("h2",{className:"font-bold text-lg",children:"Professional Experience"}),y.jsx("p",{children:"Add your previous job experience"}),y.jsx("div",{children:r.map((S,I)=>y.jsx("div",{children:y.jsxs("div",{className:"grid grid-cols-2 gap-3 border p-3 my-5 rounded-lg",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Position Title"}),y.jsx(xt,{name:"title",value:S.title,onChange:R=>p(I,R)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Company Name"}),y.jsx(xt,{name:"companyName",value:S.companyName,onChange:R=>p(I,R)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"City"}),y.jsx(xt,{name:"city",value:S.city,onChange:R=>p(I,R)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"State"}),y.jsx(xt,{name:"state",value:S.state,onChange:R=>p(I,R)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Start Date"}),y.jsx(xt,{type:"date",name:"startDate",value:S.startDate,onChange:R=>p(I,R)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"End Date"}),y.jsx(xt,{type:"date",name:"endDate",value:S.endDate,onChange:R=>p(I,R)})]}),y.jsx("div",{className:"col-span-2",children:y.jsx(qA,{index:I,value:S.workSummery,onRichTextEditorChange:R=>m(R,"workSummery",I)})})]})},I))}),y.jsxs("div",{className:"flex justify-between",children:[y.jsxs("div",{className:"flex gap-3",children:[y.jsx(vt,{variant:"outline",onClick:v,className:"text-primary",children:"+ Add More Experience"}),y.jsx(vt,{variant:"outline",onClick:x,className:"text-primary",children:"- Remove"})]}),y.jsx(vt,{disabled:u,onClick:_,children:u?y.jsx(Ti,{className:"animate-spin"}):"Save"})]})]})})},X1={school:"",degree:"",city:"",state:"",fieldOfStudy:"",graduationDate:"",description:""},c$=({resumeId:n,email:e,enableNext:t})=>{const{resumeInfo:r,setResumeInfo:i}=T.useContext(Ai),[o,l]=T.useState(()=>{var R;return((R=r==null?void 0:r.education)==null?void 0:R.length)>0?r.education:[X1]}),[u,d]=T.useState(!1),[p,m]=T.useState(!1);T.useEffect(()=>{p&&(i(R=>({...R,education:o})),m(!1))},[p,i,o]);const v=T.useCallback((R,P)=>{const{name:V,value:U}=P.target;l(G=>{const O=[...G];return O[R][V]=U,O}),m(!0)},[]),x=T.useCallback(()=>{l(R=>[...R,{...X1}]),m(!0)},[]),_=T.useCallback(()=>{o.length>1&&(l(R=>R.slice(0,-1)),m(!0))},[o.length]),S=T.useCallback((R,P,V)=>{l(U=>{const G=[...U];return G[V][P]=R.target.value,G}),m(!0)},[]),I=async()=>{d(!0);try{const R=Xr(hr),P=ts(R,`usersByEmail/${e}/resumes`,`resume-${n}`);await $a(P,{education:o},{merge:!0}),d(!1),an.success("Education details updated!"),t(!0)}catch(R){d(!1),console.error("Error saving to Firestore:",R),an.error("Error updating education details!")}};return y.jsx("div",{children:y.jsxs("div",{className:"p-5 shadow-lg rounded-lg border-t-primary border-t-4 mt-10",children:[y.jsx("h2",{className:"font-bold text-lg",children:"Education"}),y.jsx("p",{children:"Add your educational background"}),y.jsx("div",{children:o.map((R,P)=>y.jsx("div",{children:y.jsxs("div",{className:"grid grid-cols-2 gap-3 border p-3 my-5 rounded-lg",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"School/University"}),y.jsx(xt,{name:"school",value:R.school,onChange:V=>v(P,V)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Degree"}),y.jsx(xt,{name:"degree",value:R.degree,onChange:V=>v(P,V)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"City"}),y.jsx(xt,{name:"city",value:R.city,onChange:V=>v(P,V)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"State"}),y.jsx(xt,{name:"state",value:R.state,onChange:V=>v(P,V)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Field of Study"}),y.jsx(xt,{name:"fieldOfStudy",value:R.fieldOfStudy,onChange:V=>v(P,V)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Graduation Date"}),y.jsx(xt,{type:"date",name:"graduationDate",value:R.graduationDate,onChange:V=>v(P,V)})]}),y.jsx("div",{className:"col-span-2",children:y.jsx(qA,{index:P,value:R.description,onRichTextEditorChange:V=>S(V,"description",P)})})]})},P))}),y.jsxs("div",{className:"flex justify-between",children:[y.jsxs("div",{className:"flex gap-3",children:[y.jsx(vt,{variant:"outline",onClick:x,className:"text-primary",children:"+ Add More Education"}),y.jsx(vt,{variant:"outline",onClick:_,className:"text-primary",children:"- Remove"})]}),y.jsx(vt,{disabled:u,onClick:I,children:u?y.jsx(Ti,{className:"animate-spin"}):"Save"})]})]})})},Z1={category:"",skills:""},d$=({resumeId:n,email:e,enableNext:t})=>{const{resumeInfo:r,setResumeInfo:i}=T.useContext(Ai),[o,l]=T.useState(()=>{var I;return((I=r==null?void 0:r.skills)==null?void 0:I.length)>0?r.skills:[Z1]}),[u,d]=T.useState(!1),[p,m]=T.useState(!1);T.useEffect(()=>{p&&(i(I=>({...I,skills:o})),m(!1))},[p,i,o]);const v=T.useCallback((I,R,P)=>{l(V=>{const U=[...V];return U[I][R]=P,U}),m(!0)},[]),x=T.useCallback(()=>{l(I=>[...I,{...Z1}]),m(!0)},[]),_=T.useCallback(()=>{o.length>1&&(l(I=>I.slice(0,-1)),m(!0))},[o.length]),S=async()=>{d(!0);try{const I=Xr(hr),R=ts(I,`usersByEmail/${e}/resumes`,`resume-${n}`);await $a(R,{skills:o.map(P=>({category:P.category||"",skills:P.skills||""}))},{merge:!0}),d(!1),an.success("Skills updated successfully!"),t(!0)}catch(I){d(!1),console.error("Error saving to Firestore:",I),an.error("Error updating skills!")}};return y.jsx("div",{children:y.jsxs("div",{className:"p-5 shadow-lg rounded-lg border-t-primary border-t-4 mt-10",children:[y.jsx("h2",{className:"font-bold text-lg",children:"Skills"}),y.jsx("p",{children:"Add your technical skills by category"}),y.jsx("div",{children:o.map((I,R)=>y.jsxs("div",{className:"flex flex-col border rounded-lg p-3 mt-3",children:[y.jsxs("div",{className:"w-full mb-2",children:[y.jsx("label",{className:"text-xs",children:"Category"}),y.jsx(xt,{value:I.category,className:"w-full",onChange:P=>v(R,"category",P.target.value)})]}),y.jsxs("div",{className:"w-full",children:[y.jsx("label",{className:"text-xs",children:"Skills (comma-separated)"}),y.jsx(xt,{value:I.skills,className:"w-full",onChange:P=>v(R,"skills",P.target.value)})]})]},R))}),y.jsxs("div",{className:"flex justify-between mt-4",children:[y.jsxs("div",{className:"flex gap-3",children:[y.jsx(vt,{variant:"outline",onClick:x,className:"text-primary",children:"+ Add More Categories"}),y.jsx(vt,{variant:"outline",onClick:_,className:"text-primary",children:"- Remove"})]}),y.jsx(vt,{disabled:u,onClick:S,children:u?y.jsx(Ti,{className:"animate-spin"}):"Save"})]})]})})},eT={name:"",technologies:"",description:"",bullets:[""],liveDemo:""},f$='Given the project name "{projectName}" and technologies "{technologies}", generate a professional project description and 3 key highlights that showcase technical implementation and achievements. Format the response as a JSON object with "description" (brief project overview) and "highlights" (array of 3 bullet points describing key technical achievements).',h$=({resumeId:n,email:e,enableNext:t})=>{const{resumeInfo:r,setResumeInfo:i}=T.useContext(Ai),[o,l]=T.useState(()=>{var C;return((C=r==null?void 0:r.projects)==null?void 0:C.length)>0?r.projects:[eT]}),[u,d]=T.useState(!1),[p,m]=T.useState(!1),[v,x]=T.useState(null),[_,S]=T.useState(null);T.useEffect(()=>{i(C=>({...C,projects:o}))},[o,i]);const I=T.useCallback((C,k,M)=>{l(B=>{const F=[...B];return F[C][k]=M,F})},[]),R=T.useCallback((C,k,M)=>{l(B=>{const F=[...B];return F[C].bullets[k]=M,F})},[]),P=async C=>{if(!o[C].name||!o[C].technologies){an.error("Please enter project name and technologies first");return}m(!0),x(C);try{const k=f$.replace("{projectName}",o[C].name).replace("{technologies}",o[C].technologies),B=await(await T_.sendMessage(k)).response.text(),F=JSON.parse(B);S(F)}catch(k){console.error("Error generating content:",k),an.error("Failed to generate content")}finally{m(!1)}},V=T.useCallback(()=>{_&&v!==null&&(l(C=>{const k=[...C];return k[v]={...k[v],description:_.description,bullets:_.highlights},k}),S(null),an.success("AI content applied successfully"))},[_,v]),U=T.useCallback(()=>{l(C=>[...C,{...eT}])},[]),G=T.useCallback(()=>{o.length>1&&l(C=>C.slice(0,-1))},[o.length]),O=T.useCallback(C=>{l(k=>{const M=[...k];return M[C].bullets.push(""),M})},[]),Y=T.useCallback(C=>{l(k=>{const M=[...k];return M[C].bullets.length>1&&M[C].bullets.pop(),M})},[]),D=async()=>{d(!0);try{const C=Xr(hr),k=ts(C,`usersByEmail/${e}/resumes`,`resume-${n}`);await $a(k,{projects:o},{merge:!0}),an.success("Projects updated successfully"),t(!0)}catch(C){console.error("Error saving:",C),an.error("Failed to update projects")}finally{d(!1)}};return y.jsxs("div",{children:[y.jsxs("div",{className:"p-5 shadow-lg rounded-lg border-t-primary border-t-4 mt-10",children:[y.jsx("h2",{className:"font-bold text-lg",children:"Projects"}),y.jsx("p",{children:"Add your technical projects"}),o.map((C,k)=>y.jsx("div",{className:"border rounded-lg p-3 mt-3",children:y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Project Name"}),y.jsx(xt,{value:C.name,onChange:M=>I(k,"name",M.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Technologies (comma separated)"}),y.jsx(xt,{value:C.technologies,onChange:M=>I(k,"technologies",M.target.value)})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("label",{className:"text-xs",children:"Brief Description"}),y.jsxs(vt,{size:"sm",variant:"outline",className:"border-primary text-primary flex gap-2",onClick:()=>P(k),disabled:p,children:[p&&v===k?y.jsx(Ti,{className:"h-4 w-4 animate-spin"}):y.jsx(zy,{className:"h-4 w-4"}),"Generate from AI"]})]}),y.jsx(E_,{value:C.description,onChange:M=>I(k,"description",M.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Live Demo URL"}),y.jsx(xt,{value:C.liveDemo,onChange:M=>I(k,"liveDemo",M.target.value)})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs",children:"Project Highlights"}),C.bullets.map((M,B)=>y.jsx(xt,{value:M,onChange:F=>R(k,B,F.target.value)},B)),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(vt,{variant:"outline",onClick:()=>O(k),className:"text-primary text-xs",children:"+ Add Bullet"}),y.jsx(vt,{variant:"outline",onClick:()=>Y(k),className:"text-primary text-xs",children:"- Remove Bullet"})]})]})]})},k)),y.jsxs("div",{className:"flex justify-between mt-4",children:[y.jsxs("div",{className:"flex gap-3",children:[y.jsx(vt,{variant:"outline",onClick:U,className:"text-primary",children:"+ Add Project"}),y.jsx(vt,{variant:"outline",onClick:G,className:"text-primary",children:"- Remove Project"})]}),y.jsx(vt,{disabled:u,onClick:D,children:u?y.jsx(Ti,{className:"animate-spin"}):"Save"})]})]}),_&&y.jsxs("div",{className:"mt-5 p-5 shadow-lg rounded-lg",children:[y.jsx("h2",{className:"font-bold text-lg mb-3",children:"AI Generated Content"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold",children:"Description:"}),y.jsx("p",{className:"text-sm",children:_.description})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold",children:"Highlights:"}),y.jsx("ul",{className:"list-disc pl-5",children:_.highlights.map((C,k)=>y.jsx("li",{className:"text-sm",children:C},k))})]}),y.jsx(vt,{onClick:V,className:"w-full",children:"Apply This Content"})]})]})]})};var b_="Popover",[QA,F$]=Fo(b_,[Sp]),pd=Sp(),[p$,Wo]=QA(b_),YA=n=>{const{__scopePopover:e,children:t,open:r,defaultOpen:i,onOpenChange:o,modal:l=!1}=n,u=pd(e),d=T.useRef(null),[p,m]=T.useState(!1),[v=!1,x]=Zh({prop:r,defaultProp:i,onChange:o});return y.jsx(kR,{...u,children:y.jsx(p$,{scope:e,contentId:xa(),triggerRef:d,open:v,onOpenChange:x,onOpenToggle:T.useCallback(()=>x(_=>!_),[x]),hasCustomAnchor:p,onCustomAnchorAdd:T.useCallback(()=>m(!0),[]),onCustomAnchorRemove:T.useCallback(()=>m(!1),[]),modal:l,children:t})})};YA.displayName=b_;var JA="PopoverAnchor",m$=T.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=Wo(JA,t),o=pd(t),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=i;return T.useEffect(()=>(l(),()=>u()),[l,u]),y.jsx(n_,{...o,...r,ref:e})});m$.displayName=JA;var XA="PopoverTrigger",ZA=T.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=Wo(XA,t),o=pd(t),l=Yt(e,i.triggerRef),u=y.jsx(Kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":iP(i.open),...r,ref:l,onClick:Ke(n.onClick,i.onOpenToggle)});return i.hasCustomAnchor?u:y.jsx(n_,{asChild:!0,...o,children:u})});ZA.displayName=XA;var I_="PopoverPortal",[g$,y$]=QA(I_,{forceMount:void 0}),eP=n=>{const{__scopePopover:e,forceMount:t,children:r,container:i}=n,o=Wo(I_,e);return y.jsx(g$,{scope:e,forceMount:t,children:y.jsx(Zi,{present:t||o.open,children:y.jsx(np,{asChild:!0,container:i,children:r})})})};eP.displayName=I_;var iu="PopoverContent",tP=T.forwardRef((n,e)=>{const t=y$(iu,n.__scopePopover),{forceMount:r=t.forceMount,...i}=n,o=Wo(iu,n.__scopePopover);return y.jsx(Zi,{present:r||o.open,children:o.modal?y.jsx(v$,{...i,ref:e}):y.jsx(_$,{...i,ref:e})})});tP.displayName=iu;var v$=T.forwardRef((n,e)=>{const t=Wo(iu,n.__scopePopover),r=T.useRef(null),i=Yt(e,r),o=T.useRef(!1);return T.useEffect(()=>{const l=r.current;if(l)return qy(l)},[]),y.jsx(ip,{as:Ao,allowPinchZoom:!0,children:y.jsx(nP,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(n.onCloseAutoFocus,l=>{var u;l.preventDefault(),o.current||(u=t.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ke(n.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,p=u.button===2||d;o.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:Ke(n.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),_$=T.forwardRef((n,e)=>{const t=Wo(iu,n.__scopePopover),r=T.useRef(!1),i=T.useRef(!1);return y.jsx(nP,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=n.onCloseAutoFocus)==null||l.call(n,o),o.defaultPrevented||(r.current||(u=t.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var d,p;(d=n.onInteractOutside)==null||d.call(n,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((p=t.triggerRef.current)==null?void 0:p.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),nP=T.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:m,...v}=n,x=Wo(iu,t),_=pd(t);return Ky(),y.jsx(tp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:y.jsx(ep,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:p,onDismiss:()=>x.onOpenChange(!1),children:y.jsx(NR,{"data-state":iP(x.open),role:"dialog",id:x.contentId,..._,...v,ref:e,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rP="PopoverClose",w$=T.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=Wo(rP,t);return y.jsx(Kt.button,{type:"button",...r,ref:e,onClick:Ke(n.onClick,()=>i.onOpenChange(!1))})});w$.displayName=rP;var E$="PopoverArrow",x$=T.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=pd(t);return y.jsx(DR,{...i,...r,ref:e})});x$.displayName=E$;function iP(n){return n?"open":"closed"}var T$=YA,b$=ZA,I$=eP,sP=tP;const S$=T$,R$=b$,oP=T.forwardRef(({className:n,align:e="center",sideOffset:t=4,...r},i)=>y.jsx(I$,{children:y.jsx(sP,{ref:i,align:e,sideOffset:t,className:Dt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...r})}));oP.displayName=sP.displayName;const C$=()=>{const n=["#FF5733","#33FF57","#3357FF","#FF33A1","#A133FF","#33FFA1","#888888","#7133FF","#FF335A","#33A1FF","#ff0000","#e300cc","#33ffda","#00399c","#000000"],{resumeInfo:e,setResumeInfo:t}=T.useContext(Ai),[r,i]=T.useState();Yh();const o=l=>{i(l),t({...e,themeColor:l})};return y.jsxs(S$,{children:[y.jsx(R$,{asChild:!0,children:y.jsxs(vt,{className:"flex gap-2",variant:"outline",size:"sm",children:[y.jsx(ZD,{}),"Theme"]})}),y.jsxs(oP,{children:[y.jsx("h2",{className:"mb-2 text-sm font-bold",children:"Select theme color"}),y.jsx("div",{className:"grid grid-cols-5 gap-3",children:n.map((l,u)=>y.jsx("div",{onClick:()=>o(l),className:`h-5 w-5 rounded-full cursor-pointer border hover:border-black ${r==l&&"border border-black"}`,style:{background:l}},u))})]})]})},A$=()=>{const[n,e]=T.useState(1),[t,r]=T.useState(!0),{resumeId:i,email:o}=Yh();return y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex gap-5",children:[y.jsx(Ea,{to:"/dashboard",children:y.jsx(vt,{children:y.jsx(JD,{})})}),y.jsx(C$,{})]}),y.jsxs("div",{className:"flex gap-2",children:[n>1&&y.jsx(vt,{size:"sm",onClick:()=>e(n-1),className:"",children:y.jsx(VD,{})}),y.jsxs(vt,{onClick:()=>e(n+1),disabled:!t,className:"flex gap-2",size:"sm",children:["Next ",y.jsx(DT,{})]})]})]}),n===1?y.jsx(mz,{resumeId:i,email:o,enableNext:l=>r(l)}):n===2?y.jsx(Jz,{resumeId:i,email:o,enableNext:l=>r(l)}):n===3?y.jsx(u$,{resumeId:i,email:o,enableNext:l=>r(l)}):n===4?y.jsx(d$,{resumeId:i,email:o,enableNext:l=>r(l)}):n===5?y.jsx(h$,{resumeId:i,email:o,enableNext:l=>r(l)}):n===6?y.jsx(c$,{resumeId:i,email:o,enableNext:l=>r(l)}):n===7?y.jsx(mT,{to:`/dashboard/${o}/${i}/view`}):null]})},P$=()=>{const n=Yh(),[e,t]=T.useState(null),r=Xr(hr);T.useEffect(()=>{i()},[]);const i=async()=>{try{console.log("Params:",n);const o=ts(r,"usersByEmail",n.email,"resumes",`resume-${n.resumeId}`);console.log("Document Reference:",o);const l=await DS(o);l.exists()?(console.log("Fetched Document Data:",l.data()),console.log(l.data()),console.log("resumeDoc.data()"),t(l.data())):(console.error("No such document! Check Firestore path."),t(null))}catch(o){console.error("Error fetching resume:",o)}};return y.jsx(Ai.Provider,{value:{resumeInfo:e,setResumeInfo:t},children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 p-10 gap-10",children:[y.jsx(A$,{}),y.jsx(IA,{})]})})},k$=l2([{element:y.jsx(Y2,{}),children:[{path:"/",element:y.jsx(NO,{}),index:!0},{path:"/register",element:y.jsx(HB,{})},{element:y.jsx(GB,{}),children:[{path:"/dashboard",element:y.jsx($B,{})},{path:"/dashboard/:email/:resumeId/edit",element:y.jsx(P$,{})},{path:"/dashboard/:email/:resumeId/view",element:y.jsx(pz,{})}]}]}]);_k.createRoot(document.getElementById("root")).render(y.jsx(w2,{router:k$}));
