name: Checkout repository
    uses: actions/checkout@v4

name: Setup Pages
    uses: actions/configure-pages@v4
name: Set up Node.js
    uses: actions/setup-node@v4
    with:
      node-version: '20'
      cache: 'npm'
      cache-dependency-path: '**/package-lock.json'
name: Install dependencies
    run: |
      cd vite-project
      npm ci
name: Build
    run: |
      cd vite-project
      npm run build
    env:
      VITE_GEMINI_AI_API: ${{ secrets.VITE_GEMINI_AI_API }}
      VITE_FIREBASE_API_KEY: ${{ secrets.VITE_FIREBASE_API_KEY }}
      VITE_FIREBASE_AUTH_DOMAIN: ${{ secrets.VITE_FIREBASE_AUTH_DOMAIN }}
      VITE_FIREBASE_PROJECT_ID: ${{ secrets.VITE_FIREBASE_PROJECT_ID }}
      VITE_FIREBASE_STORAGE_BUCKET: ${{ secrets.VITE_FIREBASE_STORAGE_BUCKET }}
      VITE_FIREBASE_MESSAGING_SENDER_ID: ${{ secrets.VITE_FIREBASE_MESSAGING_SENDER_ID }}
      VITE_FIREBASE_APP_ID: ${{ secrets.VITE_FIREBASE_APP_ID }}

name: Upload artifact
    uses: actions/upload-pages-artifact@v3
    with:
      path: './vite-project/dist'

name: Deploy to GitHub Pages
    id: deployment
    uses: actions/deploy-pages@v4
